/*! For license information please see main.a1b09f83.js.LICENSE.txt */
(()=>{var e={7391:(e,t,n)=>{"use strict";n.a(e,(async(e,r)=>{try{n.d(t,{A:()=>u});n(5043),n(3737);var o=n(6916),i=n(579),s=e([o]);function l(){return(0,i.jsx)("div",{className:"bg-neutral-dark",children:(0,i.jsx)(o.L,{})})}o=(s.then?(await s)():s)[0];const u=l;r()}catch(a){r(a)}}))},6385:(e,t,n)=>{"use strict";n.d(t,{Lx:()=>o,U:()=>a,eZ:()=>i,kr:()=>s});const r={DEFAULT_MODEL:"models/gemini-2.0-flash-live-001",DEFAULT_VOICE:"Puck",VAD_SETTINGS:{START_OF_SPEECH_SENSITIVITY:"START_SENSITIVITY_HIGH",END_OF_SPEECH_SENSITIVITY:"END_SENSITIVITY_LOW",SILENCE_DURATION_MS:1e3,PREFIX_PADDING_MS:200},TIMER_SETTINGS:{INTRODUCTION_DELAY_MS:1e3,TIME_WARNING_BEFORE_END_MS:6e4,FINAL_WARNING_BEFORE_END_MS:7e3},DEFAULT_RESPONSE_MODALITY:"audio",get DEFAULT_SILENCE_DURATION_MS(){return this.VAD_SETTINGS.SILENCE_DURATION_MS},get DEFAULT_PREFIX_PADDING_MS(){return this.VAD_SETTINGS.PREFIX_PADDING_MS}},o=()=>({NODE_ENV:"production",PUBLIC_URL:"/Code-review-simulator",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_AI_MODEL||r.DEFAULT_MODEL),i=()=>({NODE_ENV:"production",PUBLIC_URL:"/Code-review-simulator",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_AI_VOICE||r.DEFAULT_VOICE),s=()=>({startOfSpeechSensitivity:r.VAD_SETTINGS.START_OF_SPEECH_SENSITIVITY,endOfSpeechSensitivity:r.VAD_SETTINGS.END_OF_SPEECH_SENSITIVITY,silenceDurationMs:r.VAD_SETTINGS.SILENCE_DURATION_MS,prefixPaddingMs:r.VAD_SETTINGS.PREFIX_PADDING_MS}),a=()=>({introductionDelay:r.TIMER_SETTINGS.INTRODUCTION_DELAY_MS,timeWarningBeforeEnd:r.TIMER_SETTINGS.TIME_WARNING_BEFORE_END_MS,finalWarningBeforeEnd:r.TIMER_SETTINGS.FINAL_WARNING_BEFORE_END_MS})},5206:(e,t,n)=>{"use strict";n.d(t,{C:()=>p,P:()=>m});var r=n(5043),o=n(1862),i=n(7283);var s=n(3536),a=n(4907);class l extends i{get status(){return this._status}get session(){return this._session}get model(){return this._model}getConfig(){return{...this.config}}constructor(e){super(),this.client=void 0,this.callbacks={onopen:this.onopen,onmessage:this.onmessage,onerror:this.onerror,onclose:this.onclose},this._status="disconnected",this.sessionResumptionHandle="",this.reconnectionAttempts=0,this.maxReconnectionAttempts=1,this.manualDisconnect=!1,this._session=null,this._model=null,this.config=null,this.client=new o.M4(e),this.send=this.send.bind(this),this.onopen=this.onopen.bind(this),this.onerror=this.onerror.bind(this),this.onclose=this.onclose.bind(this),this.onmessage=this.onmessage.bind(this)}log(e,t){const n={date:new Date,type:e,message:t};this.emit("log",n)}async connect(e,t){if("connected"===this._status||"connecting"===this._status)return!1;this._status="connecting",this.manualDisconnect=!1,this.config=t,this._model=e;const n={onopen:this.onopen,onmessage:this.onmessage,onerror:this.onerror,onclose:this.onclose};try{this._session=await this.client.live.connect({model:e,config:t,callbacks:n})}catch(r){return console.error("Error connecting to GenAI Live:",r),this._status="disconnected",!1}return this._status="connected",!0}disconnect(){var e;return!!this.session&&(this.manualDisconnect=!0,console.log("\ud83d\udd0d Disconnect Debug:",{hasSessionHandle:!!this.sessionResumptionHandle,sessionHandle:this.sessionResumptionHandle,hasConfig:!!this.config,hasModel:!!this._model}),this.log("client.disconnect",`Session handle: ${this.sessionResumptionHandle||"none"} - preserving for resumption`),null===(e=this.session)||void 0===e||e.close(),this._session=null,this._status="disconnected",this.log("client.close","Disconnected - session can be resumed"),!0)}terminateSession(){console.log("\ud83d\uded1 Terminating session completely - no resumption possible"),this.manualDisconnect=!0,this.sessionResumptionHandle=void 0,this.config=null,this._model=null,this.reconnectionAttempts=this.maxReconnectionAttempts,this.session&&(this.session.close(),this._session=null),this._status="disconnected",this.log("client.terminate","Session terminated completely")}onopen(){this.reconnectionAttempts=0,this.log("client.open","Connected"),this.emit("open")}onerror(e){this.log("server.error",e.message)}async onclose(e){if(console.log("\ud83d\udd0c WebSocket CloseEvent received"),this._status="disconnected",this._session=null,console.log("\ud83d\udd0d CloseEvent Debug:",{code:e.code,reason:e.reason,hasSessionHandle:!!this.sessionResumptionHandle,hasConfig:!!this.config,hasModel:!!this._model,reconnectionAttempts:this.reconnectionAttempts,maxAttempts:this.maxReconnectionAttempts,manualDisconnect:this.manualDisconnect}),1011===e.code&&this.sessionResumptionHandle&&this.config&&this._model&&this.reconnectionAttempts<this.maxReconnectionAttempts&&!this.manualDisconnect){this.reconnectionAttempts++,this.log("client.reconnect",`\ud83d\udd04 Attempting automatic reconnection with session resumption (attempt ${this.reconnectionAttempts}/${this.maxReconnectionAttempts})`);const t={...this.config,sessionResumption:{handle:this.sessionResumptionHandle}};setTimeout((async()=>{try{console.log("\ud83d\udd04 Executing automatic reconnection..."),await this.connect(this._model,t)}catch(e){console.error("\u274c Error during automatic reconnection:",e),this.log("client.reconnect.error",e.message)}}),500)}else console.log("\ud83d\udeab Automatic reconnection skipped:",{wrongCode:1011!==e.code,noSessionHandle:!this.sessionResumptionHandle,noConfig:!this.config,noModel:!this._model,maxAttemptsReached:this.reconnectionAttempts>=this.maxReconnectionAttempts,wasManualDisconnect:this.manualDisconnect}),this.log("server.close","disconnected "+(e.reason?`with reason: ${e.reason}`:"")),this.emit("close",e)}async onmessage(e){if(e.setupComplete)return this.log("server.send","setupComplete"),void this.emit("setupcomplete");if(e.toolCall)return this.log("server.toolCall",e),void this.emit("toolcall",e.toolCall);if(e.toolCallCancellation)return this.log("server.toolCallCancellation",e),void this.emit("toolcallcancellation",e.toolCallCancellation);if(e.sessionResumptionUpdate)"newHandle"in e.sessionResumptionUpdate&&(this.sessionResumptionHandle=e.sessionResumptionUpdate.newHandle);else if(e.serverContent){const{serverContent:n}=e;if("interrupted"in n)return this.log("server.content","interrupted"),void this.emit("interrupted");if("turnComplete"in n&&(this.log("server.content","turnComplete"),this.emit("turncomplete")),"outputTranscription"in n&&n.outputTranscription){const e="string"===typeof n.outputTranscription?n.outputTranscription:n.outputTranscription.text||JSON.stringify(n.outputTranscription);this.emit("transcript",e)}if("modelTurn"in n){var t;let r=(null===(t=n.modelTurn)||void 0===t?void 0:t.parts)||[];const o=r.filter((e=>{var t;return e.inlineData&&(null===(t=e.inlineData.mimeType)||void 0===t?void 0:t.startsWith("audio/pcm"))})),i=o.map((e=>{var t;return null===(t=e.inlineData)||void 0===t?void 0:t.data})),l=(0,s.difference)(r,o);if(i.forEach((e=>{if(e){const t=(0,a.Ms)(e);this.emit("audio",t),this.log("server.audio",`buffer (${t.byteLength})`)}})),!l.length)return;r=l;const u={modelTurn:{parts:r}};this.emit("content",u),this.log("server.content",e)}}else console.log("received unmatched message",e)}sendRealtimeInput(e){let t=!1,n=!1;for(const i of e){var r;if(null===(r=this.session)||void 0===r||r.sendRealtimeInput({media:i}),i.mimeType.includes("audio")&&(t=!0),i.mimeType.includes("image")&&(n=!0),t&&n)break}const o=t&&n?"audio + video":t?"audio":n?"video":"unknown";this.log("client.realtimeInput",o)}sendToolResponse(e){var t;e.functionResponses&&e.functionResponses.length&&(null===(t=this.session)||void 0===t||t.sendToolResponse({functionResponses:e.functionResponses}),this.log("client.toolResponse",e))}send(e){var t;let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];null===(t=this.session)||void 0===t||t.sendClientContent({turns:e,turnComplete:n}),this.log("client.send",{turns:Array.isArray(e)?e:[e],turnComplete:n})}}var u=n(5918);class c{constructor(e){this.context=e,this.audioQueue=[],this.isPlaying=!1,this.sampleRate=24e3,this.bufferSize=7680,this.processingBuffer=new Float32Array(0),this.scheduledTime=0,this.gainNode=void 0,this.source=void 0,this.isStreamComplete=!1,this.checkInterval=null,this.initialBufferTime=.2,this.endOfQueueAudioSource=null,this.onComplete=()=>{},this.gainNode=this.context.createGain(),this.source=this.context.createBufferSource(),this.gainNode.connect(this.context.destination),this.addPCM16=this.addPCM16.bind(this)}async addWorklet(e,t,n){let r=u._.get(this.context);if(r&&r[e])return r[e].handlers.push(n),Promise.resolve(this);r||(u._.set(this.context,{}),r=u._.get(this.context)),r[e]={handlers:[n]};const o=(0,u.h)(e,t);await this.context.audioWorklet.addModule(o);const i=new AudioWorkletNode(this.context,e);return r[e].node=i,this}addPCM16(e){const t=new Float32Array(e.length/2),n=new DataView(e.buffer);for(let i=0;i<e.length/2;i++)try{const e=n.getInt16(2*i,!0);t[i]=e/32768}catch(o){console.error(o)}const r=new Float32Array(this.processingBuffer.length+t.length);for(r.set(this.processingBuffer),r.set(t,this.processingBuffer.length),this.processingBuffer=r;this.processingBuffer.length>=this.bufferSize;){const e=this.processingBuffer.slice(0,this.bufferSize);this.audioQueue.push(e),this.processingBuffer=this.processingBuffer.slice(this.bufferSize)}this.isPlaying||(this.isPlaying=!0,this.scheduledTime=this.context.currentTime+this.initialBufferTime,this.scheduleNextBuffer())}createAudioBuffer(e){const t=this.context.createBuffer(1,e.length,this.sampleRate);return t.getChannelData(0).set(e),t}scheduleNextBuffer(){for(;this.audioQueue.length>0&&this.scheduledTime<this.context.currentTime+.5;){const e=this.audioQueue.shift(),t=this.createAudioBuffer(e),n=this.context.createBufferSource();0===this.audioQueue.length&&(this.endOfQueueAudioSource&&(this.endOfQueueAudioSource.onended=null),this.endOfQueueAudioSource=n,n.onended=()=>{this.audioQueue.length||this.endOfQueueAudioSource!==n||(this.endOfQueueAudioSource=null,this.onComplete())}),n.buffer=t,n.connect(this.gainNode);const r=u._.get(this.context);r&&Object.entries(r).forEach((e=>{let[t,r]=e;const{node:o,handlers:i}=r;o&&(n.connect(o),o.port.onmessage=function(e){i.forEach((t=>{t.call(o.port,e)}))},o.connect(this.context.destination))}));const o=Math.max(this.scheduledTime,this.context.currentTime);n.start(o),this.scheduledTime=o+t.duration}if(0===this.audioQueue.length&&0===this.processingBuffer.length)this.isStreamComplete?(this.isPlaying=!1,this.checkInterval&&(clearInterval(this.checkInterval),this.checkInterval=null)):this.checkInterval||(this.checkInterval=window.setInterval((()=>{(this.audioQueue.length>0||this.processingBuffer.length>=this.bufferSize)&&this.scheduleNextBuffer()}),100));else{const e=1e3*(this.scheduledTime-this.context.currentTime);setTimeout((()=>this.scheduleNextBuffer()),Math.max(0,e-50))}}stop(){this.isPlaying=!1,this.isStreamComplete=!0,this.audioQueue=[],this.processingBuffer=new Float32Array(0),this.scheduledTime=this.context.currentTime,this.checkInterval&&(clearInterval(this.checkInterval),this.checkInterval=null),this.gainNode.gain.linearRampToValueAtTime(0,this.context.currentTime+.1),setTimeout((()=>{this.gainNode.disconnect(),this.gainNode=this.context.createGain(),this.gainNode.connect(this.context.destination)}),200)}async resume(){"suspended"===this.context.state&&await this.context.resume(),this.isStreamComplete=!1,this.scheduledTime=this.context.currentTime+this.initialBufferTime,this.gainNode.gain.setValueAtTime(1,this.context.currentTime)}complete(){this.isStreamComplete=!0,this.processingBuffer.length>0?(this.audioQueue.push(this.processingBuffer),this.processingBuffer=new Float32Array(0),this.isPlaying&&this.scheduleNextBuffer()):this.onComplete()}}var d=n(3297);var f=n(579);const h=(0,r.createContext)(void 0),p=e=>{let{apiKey:t,children:n}=e;const o=function(e){const t=(0,r.useMemo)((()=>new l(e)),[e.apiKey]),n=(0,r.useRef)(null),[o,i]=(0,r.useState)(!1),[s,u]=(0,r.useState)(0);(0,r.useEffect)((()=>{n.current||(0,a.es)({id:"audio-out",sampleRate:24e3}).then((e=>{n.current=new c(e),n.current.addWorklet("vumeter-out",d.A,(e=>{u(e.data.volume)})).then((()=>{}))}))}),[n]),(0,r.useEffect)((()=>{const e=()=>{i(!0)},r=()=>{var e;i(!1),null===(e=n.current)||void 0===e||e.stop()},o=()=>{var e;return null===(e=n.current)||void 0===e?void 0:e.stop()},s=e=>{var t;return null===(t=n.current)||void 0===t?void 0:t.addPCM16(new Uint8Array(e))};return t.on("open",e).on("close",r).on("interrupted",o).on("audio",s),()=>{t.off("open",e).off("close",r).off("interrupted",o).off("audio",s)}}),[t]);const f=(0,r.useCallback)((async(e,n)=>{await t.connect(e,n)}),[t]),h=(0,r.useCallback)((async()=>{var e;null===(e=n.current)||void 0===e||e.stop(),t.disconnect()}),[t]);return{client:t,connected:o,connect:f,disconnect:h,volume:s,status:t.status}}({apiKey:t});return(0,f.jsx)(h.Provider,{value:o,children:n})},m=()=>{const e=(0,r.useContext)(h);if(!e)throw new Error("useGenAILiveContext must be used within a GenAILiveProvider");return e}},9962:(e,t,n)=>{"use strict";n.d(t,{r:()=>i});var r=n(5043),o=n(579);const i=e=>{let{totalMs:t,autoStart:n=!1,startTrigger:i=!1,pauseTrigger:s=!1,onTimeUp:a}=e;const[l,u]=(0,r.useState)(t),[c,d]=(0,r.useState)(n),f=(0,r.useRef)(a);(0,r.useEffect)((()=>{f.current=a}),[a]);const h=Math.max(0,Math.min(100,l/t*100)),p=2*Math.PI*45,m=p*(1-h/100);(0,r.useEffect)((()=>{l<=0&&f.current&&(console.log("\u23f0 CountdownTimer - Time expired, calling onTimeUp"),f.current())}),[l]),(0,r.useEffect)((()=>{if(!c||s)return;const e=setInterval((()=>{u((t=>{const n=t-1e3;return n<=0?(clearInterval(e),d(!1),0):n}))}),1e3);return()=>clearInterval(e)}),[c,s]),(0,r.useEffect)((()=>{d(!!i)}),[i]);return(0,o.jsxs)("div",{className:"absolute bottom-5 right-5 z-10 flex flex-col items-center",children:[(0,o.jsxs)("div",{className:"w-20 h-20 relative",children:[(0,o.jsxs)("svg",{className:"w-full h-full",viewBox:"0 0 100 100",children:[(0,o.jsx)("circle",{cx:"50",cy:"50",r:"45",fill:"var(--tokyo-bg-lighter)",stroke:"var(--tokyo-selection)",strokeWidth:"8"}),(0,o.jsx)("circle",{cx:"50",cy:"50",r:"45",fill:"transparent",stroke:h>60?"var(--tokyo-accent)":h>30?"var(--tokyo-purple)":"var(--tokyo-red)",strokeWidth:"8",strokeDasharray:p,strokeDashoffset:m,strokeLinecap:"round",transform:"rotate(-90 50 50)"})]}),s&&c&&(0,o.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,o.jsx)("div",{className:"text-tokyo-fg-bright text-xs bg-tokyo-bg-darker bg-opacity-80 rounded px-1",children:"PAUSED"})})]}),(0,o.jsx)("div",{className:"mt-1 font-medium text-sm text-tokyo-fg-bright",children:(e=>{const t=Math.ceil(e/1e3),n=t%60;return`${Math.floor(t/60)}:${n<10?"0":""}${n}`})(l)})]})}},8777:(e,t,n)=>{"use strict";n.a(e,(async(e,r)=>{try{n.d(t,{A:()=>c});var o=n(5043),i=n(6727),s=n(8227),a=n(579),l=e([s]);s=(l.then?(await l)():l)[0];const u=e=>{if(!e)return"No duration set";if(e<60)return`${e} min`;const t=Math.floor(e/60),n=e%60;return n?`${t}h ${n}m`:`${t}h`},c=()=>{const[e,t]=(0,o.useState)([]),[n,r]=(0,o.useState)(!0),[l,c]=(0,o.useState)(null),[d,f]=(0,o.useState)(null);return(0,o.useEffect)((()=>{!async function(){const{data:e,error:n}=await s.N.from("exams").select().order("created_at",{ascending:!1}).limit(3);n?console.error("Error fetching recent reviews:",n):t(e||[]),r(!1)}();const e=localStorage.getItem("newlyCreatedExamId"),n=localStorage.getItem("landingPageShownNew");e&&!n&&(c(e),localStorage.setItem("landingPageShownNew","true"));const o=localStorage.getItem("recentlyUpdatedExamId"),i=localStorage.getItem("landingPageShownUpdated");o&&!i&&(f(o),localStorage.setItem("landingPageShownUpdated","true"));const a=localStorage.getItem("dashboardShownNew"),l=localStorage.getItem("dashboardShownUpdated");n&&a&&(localStorage.removeItem("newlyCreatedExamId"),localStorage.removeItem("landingPageShownNew"),localStorage.removeItem("dashboardShownNew")),i&&l&&(localStorage.removeItem("recentlyUpdatedExamId"),localStorage.removeItem("landingPageShownUpdated"),localStorage.removeItem("dashboardShownUpdated"))}),[]),n?(0,a.jsx)("section",{className:"py-8 md:py-12 bg-tokyo-bg-lighter fade-in",children:(0,a.jsxs)("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,a.jsxs)("div",{className:"text-center mb-6",children:[(0,a.jsx)("div",{className:"flex items-center justify-center gap-3 mb-3",children:(0,a.jsx)("h2",{className:"text-2xl md:text-3xl font-bold text-tokyo-fg-bright",children:"Recent Code Reviews"})}),(0,a.jsx)("p",{className:"text-lg text-tokyo-fg",children:"Check out some recently created code review sessions"})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[1,2,3].map((e=>(0,a.jsxs)("div",{className:"bg-tokyo-bg-lightest rounded-lg p-6 border border-tokyo-selection animate-pulse",children:[(0,a.jsx)("div",{className:"h-6 bg-tokyo-selection rounded mb-4"}),(0,a.jsx)("div",{className:"h-4 bg-tokyo-selection rounded mb-2"}),(0,a.jsx)("div",{className:"h-4 bg-tokyo-selection rounded mb-4 w-3/4"}),(0,a.jsxs)("div",{className:"flex gap-3 mb-4",children:[(0,a.jsx)("div",{className:"h-4 bg-tokyo-selection rounded w-16"}),(0,a.jsx)("div",{className:"h-4 bg-tokyo-selection rounded w-20"})]}),(0,a.jsx)("div",{className:"h-10 bg-tokyo-selection rounded"})]},e)))})]})}):0===e.length?(0,a.jsx)("section",{className:"py-8 md:py-12 bg-tokyo-bg-lighter fade-in",children:(0,a.jsxs)("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[(0,a.jsx)("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-tokyo-bg-lightest flex items-center justify-center",children:(0,a.jsx)("svg",{className:"h-8 w-8 text-tokyo-comment",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),(0,a.jsx)("h2",{className:"text-2xl md:text-3xl font-bold text-tokyo-fg-bright mb-3",children:"Recent Code Reviews"}),(0,a.jsx)("p",{className:"text-tokyo-fg mb-2",children:"Check out some recently created code review sessions"}),(0,a.jsx)(i.N_,{to:"/signup",className:"inline-flex items-center justify-center bg-tokyo-accent hover:bg-tokyo-accent-darker text-white py-3 px-6 rounded-md transition-colors",children:"Create your first code review"})]})}):(0,a.jsx)("section",{className:"py-8 md:py-12 bg-tokyo-bg-lighter fade-in",children:(0,a.jsxs)("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,a.jsxs)("div",{className:"text-center mb-6",children:[(0,a.jsx)("h2",{className:"text-2xl md:text-3xl font-bold text-tokyo-fg-bright mb-3",children:"Recent Code Reviews"}),(0,a.jsx)("p",{className:"text-tokyo-fg mb-2",children:"Check out some recently created code review sessions"})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:e.map((e=>{const t=e.id===l,n=e.id===d;return(0,a.jsxs)("div",{className:"relative bg-tokyo-bg-lightest rounded-lg p-6 border border-tokyo-selection hover:shadow-lg transition-all duration-200 hover:transform hover:-translate-y-1 "+(t||n?"ring-2 ring-tokyo-accent ring-opacity-50":""),children:[(t||n)&&(0,a.jsx)("div",{className:"absolute top-0.5 right-1 z-10",children:(0,a.jsx)("span",{className:"absolute top-0.5 right-1 text-white text-xs font-bold px-3 py-0 rounded-full "+(t?"bg-green-500":"bg-purple-600"),children:t?"NEW":"UPDATED"})}),(0,a.jsx)("h3",{className:"text-xl font-bold text-tokyo-fg-bright mb-3 line-clamp-2 pr-20",children:e.title}),(0,a.jsx)("p",{className:"text-tokyo-fg text-sm mb-4 line-clamp-3",children:e.description}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-3 mb-4",children:[e.duration>0&&(0,a.jsxs)("div",{className:"flex items-center text-sm text-tokyo-comment",children:[(0,a.jsx)("svg",{className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),u(e.duration)]}),e.type&&(0,a.jsxs)("div",{className:"flex items-center text-sm text-tokyo-comment",children:[(0,a.jsx)("svg",{className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),e.type]}),e.learning_goals&&(0,a.jsxs)("div",{className:"flex items-center text-sm text-tokyo-comment",children:[(0,a.jsx)("svg",{className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),e.learning_goals]})]}),(0,a.jsxs)(i.N_,{to:`/live?id=${e.id}`,className:"w-full bg-tokyo-accent hover:bg-tokyo-accent-darker text-white text-center py-2 px-4 rounded-md transition-colors flex items-center justify-center",children:[(0,a.jsx)("svg",{className:"h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14.828 14.828a4 4 0 01-5.656 0M9 10h1.586a1 1 0 01.707.293l2.414 2.414a1 1 0 00.707.293H15M9 10v4a2 2 0 002 2h2a2 2 0 002-2v-4M9 10V9a2 2 0 012-2h2a2 2 0 012 2v1.01"})}),"Try this review"]})]},e.id)}))}),(0,a.jsx)("div",{className:"text-center",children:(0,a.jsxs)(i.N_,{to:"/dashboard",className:"inline-flex items-center text-tokyo-accent hover:text-tokyo-accent-lighter font-medium transition-colors",children:["View all reviews",(0,a.jsx)("svg",{className:"h-4 w-4 ml-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 8l4 4m0 0l-4 4m4-4H3"})})]})})]})})};r()}catch(u){r(u)}}))},5787:(e,t,n)=>{"use strict";n.d(t,{m:()=>Nr});var r={};n.r(r),n.d(r,{boolean:()=>v,booleanish:()=>y,commaOrSpaceSeparated:()=>k,commaSeparated:()=>_,number:()=>w,overloadedBoolean:()=>b,spaceSeparated:()=>x});var o={};n.r(o),n.d(o,{attentionMarkers:()=>Qt,contentInitial:()=>Wt,disable:()=>Xt,document:()=>Ht,flow:()=>Jt,flowInitial:()=>Gt,insideSpan:()=>Zt,string:()=>Kt,text:()=>Yt});var i=n(5043);const s=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,a=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,l={};function u(e,t){return((t||l).jsx?a:s).test(e)}const c=/[ \t\n\f\r]/g;function d(e){return""===e.replace(c,"")}class f{constructor(e,t,n){this.normal=t,this.property=e,n&&(this.space=n)}}function h(e,t){const n={},r={};for(const o of e)Object.assign(n,o.property),Object.assign(r,o.normal);return new f(n,r,t)}function p(e){return e.toLowerCase()}f.prototype.normal={},f.prototype.property={},f.prototype.space=void 0;class m{constructor(e,t){this.attribute=t,this.property=e}}m.prototype.attribute="",m.prototype.booleanish=!1,m.prototype.boolean=!1,m.prototype.commaOrSpaceSeparated=!1,m.prototype.commaSeparated=!1,m.prototype.defined=!1,m.prototype.mustUseProperty=!1,m.prototype.number=!1,m.prototype.overloadedBoolean=!1,m.prototype.property="",m.prototype.spaceSeparated=!1,m.prototype.space=void 0;let g=0;const v=S(),y=S(),b=S(),w=S(),x=S(),_=S(),k=S();function S(){return 2**++g}const C=Object.keys(r);class E extends m{constructor(e,t,n,o){let i=-1;if(super(e,t),T(this,"space",o),"number"===typeof n)for(;++i<C.length;){const e=C[i];T(this,C[i],(n&r[e])===r[e])}}}function T(e,t,n){n&&(e[t]=n)}function A(e){const t={},n={};for(const[r,o]of Object.entries(e.properties)){const i=new E(r,e.transform(e.attributes||{},r),o,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(i.mustUseProperty=!0),t[r]=i,n[p(r)]=r,n[p(i.attribute)]=r}return new f(t,n,e.space)}E.prototype.defined=!0;const O=A({properties:{ariaActiveDescendant:null,ariaAtomic:y,ariaAutoComplete:null,ariaBusy:y,ariaChecked:y,ariaColCount:w,ariaColIndex:w,ariaColSpan:w,ariaControls:x,ariaCurrent:null,ariaDescribedBy:x,ariaDetails:null,ariaDisabled:y,ariaDropEffect:x,ariaErrorMessage:null,ariaExpanded:y,ariaFlowTo:x,ariaGrabbed:y,ariaHasPopup:null,ariaHidden:y,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:x,ariaLevel:w,ariaLive:null,ariaModal:y,ariaMultiLine:y,ariaMultiSelectable:y,ariaOrientation:null,ariaOwns:x,ariaPlaceholder:null,ariaPosInSet:w,ariaPressed:y,ariaReadOnly:y,ariaRelevant:null,ariaRequired:y,ariaRoleDescription:x,ariaRowCount:w,ariaRowIndex:w,ariaRowSpan:w,ariaSelected:y,ariaSetSize:w,ariaSort:null,ariaValueMax:w,ariaValueMin:w,ariaValueNow:w,ariaValueText:null,role:null},transform:(e,t)=>"role"===t?t:"aria-"+t.slice(4).toLowerCase()});function I(e,t){return t in e?e[t]:t}function N(e,t){return I(e,t.toLowerCase())}const R=A({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:_,acceptCharset:x,accessKey:x,action:null,allow:null,allowFullScreen:v,allowPaymentRequest:v,allowUserMedia:v,alt:null,as:null,async:v,autoCapitalize:null,autoComplete:x,autoFocus:v,autoPlay:v,blocking:x,capture:null,charSet:null,checked:v,cite:null,className:x,cols:w,colSpan:null,content:null,contentEditable:y,controls:v,controlsList:x,coords:w|_,crossOrigin:null,data:null,dateTime:null,decoding:null,default:v,defer:v,dir:null,dirName:null,disabled:v,download:b,draggable:y,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:v,formTarget:null,headers:x,height:w,hidden:v,high:w,href:null,hrefLang:null,htmlFor:x,httpEquiv:x,id:null,imageSizes:null,imageSrcSet:null,inert:v,inputMode:null,integrity:null,is:null,isMap:v,itemId:null,itemProp:x,itemRef:x,itemScope:v,itemType:x,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:v,low:w,manifest:null,max:null,maxLength:w,media:null,method:null,min:null,minLength:w,multiple:v,muted:v,name:null,nonce:null,noModule:v,noValidate:v,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:v,optimum:w,pattern:null,ping:x,placeholder:null,playsInline:v,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:v,referrerPolicy:null,rel:x,required:v,reversed:v,rows:w,rowSpan:w,sandbox:x,scope:null,scoped:v,seamless:v,selected:v,shadowRootClonable:v,shadowRootDelegatesFocus:v,shadowRootMode:null,shape:null,size:w,sizes:null,slot:null,span:w,spellCheck:y,src:null,srcDoc:null,srcLang:null,srcSet:null,start:w,step:null,style:null,tabIndex:w,target:null,title:null,translate:null,type:null,typeMustMatch:v,useMap:null,value:y,width:w,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:x,axis:null,background:null,bgColor:null,border:w,borderColor:null,bottomMargin:w,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:v,declare:v,event:null,face:null,frame:null,frameBorder:null,hSpace:w,leftMargin:w,link:null,longDesc:null,lowSrc:null,marginHeight:w,marginWidth:w,noResize:v,noHref:v,noShade:v,noWrap:v,object:null,profile:null,prompt:null,rev:null,rightMargin:w,rules:null,scheme:null,scrolling:y,standby:null,summary:null,text:null,topMargin:w,valueType:null,version:null,vAlign:null,vLink:null,vSpace:w,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:v,disableRemotePlayback:v,prefix:null,property:null,results:w,security:null,unselectable:null},space:"html",transform:N}),P=A({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:k,accentHeight:w,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:w,amplitude:w,arabicForm:null,ascent:w,attributeName:null,attributeType:null,azimuth:w,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:w,by:null,calcMode:null,capHeight:w,className:x,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:w,diffuseConstant:w,direction:null,display:null,dur:null,divisor:w,dominantBaseline:null,download:v,dx:null,dy:null,edgeMode:null,editable:null,elevation:w,enableBackground:null,end:null,event:null,exponent:w,externalResourcesRequired:null,fill:null,fillOpacity:w,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:_,g2:_,glyphName:_,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:w,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:w,horizOriginX:w,horizOriginY:w,id:null,ideographic:w,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:w,k:w,k1:w,k2:w,k3:w,k4:w,kernelMatrix:k,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:w,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:w,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:w,overlineThickness:w,paintOrder:null,panose1:null,path:null,pathLength:w,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:x,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:w,pointsAtY:w,pointsAtZ:w,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:k,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:k,rev:k,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:k,requiredFeatures:k,requiredFonts:k,requiredFormats:k,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:w,specularExponent:w,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:w,strikethroughThickness:w,string:null,stroke:null,strokeDashArray:k,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:w,strokeOpacity:w,strokeWidth:null,style:null,surfaceScale:w,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:k,tabIndex:w,tableValues:null,target:null,targetX:w,targetY:w,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:k,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:w,underlineThickness:w,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:w,values:null,vAlphabetic:w,vMathematical:w,vectorEffect:null,vHanging:w,vIdeographic:w,version:null,vertAdvY:w,vertOriginX:w,vertOriginY:w,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:w,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:I}),j=A({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform:(e,t)=>"xlink:"+t.slice(5).toLowerCase()}),L=A({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:N}),D=A({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform:(e,t)=>"xml:"+t.slice(3).toLowerCase()}),M=h([O,R,j,L,D],"html"),U=h([O,P,j,L,D],"svg"),F=/[A-Z]/g,$=/-[a-z]/g,z=/^data[-\w.:]+$/i;function B(e){return"-"+e.toLowerCase()}function q(e){return e.charAt(1).toUpperCase()}const V={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"};var H=n(7294);const W=J("end"),G=J("start");function J(e){return function(t){const n=t&&t.position&&t.position[e]||{};if("number"===typeof n.line&&n.line>0&&"number"===typeof n.column&&n.column>0)return{line:n.line,column:n.column,offset:"number"===typeof n.offset&&n.offset>-1?n.offset:void 0}}}function K(e){return e&&"object"===typeof e?"position"in e||"type"in e?Z(e.position):"start"in e||"end"in e?Z(e):"line"in e||"column"in e?Y(e):"":""}function Y(e){return Q(e&&e.line)+":"+Q(e&&e.column)}function Z(e){return Y(e&&e.start)+"-"+Y(e&&e.end)}function Q(e){return e&&"number"===typeof e?e:1}class X extends Error{constructor(e,t,n){super(),"string"===typeof t&&(n=t,t=void 0);let r="",o={},i=!1;if(t&&(o="line"in t&&"column"in t||"start"in t&&"end"in t?{place:t}:"type"in t?{ancestors:[t],place:t.position}:{...t}),"string"===typeof e?r=e:!o.cause&&e&&(i=!0,r=e.message,o.cause=e),!o.ruleId&&!o.source&&"string"===typeof n){const e=n.indexOf(":");-1===e?o.ruleId=n:(o.source=n.slice(0,e),o.ruleId=n.slice(e+1))}if(!o.place&&o.ancestors&&o.ancestors){const e=o.ancestors[o.ancestors.length-1];e&&(o.place=e.position)}const s=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=s?s.column:void 0,this.fatal=void 0,this.file,this.message=r,this.line=s?s.line:void 0,this.name=K(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=i&&o.cause&&"string"===typeof o.cause.stack?o.cause.stack:"",this.actual,this.expected,this.note,this.url}}X.prototype.file="",X.prototype.name="",X.prototype.reason="",X.prototype.message="",X.prototype.stack="",X.prototype.column=void 0,X.prototype.line=void 0,X.prototype.ancestors=void 0,X.prototype.cause=void 0,X.prototype.fatal=void 0,X.prototype.place=void 0,X.prototype.ruleId=void 0,X.prototype.source=void 0;const ee={}.hasOwnProperty,te=new Map,ne=/[A-Z]/g,re=new Set(["table","tbody","thead","tfoot","tr"]),oe=new Set(["td","th"]),ie="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function se(e,t){if(!t||void 0===t.Fragment)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if("function"!==typeof t.jsxDEV)throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=function(e,t){return n;function n(n,r,o,i){const s=Array.isArray(o.children),a=G(n);return t(r,o,i,s,{columnNumber:a?a.column-1:void 0,fileName:e,lineNumber:a?a.line:void 0},void 0)}}(n,t.jsxDEV)}else{if("function"!==typeof t.jsx)throw new TypeError("Expected `jsx` in production options");if("function"!==typeof t.jsxs)throw new TypeError("Expected `jsxs` in production options");r=function(e,t,n){return r;function r(e,r,o,i){const s=Array.isArray(o.children)?n:t;return i?s(r,o,i):s(r,o)}}(0,t.jsx,t.jsxs)}const o={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:!1!==t.passKeys,passNode:t.passNode||!1,schema:"svg"===t.space?U:M,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:!1!==t.tableCellAlignToStyle},i=ae(o,e,void 0);return i&&"string"!==typeof i?i:o.create(e,o.Fragment,{children:i||void 0},void 0)}function ae(e,t,n){return"element"===t.type?function(e,t,n){const r=e.schema;let o=r;"svg"===t.tagName.toLowerCase()&&"html"===r.space&&(o=U,e.schema=o);e.ancestors.push(t);const i=fe(e,t.tagName,!1),s=function(e,t){const n={};let r,o;for(o in t.properties)if("children"!==o&&ee.call(t.properties,o)){const i=de(e,o,t.properties[o]);if(i){const[o,s]=i;e.tableCellAlignToStyle&&"align"===o&&"string"===typeof s&&oe.has(t.tagName)?r=s:n[o]=s}}if(r){(n.style||(n.style={}))["css"===e.stylePropertyNameCase?"text-align":"textAlign"]=r}return n}(e,t);let a=ce(e,t);re.has(t.tagName)&&(a=a.filter((function(e){return"string"!==typeof e||!("object"===typeof(t=e)?"text"===t.type&&d(t.value):d(t));var t})));return le(e,s,i,t),ue(s,a),e.ancestors.pop(),e.schema=r,e.create(t,i,s,n)}(e,t,n):"mdxFlowExpression"===t.type||"mdxTextExpression"===t.type?function(e,t){if(t.data&&t.data.estree&&e.evaluater){const n=t.data.estree.body[0];return n.type,e.evaluater.evaluateExpression(n.expression)}he(e,t.position)}(e,t):"mdxJsxFlowElement"===t.type||"mdxJsxTextElement"===t.type?function(e,t,n){const r=e.schema;let o=r;"svg"===t.name&&"html"===r.space&&(o=U,e.schema=o);e.ancestors.push(t);const i=null===t.name?e.Fragment:fe(e,t.name,!0),s=function(e,t){const n={};for(const r of t.attributes)if("mdxJsxExpressionAttribute"===r.type)if(r.data&&r.data.estree&&e.evaluater){const t=r.data.estree.body[0];t.type;const o=t.expression;o.type;const i=o.properties[0];i.type,Object.assign(n,e.evaluater.evaluateExpression(i.argument))}else he(e,t.position);else{const o=r.name;let i;if(r.value&&"object"===typeof r.value)if(r.value.data&&r.value.data.estree&&e.evaluater){const t=r.value.data.estree.body[0];t.type,i=e.evaluater.evaluateExpression(t.expression)}else he(e,t.position);else i=null===r.value||r.value;n[o]=i}return n}(e,t),a=ce(e,t);return le(e,s,i,t),ue(s,a),e.ancestors.pop(),e.schema=r,e.create(t,i,s,n)}(e,t,n):"mdxjsEsm"===t.type?function(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);he(e,t.position)}(e,t):"root"===t.type?function(e,t,n){const r={};return ue(r,ce(e,t)),e.create(t,e.Fragment,r,n)}(e,t,n):"text"===t.type?function(e,t){return t.value}(0,t):void 0}function le(e,t,n,r){"string"!==typeof n&&n!==e.Fragment&&e.passNode&&(t.node=r)}function ue(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function ce(e,t){const n=[];let r=-1;const o=e.passKeys?new Map:te;for(;++r<t.children.length;){const i=t.children[r];let s;if(e.passKeys){const e="element"===i.type?i.tagName:"mdxJsxFlowElement"===i.type||"mdxJsxTextElement"===i.type?i.name:void 0;if(e){const t=o.get(e)||0;s=e+"-"+t,o.set(e,t+1)}}const a=ae(e,i,s);void 0!==a&&n.push(a)}return n}function de(e,t,n){const r=function(e,t){const n=p(t);let r=t,o=m;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&"data"===n.slice(0,4)&&z.test(t)){if("-"===t.charAt(4)){const e=t.slice(5).replace($,q);r="data"+e.charAt(0).toUpperCase()+e.slice(1)}else{const e=t.slice(4);if(!$.test(e)){let n=e.replace(F,B);"-"!==n.charAt(0)&&(n="-"+n),t="data"+n}}o=E}return new o(r,t)}(e.schema,t);if(!(null===n||void 0===n||"number"===typeof n&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?function(e,t){const n=t||{};return(""===e[e.length-1]?[...e,""]:e).join((n.padRight?" ":"")+","+(!1===n.padLeft?"":" ")).trim()}(n):n.join(" ").trim()),"style"===r.property){let t="object"===typeof n?n:function(e,t){try{return H(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const t=n,r=new X("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:t,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw r.file=e.filePath||void 0,r.url=ie+"#cannot-parse-style-attribute",r}}(e,String(n));return"css"===e.stylePropertyNameCase&&(t=function(e){const t={};let n;for(n in e)ee.call(e,n)&&(t[pe(n)]=e[n]);return t}(t)),["style",t]}return["react"===e.elementAttributeNameCase&&r.space?V[r.property]||r.property:r.attribute,n]}}function fe(e,t,n){let r;if(n)if(t.includes(".")){const e=t.split(".");let n,o=-1;for(;++o<e.length;){const t=u(e[o])?{type:"Identifier",name:e[o]}:{type:"Literal",value:e[o]};n=n?{type:"MemberExpression",object:n,property:t,computed:Boolean(o&&"Literal"===t.type),optional:!1}:t}r=n}else r=u(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};else r={type:"Literal",value:t};if("Literal"===r.type){const t=r.value;return ee.call(e.components,t)?e.components[t]:t}if(e.evaluater)return e.evaluater.evaluateExpression(r);he(e)}function he(e,t){const n=new X("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=ie+"#cannot-handle-mdx-estrees-without-createevaluater",n}function pe(e){let t=e.replace(ne,me);return"ms-"===t.slice(0,3)&&(t="-"+t),t}function me(e){return"-"+e.toLowerCase()}const ge={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]};var ve=n(579);const ye={};function be(e,t,n){if(function(e){return Boolean(e&&"object"===typeof e)}(e)){if("value"in e)return"html"!==e.type||n?e.value:"";if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return we(e.children,t,n)}return Array.isArray(e)?we(e,t,n):""}function we(e,t,n){const r=[];let o=-1;for(;++o<e.length;)r[o]=be(e[o],t,n);return r.join("")}function xe(e,t,n,r){const o=e.length;let i,s=0;if(t=t<0?-t>o?0:o+t:t>o?o:t,n=n>0?n:0,r.length<1e4)i=Array.from(r),i.unshift(t,n),e.splice(...i);else for(n&&e.splice(t,n);s<r.length;)i=r.slice(s,s+1e4),i.unshift(t,0),e.splice(...i),s+=1e4,t+=1e4}function _e(e,t){return e.length>0?(xe(e,e.length,0,t),e):t}class ke{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,t){const n=null===t||void 0===t?Number.POSITIVE_INFINITY:t;return n<this.left.length?this.left.slice(e,n):e>this.left.length?this.right.slice(this.right.length-n+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-n+this.left.length).reverse())}splice(e,t,n){const r=t||0;this.setCursor(Math.trunc(e));const o=this.right.splice(this.right.length-r,Number.POSITIVE_INFINITY);return n&&Se(this.left,n),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),Se(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),Se(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&0===this.right.length||e<0&&0===this.left.length))if(e<this.left.length){const t=this.left.splice(e,Number.POSITIVE_INFINITY);Se(this.right,t.reverse())}else{const t=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);Se(this.left,t.reverse())}}}function Se(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function Ce(e){const t={};let n,r,o,i,s,a,l,u=-1;const c=new ke(e);for(;++u<c.length;){for(;u in t;)u=t[u];if(n=c.get(u),u&&"chunkFlow"===n[1].type&&"listItemPrefix"===c.get(u-1)[1].type&&(a=n[1]._tokenizer.events,o=0,o<a.length&&"lineEndingBlank"===a[o][1].type&&(o+=2),o<a.length&&"content"===a[o][1].type))for(;++o<a.length&&"content"!==a[o][1].type;)"chunkText"===a[o][1].type&&(a[o][1]._isInFirstContentOfListItem=!0,o++);if("enter"===n[0])n[1].contentType&&(Object.assign(t,Ee(c,u)),u=t[u],l=!0);else if(n[1]._container){for(o=u,r=void 0;o--;)if(i=c.get(o),"lineEnding"===i[1].type||"lineEndingBlank"===i[1].type)"enter"===i[0]&&(r&&(c.get(r)[1].type="lineEndingBlank"),i[1].type="lineEnding",r=o);else if("linePrefix"!==i[1].type&&"listItemIndent"!==i[1].type)break;r&&(n[1].end={...c.get(r)[1].start},s=c.slice(r,u),s.unshift(n),c.splice(r,u-r+1,s))}}return xe(e,0,Number.POSITIVE_INFINITY,c.slice(0)),!l}function Ee(e,t){const n=e.get(t)[1],r=e.get(t)[2];let o=t-1;const i=[];let s=n._tokenizer;s||(s=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(s._contentTypeTextTrailing=!0));const a=s.events,l=[],u={};let c,d,f=-1,h=n,p=0,m=0;const g=[m];for(;h;){for(;e.get(++o)[1]!==h;);i.push(o),h._tokenizer||(c=r.sliceStream(h),h.next||c.push(null),d&&s.defineSkip(h.start),h._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=!0),s.write(c),h._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=void 0)),d=h,h=h.next}for(h=n;++f<a.length;)"exit"===a[f][0]&&"enter"===a[f-1][0]&&a[f][1].type===a[f-1][1].type&&a[f][1].start.line!==a[f][1].end.line&&(m=f+1,g.push(m),h._tokenizer=void 0,h.previous=void 0,h=h.next);for(s.events=[],h?(h._tokenizer=void 0,h.previous=void 0):g.pop(),f=g.length;f--;){const t=a.slice(g[f],g[f+1]),n=i.pop();l.push([n,n+t.length-1]),e.splice(n,2,t)}for(l.reverse(),f=-1;++f<l.length;)u[p+l[f][0]]=p+l[f][1],p+=l[f][1]-l[f][0]-1;return u}const Te={}.hasOwnProperty;function Ae(e,t){let n;for(n in t){const r=(Te.call(e,n)?e[n]:void 0)||(e[n]={}),o=t[n];let i;if(o)for(i in o){Te.call(r,i)||(r[i]=[]);const e=o[i];Oe(r[i],Array.isArray(e)?e:e?[e]:[])}}}function Oe(e,t){let n=-1;const r=[];for(;++n<t.length;)("after"===t[n].add?e:r).push(t[n]);xe(e,0,0,r)}const Ie=Be(/[A-Za-z]/),Ne=Be(/[\dA-Za-z]/),Re=Be(/[#-'*+\--9=?A-Z^-~]/);function Pe(e){return null!==e&&(e<32||127===e)}const je=Be(/\d/),Le=Be(/[\dA-Fa-f]/),De=Be(/[!-/:-@[-`{-~]/);function Me(e){return null!==e&&e<-2}function Ue(e){return null!==e&&(e<0||32===e)}function Fe(e){return-2===e||-1===e||32===e}const $e=Be(/\p{P}|\p{S}/u),ze=Be(/\s/);function Be(e){return function(t){return null!==t&&t>-1&&e.test(String.fromCharCode(t))}}function qe(e,t,n,r){const o=r?r-1:Number.POSITIVE_INFINITY;let i=0;return function(r){if(Fe(r))return e.enter(n),s(r);return t(r)};function s(r){return Fe(r)&&i++<o?(e.consume(r),s):(e.exit(n),t(r))}}const Ve={tokenize:function(e){const t=e.attempt(this.parser.constructs.contentInitial,(function(n){if(null===n)return void e.consume(n);return e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),qe(e,t,"linePrefix")}),(function(t){return e.enter("paragraph"),r(t)}));let n;return t;function r(t){const r=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=r),n=r,o(t)}function o(t){return null===t?(e.exit("chunkText"),e.exit("paragraph"),void e.consume(t)):Me(t)?(e.consume(t),e.exit("chunkText"),r):(e.consume(t),o)}}};const He={tokenize:function(e){const t=this,n=[];let r,o,i,s=0;return a;function a(r){if(s<n.length){const o=n[s];return t.containerState=o[1],e.attempt(o[0].continuation,l,u)(r)}return u(r)}function l(e){if(s++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,r&&y();const n=t.events.length;let o,i=n;for(;i--;)if("exit"===t.events[i][0]&&"chunkFlow"===t.events[i][1].type){o=t.events[i][1].end;break}v(s);let a=n;for(;a<t.events.length;)t.events[a][1].end={...o},a++;return xe(t.events,i+1,0,t.events.slice(n)),t.events.length=a,u(e)}return a(e)}function u(o){if(s===n.length){if(!r)return f(o);if(r.currentConstruct&&r.currentConstruct.concrete)return p(o);t.interrupt=Boolean(r.currentConstruct&&!r._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(We,c,d)(o)}function c(e){return r&&y(),v(s),f(e)}function d(e){return t.parser.lazy[t.now().line]=s!==n.length,i=t.now().offset,p(e)}function f(n){return t.containerState={},e.attempt(We,h,p)(n)}function h(e){return s++,n.push([t.currentConstruct,t.containerState]),f(e)}function p(n){return null===n?(r&&y(),v(0),void e.consume(n)):(r=r||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:r,contentType:"flow",previous:o}),m(n))}function m(n){return null===n?(g(e.exit("chunkFlow"),!0),v(0),void e.consume(n)):Me(n)?(e.consume(n),g(e.exit("chunkFlow")),s=0,t.interrupt=void 0,a):(e.consume(n),m)}function g(e,n){const a=t.sliceStream(e);if(n&&a.push(null),e.previous=o,o&&(o.next=e),o=e,r.defineSkip(e.start),r.write(a),t.parser.lazy[e.start.line]){let e=r.events.length;for(;e--;)if(r.events[e][1].start.offset<i&&(!r.events[e][1].end||r.events[e][1].end.offset>i))return;const n=t.events.length;let o,a,l=n;for(;l--;)if("exit"===t.events[l][0]&&"chunkFlow"===t.events[l][1].type){if(o){a=t.events[l][1].end;break}o=!0}for(v(s),e=n;e<t.events.length;)t.events[e][1].end={...a},e++;xe(t.events,l+1,0,t.events.slice(n)),t.events.length=e}}function v(r){let o=n.length;for(;o-- >r;){const r=n[o];t.containerState=r[1],r[0].exit.call(t,e)}n.length=r}function y(){r.write([null]),o=void 0,r=void 0,t.containerState._closeFlow=void 0}}},We={tokenize:function(e,t,n){return qe(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}};const Ge={partial:!0,tokenize:function(e,t,n){return function(t){return Fe(t)?qe(e,r,"linePrefix")(t):r(t)};function r(e){return null===e||Me(e)?t(e):n(e)}}};const Je={resolve:function(e){return Ce(e),e},tokenize:function(e,t){let n;return function(t){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),r(t)};function r(t){return null===t?o(t):Me(t)?e.check(Ke,i,o)(t):(e.consume(t),r)}function o(n){return e.exit("chunkContent"),e.exit("content"),t(n)}function i(t){return e.consume(t),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,r}}},Ke={partial:!0,tokenize:function(e,t,n){const r=this;return function(t){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),qe(e,o,"linePrefix")};function o(o){if(null===o||Me(o))return n(o);const i=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&i&&"linePrefix"===i[1].type&&i[2].sliceSerialize(i[1],!0).length>=4?t(o):e.interrupt(r.parser.constructs.flow,n,t)(o)}}};const Ye={tokenize:function(e){const t=this,n=e.attempt(Ge,(function(r){if(null===r)return void e.consume(r);return e.enter("lineEndingBlank"),e.consume(r),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}),e.attempt(this.parser.constructs.flowInitial,r,qe(e,e.attempt(this.parser.constructs.flow,r,e.attempt(Je,r)),"linePrefix")));return n;function r(r){if(null!==r)return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),t.currentConstruct=void 0,n;e.consume(r)}}};const Ze={resolveAll:tt()},Qe=et("string"),Xe=et("text");function et(e){return{resolveAll:tt("text"===e?nt:void 0),tokenize:function(t){const n=this,r=this.parser.constructs[e],o=t.attempt(r,i,s);return i;function i(e){return l(e)?o(e):s(e)}function s(e){if(null!==e)return t.enter("data"),t.consume(e),a;t.consume(e)}function a(e){return l(e)?(t.exit("data"),o(e)):(t.consume(e),a)}function l(e){if(null===e)return!0;const t=r[e];let o=-1;if(t)for(;++o<t.length;){const e=t[o];if(!e.previous||e.previous.call(n,n.previous))return!0}return!1}}}}function tt(e){return function(t,n){let r,o=-1;for(;++o<=t.length;)void 0===r?t[o]&&"data"===t[o][1].type&&(r=o,o++):t[o]&&"data"===t[o][1].type||(o!==r+2&&(t[r][1].end=t[o-1][1].end,t.splice(r+2,o-r-2),o=r+2),r=void 0);return e?e(t,n):t}}function nt(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||"lineEnding"===e[n][1].type)&&"data"===e[n-1][1].type){const r=e[n-1][1],o=t.sliceStream(r);let i,s=o.length,a=-1,l=0;for(;s--;){const e=o[s];if("string"===typeof e){for(a=e.length;32===e.charCodeAt(a-1);)l++,a--;if(a)break;a=-1}else if(-2===e)i=!0,l++;else if(-1!==e){s++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(l=0),l){const o={type:n===e.length||i||l<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?a:r.start._bufferIndex+a,_index:r.start._index+s,line:r.end.line,column:r.end.column-l,offset:r.end.offset-l},end:{...r.end}};r.end={...o.start},r.start.offset===r.end.offset?Object.assign(r,o):(e.splice(n,0,["enter",o,t],["exit",o,t]),n+=2)}n++}return e}const rt={name:"thematicBreak",tokenize:function(e,t,n){let r,o=0;return function(t){return e.enter("thematicBreak"),function(e){return r=e,i(e)}(t)};function i(i){return i===r?(e.enter("thematicBreakSequence"),s(i)):o>=3&&(null===i||Me(i))?(e.exit("thematicBreak"),t(i)):n(i)}function s(t){return t===r?(e.consume(t),o++,s):(e.exit("thematicBreakSequence"),Fe(t)?qe(e,i,"whitespace")(t):i(t))}}};const ot={continuation:{tokenize:function(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(Ge,o,i);function o(n){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,qe(e,t,"listItemIndent",r.containerState.size+1)(n)}function i(n){return r.containerState.furtherBlankLines||!Fe(n)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,s(n)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(st,t,s)(n))}function s(o){return r.containerState._closeFlow=!0,r.interrupt=void 0,qe(e,e.attempt(ot,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o)}}},exit:function(e){e.exit(this.containerState.type)},name:"list",tokenize:function(e,t,n){const r=this,o=r.events[r.events.length-1];let i=o&&"linePrefix"===o[1].type?o[2].sliceSerialize(o[1],!0).length:0,s=0;return function(t){const o=r.containerState.type||(42===t||43===t||45===t?"listUnordered":"listOrdered");if("listUnordered"===o?!r.containerState.marker||t===r.containerState.marker:je(t)){if(r.containerState.type||(r.containerState.type=o,e.enter(o,{_container:!0})),"listUnordered"===o)return e.enter("listItemPrefix"),42===t||45===t?e.check(rt,n,l)(t):l(t);if(!r.interrupt||49===t)return e.enter("listItemPrefix"),e.enter("listItemValue"),a(t)}return n(t)};function a(t){return je(t)&&++s<10?(e.consume(t),a):(!r.interrupt||s<2)&&(r.containerState.marker?t===r.containerState.marker:41===t||46===t)?(e.exit("listItemValue"),l(t)):n(t)}function l(t){return e.enter("listItemMarker"),e.consume(t),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||t,e.check(Ge,r.interrupt?n:u,e.attempt(it,d,c))}function u(e){return r.containerState.initialBlankLine=!0,i++,d(e)}function c(t){return Fe(t)?(e.enter("listItemPrefixWhitespace"),e.consume(t),e.exit("listItemPrefixWhitespace"),d):n(t)}function d(n){return r.containerState.size=i+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(n)}}},it={partial:!0,tokenize:function(e,t,n){const r=this;return qe(e,(function(e){const o=r.events[r.events.length-1];return!Fe(e)&&o&&"listItemPrefixWhitespace"===o[1].type?t(e):n(e)}),"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5)}},st={partial:!0,tokenize:function(e,t,n){const r=this;return qe(e,(function(e){const o=r.events[r.events.length-1];return o&&"listItemIndent"===o[1].type&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?t(e):n(e)}),"listItemIndent",r.containerState.size+1)}};const at={continuation:{tokenize:function(e,t,n){const r=this;return function(t){if(Fe(t))return qe(e,o,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(t);return o(t)};function o(r){return e.attempt(at,t,n)(r)}}},exit:function(e){e.exit("blockQuote")},name:"blockQuote",tokenize:function(e,t,n){const r=this;return function(t){if(62===t){const n=r.containerState;return n.open||(e.enter("blockQuote",{_container:!0}),n.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(t),e.exit("blockQuoteMarker"),o}return n(t)};function o(n){return Fe(n)?(e.enter("blockQuotePrefixWhitespace"),e.consume(n),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(n))}}};function lt(e,t,n,r,o,i,s,a,l){const u=l||Number.POSITIVE_INFINITY;let c=0;return function(t){if(60===t)return e.enter(r),e.enter(o),e.enter(i),e.consume(t),e.exit(i),d;if(null===t||32===t||41===t||Pe(t))return n(t);return e.enter(r),e.enter(s),e.enter(a),e.enter("chunkString",{contentType:"string"}),p(t)};function d(n){return 62===n?(e.enter(i),e.consume(n),e.exit(i),e.exit(o),e.exit(r),t):(e.enter(a),e.enter("chunkString",{contentType:"string"}),f(n))}function f(t){return 62===t?(e.exit("chunkString"),e.exit(a),d(t)):null===t||60===t||Me(t)?n(t):(e.consume(t),92===t?h:f)}function h(t){return 60===t||62===t||92===t?(e.consume(t),f):f(t)}function p(o){return c||null!==o&&41!==o&&!Ue(o)?c<u&&40===o?(e.consume(o),c++,p):41===o?(e.consume(o),c--,p):null===o||32===o||40===o||Pe(o)?n(o):(e.consume(o),92===o?m:p):(e.exit("chunkString"),e.exit(a),e.exit(s),e.exit(r),t(o))}function m(t){return 40===t||41===t||92===t?(e.consume(t),p):p(t)}}function ut(e,t,n,r,o,i){const s=this;let a,l=0;return function(t){return e.enter(r),e.enter(o),e.consume(t),e.exit(o),e.enter(i),u};function u(d){return l>999||null===d||91===d||93===d&&!a||94===d&&!l&&"_hiddenFootnoteSupport"in s.parser.constructs?n(d):93===d?(e.exit(i),e.enter(o),e.consume(d),e.exit(o),e.exit(r),t):Me(d)?(e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),u):(e.enter("chunkString",{contentType:"string"}),c(d))}function c(t){return null===t||91===t||93===t||Me(t)||l++>999?(e.exit("chunkString"),u(t)):(e.consume(t),a||(a=!Fe(t)),92===t?d:c)}function d(t){return 91===t||92===t||93===t?(e.consume(t),l++,c):c(t)}}function ct(e,t,n,r,o,i){let s;return function(t){if(34===t||39===t||40===t)return e.enter(r),e.enter(o),e.consume(t),e.exit(o),s=40===t?41:t,a;return n(t)};function a(n){return n===s?(e.enter(o),e.consume(n),e.exit(o),e.exit(r),t):(e.enter(i),l(n))}function l(t){return t===s?(e.exit(i),a(s)):null===t?n(t):Me(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),qe(e,l,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),u(t))}function u(t){return t===s||null===t||Me(t)?(e.exit("chunkString"),l(t)):(e.consume(t),92===t?c:u)}function c(t){return t===s||92===t?(e.consume(t),u):u(t)}}function dt(e,t){let n;return function r(o){if(Me(o))return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),n=!0,r;if(Fe(o))return qe(e,r,n?"linePrefix":"lineSuffix")(o);return t(o)}}function ft(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const ht={name:"definition",tokenize:function(e,t,n){const r=this;let o;return function(t){return e.enter("definition"),function(t){return ut.call(r,e,i,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(t)}(t)};function i(t){return o=ft(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),58===t?(e.enter("definitionMarker"),e.consume(t),e.exit("definitionMarker"),s):n(t)}function s(t){return Ue(t)?dt(e,a)(t):a(t)}function a(t){return lt(e,l,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(t)}function l(t){return e.attempt(pt,u,u)(t)}function u(t){return Fe(t)?qe(e,c,"whitespace")(t):c(t)}function c(i){return null===i||Me(i)?(e.exit("definition"),r.parser.defined.push(o),t(i)):n(i)}}},pt={partial:!0,tokenize:function(e,t,n){return function(t){return Ue(t)?dt(e,r)(t):n(t)};function r(t){return ct(e,o,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(t)}function o(t){return Fe(t)?qe(e,i,"whitespace")(t):i(t)}function i(e){return null===e||Me(e)?t(e):n(e)}}};const mt={name:"codeIndented",tokenize:function(e,t,n){const r=this;return function(t){return e.enter("codeIndented"),qe(e,o,"linePrefix",5)(t)};function o(e){const t=r.events[r.events.length-1];return t&&"linePrefix"===t[1].type&&t[2].sliceSerialize(t[1],!0).length>=4?i(e):n(e)}function i(t){return null===t?a(t):Me(t)?e.attempt(gt,i,a)(t):(e.enter("codeFlowValue"),s(t))}function s(t){return null===t||Me(t)?(e.exit("codeFlowValue"),i(t)):(e.consume(t),s)}function a(n){return e.exit("codeIndented"),t(n)}}},gt={partial:!0,tokenize:function(e,t,n){const r=this;return o;function o(t){return r.parser.lazy[r.now().line]?n(t):Me(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),o):qe(e,i,"linePrefix",5)(t)}function i(e){const i=r.events[r.events.length-1];return i&&"linePrefix"===i[1].type&&i[2].sliceSerialize(i[1],!0).length>=4?t(e):Me(e)?o(e):n(e)}}};const vt={name:"headingAtx",resolve:function(e,t){let n,r,o=e.length-2,i=3;"whitespace"===e[i][1].type&&(i+=2);o-2>i&&"whitespace"===e[o][1].type&&(o-=2);"atxHeadingSequence"===e[o][1].type&&(i===o-1||o-4>i&&"whitespace"===e[o-2][1].type)&&(o-=i+1===o?2:4);o>i&&(n={type:"atxHeadingText",start:e[i][1].start,end:e[o][1].end},r={type:"chunkText",start:e[i][1].start,end:e[o][1].end,contentType:"text"},xe(e,i,o-i+1,[["enter",n,t],["enter",r,t],["exit",r,t],["exit",n,t]]));return e},tokenize:function(e,t,n){let r=0;return function(t){return e.enter("atxHeading"),function(t){return e.enter("atxHeadingSequence"),o(t)}(t)};function o(t){return 35===t&&r++<6?(e.consume(t),o):null===t||Ue(t)?(e.exit("atxHeadingSequence"),i(t)):n(t)}function i(n){return 35===n?(e.enter("atxHeadingSequence"),s(n)):null===n||Me(n)?(e.exit("atxHeading"),t(n)):Fe(n)?qe(e,i,"whitespace")(n):(e.enter("atxHeadingText"),a(n))}function s(t){return 35===t?(e.consume(t),s):(e.exit("atxHeadingSequence"),i(t))}function a(t){return null===t||35===t||Ue(t)?(e.exit("atxHeadingText"),i(t)):(e.consume(t),a)}}};const yt={name:"setextUnderline",resolveTo:function(e,t){let n,r,o,i=e.length;for(;i--;)if("enter"===e[i][0]){if("content"===e[i][1].type){n=i;break}"paragraph"===e[i][1].type&&(r=i)}else"content"===e[i][1].type&&e.splice(i,1),o||"definition"!==e[i][1].type||(o=i);const s={type:"setextHeading",start:{...e[n][1].start},end:{...e[e.length-1][1].end}};e[r][1].type="setextHeadingText",o?(e.splice(r,0,["enter",s,t]),e.splice(o+1,0,["exit",e[n][1],t]),e[n][1].end={...e[o][1].end}):e[n][1]=s;return e.push(["exit",s,t]),e},tokenize:function(e,t,n){const r=this;let o;return function(t){let s,a=r.events.length;for(;a--;)if("lineEnding"!==r.events[a][1].type&&"linePrefix"!==r.events[a][1].type&&"content"!==r.events[a][1].type){s="paragraph"===r.events[a][1].type;break}if(!r.parser.lazy[r.now().line]&&(r.interrupt||s))return e.enter("setextHeadingLine"),o=t,function(t){return e.enter("setextHeadingLineSequence"),i(t)}(t);return n(t)};function i(t){return t===o?(e.consume(t),i):(e.exit("setextHeadingLineSequence"),Fe(t)?qe(e,s,"lineSuffix")(t):s(t))}function s(r){return null===r||Me(r)?(e.exit("setextHeadingLine"),t(r)):n(r)}}};const bt=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],wt=["pre","script","style","textarea"],xt={concrete:!0,name:"htmlFlow",resolveTo:function(e){let t=e.length;for(;t--&&("enter"!==e[t][0]||"htmlFlow"!==e[t][1].type););t>1&&"linePrefix"===e[t-2][1].type&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2));return e},tokenize:function(e,t,n){const r=this;let o,i,s,a,l;return function(t){return function(t){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(t),u}(t)};function u(a){return 33===a?(e.consume(a),c):47===a?(e.consume(a),i=!0,h):63===a?(e.consume(a),o=3,r.interrupt?t:j):Ie(a)?(e.consume(a),s=String.fromCharCode(a),p):n(a)}function c(i){return 45===i?(e.consume(i),o=2,d):91===i?(e.consume(i),o=5,a=0,f):Ie(i)?(e.consume(i),o=4,r.interrupt?t:j):n(i)}function d(o){return 45===o?(e.consume(o),r.interrupt?t:j):n(o)}function f(o){const i="CDATA[";return o===i.charCodeAt(a++)?(e.consume(o),6===a?r.interrupt?t:E:f):n(o)}function h(t){return Ie(t)?(e.consume(t),s=String.fromCharCode(t),p):n(t)}function p(a){if(null===a||47===a||62===a||Ue(a)){const l=47===a,u=s.toLowerCase();return l||i||!wt.includes(u)?bt.includes(s.toLowerCase())?(o=6,l?(e.consume(a),m):r.interrupt?t(a):E(a)):(o=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(a):i?g(a):v(a)):(o=1,r.interrupt?t(a):E(a))}return 45===a||Ne(a)?(e.consume(a),s+=String.fromCharCode(a),p):n(a)}function m(o){return 62===o?(e.consume(o),r.interrupt?t:E):n(o)}function g(t){return Fe(t)?(e.consume(t),g):S(t)}function v(t){return 47===t?(e.consume(t),S):58===t||95===t||Ie(t)?(e.consume(t),y):Fe(t)?(e.consume(t),v):S(t)}function y(t){return 45===t||46===t||58===t||95===t||Ne(t)?(e.consume(t),y):b(t)}function b(t){return 61===t?(e.consume(t),w):Fe(t)?(e.consume(t),b):v(t)}function w(t){return null===t||60===t||61===t||62===t||96===t?n(t):34===t||39===t?(e.consume(t),l=t,x):Fe(t)?(e.consume(t),w):_(t)}function x(t){return t===l?(e.consume(t),l=null,k):null===t||Me(t)?n(t):(e.consume(t),x)}function _(t){return null===t||34===t||39===t||47===t||60===t||61===t||62===t||96===t||Ue(t)?b(t):(e.consume(t),_)}function k(e){return 47===e||62===e||Fe(e)?v(e):n(e)}function S(t){return 62===t?(e.consume(t),C):n(t)}function C(t){return null===t||Me(t)?E(t):Fe(t)?(e.consume(t),C):n(t)}function E(t){return 45===t&&2===o?(e.consume(t),I):60===t&&1===o?(e.consume(t),N):62===t&&4===o?(e.consume(t),L):63===t&&3===o?(e.consume(t),j):93===t&&5===o?(e.consume(t),P):!Me(t)||6!==o&&7!==o?null===t||Me(t)?(e.exit("htmlFlowData"),T(t)):(e.consume(t),E):(e.exit("htmlFlowData"),e.check(_t,D,T)(t))}function T(t){return e.check(kt,A,D)(t)}function A(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),O}function O(t){return null===t||Me(t)?T(t):(e.enter("htmlFlowData"),E(t))}function I(t){return 45===t?(e.consume(t),j):E(t)}function N(t){return 47===t?(e.consume(t),s="",R):E(t)}function R(t){if(62===t){const n=s.toLowerCase();return wt.includes(n)?(e.consume(t),L):E(t)}return Ie(t)&&s.length<8?(e.consume(t),s+=String.fromCharCode(t),R):E(t)}function P(t){return 93===t?(e.consume(t),j):E(t)}function j(t){return 62===t?(e.consume(t),L):45===t&&2===o?(e.consume(t),j):E(t)}function L(t){return null===t||Me(t)?(e.exit("htmlFlowData"),D(t)):(e.consume(t),L)}function D(n){return e.exit("htmlFlow"),t(n)}}},_t={partial:!0,tokenize:function(e,t,n){return function(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),e.attempt(Ge,t,n)}}},kt={partial:!0,tokenize:function(e,t,n){const r=this;return function(t){if(Me(t))return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),o;return n(t)};function o(e){return r.parser.lazy[r.now().line]?n(e):t(e)}}};const St={partial:!0,tokenize:function(e,t,n){const r=this;return function(t){if(null===t)return n(t);return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),o};function o(e){return r.parser.lazy[r.now().line]?n(e):t(e)}}},Ct={concrete:!0,name:"codeFenced",tokenize:function(e,t,n){const r=this,o={partial:!0,tokenize:function(e,t,n){let o=0;return s;function s(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),l}function l(t){return e.enter("codeFencedFence"),Fe(t)?qe(e,u,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(t):u(t)}function u(t){return t===i?(e.enter("codeFencedFenceSequence"),c(t)):n(t)}function c(t){return t===i?(o++,e.consume(t),c):o>=a?(e.exit("codeFencedFenceSequence"),Fe(t)?qe(e,d,"whitespace")(t):d(t)):n(t)}function d(r){return null===r||Me(r)?(e.exit("codeFencedFence"),t(r)):n(r)}}};let i,s=0,a=0;return function(t){return function(t){const n=r.events[r.events.length-1];return s=n&&"linePrefix"===n[1].type?n[2].sliceSerialize(n[1],!0).length:0,i=t,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),l(t)}(t)};function l(t){return t===i?(a++,e.consume(t),l):a<3?n(t):(e.exit("codeFencedFenceSequence"),Fe(t)?qe(e,u,"whitespace")(t):u(t))}function u(n){return null===n||Me(n)?(e.exit("codeFencedFence"),r.interrupt?t(n):e.check(St,h,y)(n)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),c(n))}function c(t){return null===t||Me(t)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),u(t)):Fe(t)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),qe(e,d,"whitespace")(t)):96===t&&t===i?n(t):(e.consume(t),c)}function d(t){return null===t||Me(t)?u(t):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),f(t))}function f(t){return null===t||Me(t)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),u(t)):96===t&&t===i?n(t):(e.consume(t),f)}function h(t){return e.attempt(o,y,p)(t)}function p(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),m}function m(t){return s>0&&Fe(t)?qe(e,g,"linePrefix",s+1)(t):g(t)}function g(t){return null===t||Me(t)?e.check(St,h,y)(t):(e.enter("codeFlowValue"),v(t))}function v(t){return null===t||Me(t)?(e.exit("codeFlowValue"),g(t)):(e.consume(t),v)}function y(n){return e.exit("codeFenced"),t(n)}}};const Et=document.createElement("i");function Tt(e){const t="&"+e+";";Et.innerHTML=t;const n=Et.textContent;return(59!==n.charCodeAt(n.length-1)||"semi"===e)&&(n!==t&&n)}const At={name:"characterReference",tokenize:function(e,t,n){const r=this;let o,i,s=0;return function(t){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(t),e.exit("characterReferenceMarker"),a};function a(t){return 35===t?(e.enter("characterReferenceMarkerNumeric"),e.consume(t),e.exit("characterReferenceMarkerNumeric"),l):(e.enter("characterReferenceValue"),o=31,i=Ne,u(t))}function l(t){return 88===t||120===t?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(t),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),o=6,i=Le,u):(e.enter("characterReferenceValue"),o=7,i=je,u(t))}function u(a){if(59===a&&s){const o=e.exit("characterReferenceValue");return i!==Ne||Tt(r.sliceSerialize(o))?(e.enter("characterReferenceMarker"),e.consume(a),e.exit("characterReferenceMarker"),e.exit("characterReference"),t):n(a)}return i(a)&&s++<o?(e.consume(a),u):n(a)}}};const Ot={name:"characterEscape",tokenize:function(e,t,n){return function(t){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(t),e.exit("escapeMarker"),r};function r(r){return De(r)?(e.enter("characterEscapeValue"),e.consume(r),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(r)}}};const It={name:"lineEnding",tokenize:function(e,t){return function(n){return e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),qe(e,t,"linePrefix")}}};function Nt(e,t,n){const r=[];let o=-1;for(;++o<e.length;){const i=e[o].resolveAll;i&&!r.includes(i)&&(t=i(t,n),r.push(i))}return t}const Rt={name:"labelEnd",resolveAll:function(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),"labelImage"===r.type||"labelLink"===r.type||"labelEnd"===r.type){const e="labelImage"===r.type?4:2;r.type="data",t+=e}}e.length!==n.length&&xe(e,0,e.length,n);return e},resolveTo:function(e,t){let n,r,o,i,s=e.length,a=0;for(;s--;)if(n=e[s][1],r){if("link"===n.type||"labelLink"===n.type&&n._inactive)break;"enter"===e[s][0]&&"labelLink"===n.type&&(n._inactive=!0)}else if(o){if("enter"===e[s][0]&&("labelImage"===n.type||"labelLink"===n.type)&&!n._balanced&&(r=s,"labelLink"!==n.type)){a=2;break}}else"labelEnd"===n.type&&(o=s);const l={type:"labelLink"===e[r][1].type?"link":"image",start:{...e[r][1].start},end:{...e[e.length-1][1].end}},u={type:"label",start:{...e[r][1].start},end:{...e[o][1].end}},c={type:"labelText",start:{...e[r+a+2][1].end},end:{...e[o-2][1].start}};return i=[["enter",l,t],["enter",u,t]],i=_e(i,e.slice(r+1,r+a+3)),i=_e(i,[["enter",c,t]]),i=_e(i,Nt(t.parser.constructs.insideSpan.null,e.slice(r+a+4,o-3),t)),i=_e(i,[["exit",c,t],e[o-2],e[o-1],["exit",u,t]]),i=_e(i,e.slice(o+1)),i=_e(i,[["exit",l,t]]),xe(e,r,e.length,i),e},tokenize:function(e,t,n){const r=this;let o,i,s=r.events.length;for(;s--;)if(("labelImage"===r.events[s][1].type||"labelLink"===r.events[s][1].type)&&!r.events[s][1]._balanced){o=r.events[s][1];break}return function(t){if(!o)return n(t);if(o._inactive)return c(t);return i=r.parser.defined.includes(ft(r.sliceSerialize({start:o.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelEnd"),a};function a(t){return 40===t?e.attempt(Pt,u,i?u:c)(t):91===t?e.attempt(jt,u,i?l:c)(t):i?u(t):c(t)}function l(t){return e.attempt(Lt,u,c)(t)}function u(e){return t(e)}function c(e){return o._balanced=!0,n(e)}}},Pt={tokenize:function(e,t,n){return function(t){return e.enter("resource"),e.enter("resourceMarker"),e.consume(t),e.exit("resourceMarker"),r};function r(t){return Ue(t)?dt(e,o)(t):o(t)}function o(t){return 41===t?u(t):lt(e,i,s,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(t)}function i(t){return Ue(t)?dt(e,a)(t):u(t)}function s(e){return n(e)}function a(t){return 34===t||39===t||40===t?ct(e,l,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(t):u(t)}function l(t){return Ue(t)?dt(e,u)(t):u(t)}function u(r){return 41===r?(e.enter("resourceMarker"),e.consume(r),e.exit("resourceMarker"),e.exit("resource"),t):n(r)}}},jt={tokenize:function(e,t,n){const r=this;return function(t){return ut.call(r,e,o,i,"reference","referenceMarker","referenceString")(t)};function o(e){return r.parser.defined.includes(ft(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(e):n(e)}function i(e){return n(e)}}},Lt={tokenize:function(e,t,n){return function(t){return e.enter("reference"),e.enter("referenceMarker"),e.consume(t),e.exit("referenceMarker"),r};function r(r){return 93===r?(e.enter("referenceMarker"),e.consume(r),e.exit("referenceMarker"),e.exit("reference"),t):n(r)}}};const Dt={name:"labelStartImage",resolveAll:Rt.resolveAll,tokenize:function(e,t,n){const r=this;return function(t){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(t),e.exit("labelImageMarker"),o};function o(t){return 91===t?(e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelImage"),i):n(t)}function i(e){return 94===e&&"_hiddenFootnoteSupport"in r.parser.constructs?n(e):t(e)}}};function Mt(e){return null===e||Ue(e)||ze(e)?1:$e(e)?2:void 0}const Ut={name:"attention",resolveAll:function(e,t){let n,r,o,i,s,a,l,u,c=-1;for(;++c<e.length;)if("enter"===e[c][0]&&"attentionSequence"===e[c][1].type&&e[c][1]._close)for(n=c;n--;)if("exit"===e[n][0]&&"attentionSequence"===e[n][1].type&&e[n][1]._open&&t.sliceSerialize(e[n][1]).charCodeAt(0)===t.sliceSerialize(e[c][1]).charCodeAt(0)){if((e[n][1]._close||e[c][1]._open)&&(e[c][1].end.offset-e[c][1].start.offset)%3&&!((e[n][1].end.offset-e[n][1].start.offset+e[c][1].end.offset-e[c][1].start.offset)%3))continue;a=e[n][1].end.offset-e[n][1].start.offset>1&&e[c][1].end.offset-e[c][1].start.offset>1?2:1;const d={...e[n][1].end},f={...e[c][1].start};Ft(d,-a),Ft(f,a),i={type:a>1?"strongSequence":"emphasisSequence",start:d,end:{...e[n][1].end}},s={type:a>1?"strongSequence":"emphasisSequence",start:{...e[c][1].start},end:f},o={type:a>1?"strongText":"emphasisText",start:{...e[n][1].end},end:{...e[c][1].start}},r={type:a>1?"strong":"emphasis",start:{...i.start},end:{...s.end}},e[n][1].end={...i.start},e[c][1].start={...s.end},l=[],e[n][1].end.offset-e[n][1].start.offset&&(l=_e(l,[["enter",e[n][1],t],["exit",e[n][1],t]])),l=_e(l,[["enter",r,t],["enter",i,t],["exit",i,t],["enter",o,t]]),l=_e(l,Nt(t.parser.constructs.insideSpan.null,e.slice(n+1,c),t)),l=_e(l,[["exit",o,t],["enter",s,t],["exit",s,t],["exit",r,t]]),e[c][1].end.offset-e[c][1].start.offset?(u=2,l=_e(l,[["enter",e[c][1],t],["exit",e[c][1],t]])):u=0,xe(e,n-1,c-n+3,l),c=n+l.length-u-2;break}c=-1;for(;++c<e.length;)"attentionSequence"===e[c][1].type&&(e[c][1].type="data");return e},tokenize:function(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,o=Mt(r);let i;return function(t){return i=t,e.enter("attentionSequence"),s(t)};function s(a){if(a===i)return e.consume(a),s;const l=e.exit("attentionSequence"),u=Mt(a),c=!u||2===u&&o||n.includes(a),d=!o||2===o&&u||n.includes(r);return l._open=Boolean(42===i?c:c&&(o||!d)),l._close=Boolean(42===i?d:d&&(u||!c)),t(a)}}};function Ft(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const $t={name:"autolink",tokenize:function(e,t,n){let r=0;return function(t){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(t),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),o};function o(t){return Ie(t)?(e.consume(t),i):64===t?n(t):l(t)}function i(e){return 43===e||45===e||46===e||Ne(e)?(r=1,s(e)):l(e)}function s(t){return 58===t?(e.consume(t),r=0,a):(43===t||45===t||46===t||Ne(t))&&r++<32?(e.consume(t),s):(r=0,l(t))}function a(r){return 62===r?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(r),e.exit("autolinkMarker"),e.exit("autolink"),t):null===r||32===r||60===r||Pe(r)?n(r):(e.consume(r),a)}function l(t){return 64===t?(e.consume(t),u):Re(t)?(e.consume(t),l):n(t)}function u(e){return Ne(e)?c(e):n(e)}function c(n){return 46===n?(e.consume(n),r=0,u):62===n?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(n),e.exit("autolinkMarker"),e.exit("autolink"),t):d(n)}function d(t){if((45===t||Ne(t))&&r++<63){const n=45===t?d:c;return e.consume(t),n}return n(t)}}};const zt={name:"htmlText",tokenize:function(e,t,n){const r=this;let o,i,s;return function(t){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(t),a};function a(t){return 33===t?(e.consume(t),l):47===t?(e.consume(t),w):63===t?(e.consume(t),y):Ie(t)?(e.consume(t),k):n(t)}function l(t){return 45===t?(e.consume(t),u):91===t?(e.consume(t),i=0,h):Ie(t)?(e.consume(t),v):n(t)}function u(t){return 45===t?(e.consume(t),f):n(t)}function c(t){return null===t?n(t):45===t?(e.consume(t),d):Me(t)?(s=c,R(t)):(e.consume(t),c)}function d(t){return 45===t?(e.consume(t),f):c(t)}function f(e){return 62===e?N(e):45===e?d(e):c(e)}function h(t){const r="CDATA[";return t===r.charCodeAt(i++)?(e.consume(t),6===i?p:h):n(t)}function p(t){return null===t?n(t):93===t?(e.consume(t),m):Me(t)?(s=p,R(t)):(e.consume(t),p)}function m(t){return 93===t?(e.consume(t),g):p(t)}function g(t){return 62===t?N(t):93===t?(e.consume(t),g):p(t)}function v(t){return null===t||62===t?N(t):Me(t)?(s=v,R(t)):(e.consume(t),v)}function y(t){return null===t?n(t):63===t?(e.consume(t),b):Me(t)?(s=y,R(t)):(e.consume(t),y)}function b(e){return 62===e?N(e):y(e)}function w(t){return Ie(t)?(e.consume(t),x):n(t)}function x(t){return 45===t||Ne(t)?(e.consume(t),x):_(t)}function _(t){return Me(t)?(s=_,R(t)):Fe(t)?(e.consume(t),_):N(t)}function k(t){return 45===t||Ne(t)?(e.consume(t),k):47===t||62===t||Ue(t)?S(t):n(t)}function S(t){return 47===t?(e.consume(t),N):58===t||95===t||Ie(t)?(e.consume(t),C):Me(t)?(s=S,R(t)):Fe(t)?(e.consume(t),S):N(t)}function C(t){return 45===t||46===t||58===t||95===t||Ne(t)?(e.consume(t),C):E(t)}function E(t){return 61===t?(e.consume(t),T):Me(t)?(s=E,R(t)):Fe(t)?(e.consume(t),E):S(t)}function T(t){return null===t||60===t||61===t||62===t||96===t?n(t):34===t||39===t?(e.consume(t),o=t,A):Me(t)?(s=T,R(t)):Fe(t)?(e.consume(t),T):(e.consume(t),O)}function A(t){return t===o?(e.consume(t),o=void 0,I):null===t?n(t):Me(t)?(s=A,R(t)):(e.consume(t),A)}function O(t){return null===t||34===t||39===t||60===t||61===t||96===t?n(t):47===t||62===t||Ue(t)?S(t):(e.consume(t),O)}function I(e){return 47===e||62===e||Ue(e)?S(e):n(e)}function N(r){return 62===r?(e.consume(r),e.exit("htmlTextData"),e.exit("htmlText"),t):n(r)}function R(t){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),P}function P(t){return Fe(t)?qe(e,j,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(t):j(t)}function j(t){return e.enter("htmlTextData"),s(t)}}};const Bt={name:"labelStartLink",resolveAll:Rt.resolveAll,tokenize:function(e,t,n){const r=this;return function(t){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelLink"),o};function o(e){return 94===e&&"_hiddenFootnoteSupport"in r.parser.constructs?n(e):t(e)}}};const qt={name:"hardBreakEscape",tokenize:function(e,t,n){return function(t){return e.enter("hardBreakEscape"),e.consume(t),r};function r(r){return Me(r)?(e.exit("hardBreakEscape"),t(r)):n(r)}}};const Vt={name:"codeText",previous:function(e){return 96!==e||"characterEscape"===this.events[this.events.length-1][1].type},resolve:function(e){let t,n,r=e.length-4,o=3;if(("lineEnding"===e[o][1].type||"space"===e[o][1].type)&&("lineEnding"===e[r][1].type||"space"===e[r][1].type))for(t=o;++t<r;)if("codeTextData"===e[t][1].type){e[o][1].type="codeTextPadding",e[r][1].type="codeTextPadding",o+=2,r-=2;break}t=o-1,r++;for(;++t<=r;)void 0===n?t!==r&&"lineEnding"!==e[t][1].type&&(n=t):t!==r&&"lineEnding"!==e[t][1].type||(e[n][1].type="codeTextData",t!==n+2&&(e[n][1].end=e[t-1][1].end,e.splice(n+2,t-n-2),r-=t-n-2,t=n+2),n=void 0);return e},tokenize:function(e,t,n){let r,o,i=0;return function(t){return e.enter("codeText"),e.enter("codeTextSequence"),s(t)};function s(t){return 96===t?(e.consume(t),i++,s):(e.exit("codeTextSequence"),a(t))}function a(t){return null===t?n(t):32===t?(e.enter("space"),e.consume(t),e.exit("space"),a):96===t?(o=e.enter("codeTextSequence"),r=0,u(t)):Me(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),a):(e.enter("codeTextData"),l(t))}function l(t){return null===t||32===t||96===t||Me(t)?(e.exit("codeTextData"),a(t)):(e.consume(t),l)}function u(n){return 96===n?(e.consume(n),r++,u):r===i?(e.exit("codeTextSequence"),e.exit("codeText"),t(n)):(o.type="codeTextData",l(n))}}};const Ht={42:ot,43:ot,45:ot,48:ot,49:ot,50:ot,51:ot,52:ot,53:ot,54:ot,55:ot,56:ot,57:ot,62:at},Wt={91:ht},Gt={[-2]:mt,[-1]:mt,32:mt},Jt={35:vt,42:rt,45:[yt,rt],60:xt,61:yt,95:rt,96:Ct,126:Ct},Kt={38:At,92:Ot},Yt={[-5]:It,[-4]:It,[-3]:It,33:Dt,38:At,42:Ut,60:[$t,zt],91:Bt,92:[qt,Ot],93:Rt,95:Ut,96:Vt},Zt={null:[Ut,Ze]},Qt={null:[42,95]},Xt={null:[]};function en(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const o={},i=[];let s=[],a=[],l=!0;const u={attempt:y((function(e,t){b(e,t.from)})),check:y(v),consume:function(e){Me(e)?(r.line++,r.column=1,r.offset+=-3===e?2:1,w()):-1!==e&&(r.column++,r.offset++);r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===s[r._index].length&&(r._bufferIndex=-1,r._index++));c.previous=e,l=!0},enter:function(e,t){const n=t||{};return n.type=e,n.start=p(),c.events.push(["enter",n,c]),a.push(n),n},exit:function(e){const t=a.pop();return t.end=p(),c.events.push(["exit",t,c]),t},interrupt:y(v,{interrupt:!0})},c={code:null,containerState:{},defineSkip:function(e){o[e.line]=e.column,w()},events:[],now:p,parser:e,previous:null,sliceSerialize:function(e,t){return function(e,t){let n=-1;const r=[];let o;for(;++n<e.length;){const i=e[n];let s;if("string"===typeof i)s=i;else switch(i){case-5:s="\r";break;case-4:s="\n";break;case-3:s="\r\n";break;case-2:s=t?" ":"\t";break;case-1:if(!t&&o)continue;s=" ";break;default:s=String.fromCharCode(i)}o=-2===i,r.push(s)}return r.join("")}(h(e),t)},sliceStream:h,write:function(e){if(s=_e(s,e),m(),null!==s[s.length-1])return[];return b(t,0),c.events=Nt(i,c.events,c),c.events}};let d,f=t.tokenize.call(c,u);return t.resolveAll&&i.push(t),c;function h(e){return function(e,t){const n=t.start._index,r=t.start._bufferIndex,o=t.end._index,i=t.end._bufferIndex;let s;if(n===o)s=[e[n].slice(r,i)];else{if(s=e.slice(n,o),r>-1){const e=s[0];"string"===typeof e?s[0]=e.slice(r):s.shift()}i>0&&s.push(e[o].slice(0,i))}return s}(s,e)}function p(){const{_bufferIndex:e,_index:t,line:n,column:o,offset:i}=r;return{_bufferIndex:e,_index:t,line:n,column:o,offset:i}}function m(){let e;for(;r._index<s.length;){const t=s[r._index];if("string"===typeof t)for(e=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===e&&r._bufferIndex<t.length;)g(t.charCodeAt(r._bufferIndex));else g(t)}}function g(e){l=void 0,d=e,f=f(e)}function v(e,t){t.restore()}function y(e,t){return function(n,o,i){let s,d,f,h;return Array.isArray(n)?m(n):"tokenize"in n?m([n]):function(e){return t;function t(t){const n=null!==t&&e[t],r=null!==t&&e.null;return m([...Array.isArray(n)?n:n?[n]:[],...Array.isArray(r)?r:r?[r]:[]])(t)}}(n);function m(e){return s=e,d=0,0===e.length?i:g(e[d])}function g(e){return function(n){h=function(){const e=p(),t=c.previous,n=c.currentConstruct,o=c.events.length,i=Array.from(a);return{from:o,restore:s};function s(){r=e,c.previous=t,c.currentConstruct=n,c.events.length=o,a=i,w()}}(),f=e,e.partial||(c.currentConstruct=e);if(e.name&&c.parser.constructs.disable.null.includes(e.name))return y(n);return e.tokenize.call(t?Object.assign(Object.create(c),t):c,u,v,y)(n)}}function v(t){return l=!0,e(f,h),o}function y(e){return l=!0,h.restore(),++d<s.length?g(s[d]):i}}}function b(e,t){e.resolveAll&&!i.includes(e)&&i.push(e),e.resolve&&xe(c.events,t,c.events.length-t,e.resolve(c.events.slice(t),c)),e.resolveTo&&(c.events=e.resolveTo(c.events,c))}function w(){r.line in o&&r.column<2&&(r.column=o[r.line],r.offset+=o[r.line]-1)}}function tn(e){const t=function(e){const t={};let n=-1;for(;++n<e.length;)Ae(t,e[n]);return t}([o,...(e||{}).extensions||[]]),n={constructs:t,content:r(Ve),defined:[],document:r(He),flow:r(Ye),lazy:{},string:r(Qe),text:r(Xe)};return n;function r(e){return function(t){return en(n,e,t)}}}const nn=/[\0\t\n\r]/g;function rn(e,t){const n=Number.parseInt(e,t);return n<9||11===n||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||65535===(65535&n)||65534===(65535&n)||n>1114111?"\ufffd":String.fromCodePoint(n)}const on=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function sn(e,t,n){if(t)return t;if(35===n.charCodeAt(0)){const e=n.charCodeAt(1),t=120===e||88===e;return rn(n.slice(t?2:1),t?16:10)}return Tt(n)||e}const an={}.hasOwnProperty;function ln(e,t,n){return"string"!==typeof t&&(n=t,t=void 0),function(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:i(ne),autolinkProtocol:C,autolinkEmail:C,atxHeading:i(Q),blockQuote:i(W),characterEscape:C,characterReference:C,codeFenced:i(G),codeFencedFenceInfo:s,codeFencedFenceMeta:s,codeIndented:i(G,s),codeText:i(J,s),codeTextData:C,data:C,codeFlowValue:C,definition:i(Y),definitionDestinationString:s,definitionLabelString:s,definitionTitleString:s,emphasis:i(Z),hardBreakEscape:i(X),hardBreakTrailing:i(X),htmlFlow:i(ee,s),htmlFlowData:C,htmlText:i(ee,s),htmlTextData:C,image:i(te),label:s,link:i(ne),listItem:i(oe),listItemValue:f,listOrdered:i(re,d),listUnordered:i(re),paragraph:i(ie),reference:F,referenceString:s,resourceDestinationString:s,resourceTitleString:s,setextHeading:i(Q),strong:i(se),thematicBreak:i(le)},exit:{atxHeading:l(),atxHeadingSequence:x,autolink:l(),autolinkEmail:H,autolinkProtocol:V,blockQuote:l(),characterEscapeValue:E,characterReferenceMarkerHexadecimal:z,characterReferenceMarkerNumeric:z,characterReferenceValue:B,characterReference:q,codeFenced:l(g),codeFencedFence:m,codeFencedFenceInfo:h,codeFencedFenceMeta:p,codeFlowValue:E,codeIndented:l(v),codeText:l(N),codeTextData:E,data:E,definition:l(),definitionDestinationString:w,definitionLabelString:y,definitionTitleString:b,emphasis:l(),hardBreakEscape:l(A),hardBreakTrailing:l(A),htmlFlow:l(O),htmlFlowData:E,htmlText:l(I),htmlTextData:E,image:l(P),label:L,labelText:j,lineEnding:T,link:l(R),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:$,resourceDestinationString:D,resourceTitleString:M,resource:U,setextHeading:l(S),setextHeadingLineSequence:k,setextHeadingText:_,strong:l(),thematicBreak:l()}};cn(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(e){let r={type:"root",children:[]};const i={stack:[r],tokenStack:[],config:t,enter:a,exit:u,buffer:s,resume:c,data:n},l=[];let d=-1;for(;++d<e.length;)if("listOrdered"===e[d][1].type||"listUnordered"===e[d][1].type)if("enter"===e[d][0])l.push(d);else{d=o(e,l.pop(),d)}for(d=-1;++d<e.length;){const n=t[e[d][0]];an.call(n,e[d][1].type)&&n[e[d][1].type].call(Object.assign({sliceSerialize:e[d][2].sliceSerialize},i),e[d][1])}if(i.tokenStack.length>0){const e=i.tokenStack[i.tokenStack.length-1];(e[1]||fn).call(i,void 0,e[0])}for(r.position={start:un(e.length>0?e[0][1].start:{line:1,column:1,offset:0}),end:un(e.length>0?e[e.length-2][1].end:{line:1,column:1,offset:0})},d=-1;++d<t.transforms.length;)r=t.transforms[d](r)||r;return r}function o(e,t,n){let r,o,i,s,a=t-1,l=-1,u=!1;for(;++a<=n;){const t=e[a];switch(t[1].type){case"listUnordered":case"listOrdered":case"blockQuote":"enter"===t[0]?l++:l--,s=void 0;break;case"lineEndingBlank":"enter"===t[0]&&(!r||s||l||i||(i=a),s=void 0);break;case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:s=void 0}if(!l&&"enter"===t[0]&&"listItemPrefix"===t[1].type||-1===l&&"exit"===t[0]&&("listUnordered"===t[1].type||"listOrdered"===t[1].type)){if(r){let s=a;for(o=void 0;s--;){const t=e[s];if("lineEnding"===t[1].type||"lineEndingBlank"===t[1].type){if("exit"===t[0])continue;o&&(e[o][1].type="lineEndingBlank",u=!0),t[1].type="lineEnding",o=s}else if("linePrefix"!==t[1].type&&"blockQuotePrefix"!==t[1].type&&"blockQuotePrefixWhitespace"!==t[1].type&&"blockQuoteMarker"!==t[1].type&&"listItemIndent"!==t[1].type)break}i&&(!o||i<o)&&(r._spread=!0),r.end=Object.assign({},o?e[o][1].start:t[1].end),e.splice(o||a,0,["exit",r,t[2]]),a++,n++}if("listItemPrefix"===t[1].type){const o={type:"listItem",_spread:!1,start:Object.assign({},t[1].start),end:void 0};r=o,e.splice(a,0,["enter",o,t[2]]),a++,n++,i=void 0,s=!0}}}return e[t][1]._spread=u,n}function i(e,t){return n;function n(n){a.call(this,e(n),n),t&&t.call(this,n)}}function s(){this.stack.push({type:"fragment",children:[]})}function a(e,t,n){this.stack[this.stack.length-1].children.push(e),this.stack.push(e),this.tokenStack.push([t,n||void 0]),e.position={start:un(t.start),end:void 0}}function l(e){return t;function t(t){e&&e.call(this,t),u.call(this,t)}}function u(e,t){const n=this.stack.pop(),r=this.tokenStack.pop();if(!r)throw new Error("Cannot close `"+e.type+"` ("+K({start:e.start,end:e.end})+"): it\u2019s not open");if(r[0].type!==e.type)if(t)t.call(this,e,r[0]);else{(r[1]||fn).call(this,e,r[0])}n.position.end=un(e.end)}function c(){return function(e,t){const n=t||ye;return be(e,"boolean"!==typeof n.includeImageAlt||n.includeImageAlt,"boolean"!==typeof n.includeHtml||n.includeHtml)}(this.stack.pop())}function d(){this.data.expectingFirstListItemValue=!0}function f(e){if(this.data.expectingFirstListItemValue){this.stack[this.stack.length-2].start=Number.parseInt(this.sliceSerialize(e),10),this.data.expectingFirstListItemValue=void 0}}function h(){const e=this.resume();this.stack[this.stack.length-1].lang=e}function p(){const e=this.resume();this.stack[this.stack.length-1].meta=e}function m(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function g(){const e=this.resume();this.stack[this.stack.length-1].value=e.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function v(){const e=this.resume();this.stack[this.stack.length-1].value=e.replace(/(\r?\n|\r)$/g,"")}function y(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.label=t,n.identifier=ft(this.sliceSerialize(e)).toLowerCase()}function b(){const e=this.resume();this.stack[this.stack.length-1].title=e}function w(){const e=this.resume();this.stack[this.stack.length-1].url=e}function x(e){const t=this.stack[this.stack.length-1];if(!t.depth){const n=this.sliceSerialize(e).length;t.depth=n}}function _(){this.data.setextHeadingSlurpLineEnding=!0}function k(e){this.stack[this.stack.length-1].depth=61===this.sliceSerialize(e).codePointAt(0)?1:2}function S(){this.data.setextHeadingSlurpLineEnding=void 0}function C(e){const t=this.stack[this.stack.length-1].children;let n=t[t.length-1];n&&"text"===n.type||(n=ae(),n.position={start:un(e.start),end:void 0},t.push(n)),this.stack.push(n)}function E(e){const t=this.stack.pop();t.value+=this.sliceSerialize(e),t.position.end=un(e.end)}function T(e){const n=this.stack[this.stack.length-1];if(this.data.atHardBreak){return n.children[n.children.length-1].position.end=un(e.end),void(this.data.atHardBreak=void 0)}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(n.type)&&(C.call(this,e),E.call(this,e))}function A(){this.data.atHardBreak=!0}function O(){const e=this.resume();this.stack[this.stack.length-1].value=e}function I(){const e=this.resume();this.stack[this.stack.length-1].value=e}function N(){const e=this.resume();this.stack[this.stack.length-1].value=e}function R(){const e=this.stack[this.stack.length-1];if(this.data.inReference){const t=this.data.referenceType||"shortcut";e.type+="Reference",e.referenceType=t,delete e.url,delete e.title}else delete e.identifier,delete e.label;this.data.referenceType=void 0}function P(){const e=this.stack[this.stack.length-1];if(this.data.inReference){const t=this.data.referenceType||"shortcut";e.type+="Reference",e.referenceType=t,delete e.url,delete e.title}else delete e.identifier,delete e.label;this.data.referenceType=void 0}function j(e){const t=this.sliceSerialize(e),n=this.stack[this.stack.length-2];n.label=function(e){return e.replace(on,sn)}(t),n.identifier=ft(t).toLowerCase()}function L(){const e=this.stack[this.stack.length-1],t=this.resume(),n=this.stack[this.stack.length-1];if(this.data.inReference=!0,"link"===n.type){const t=e.children;n.children=t}else n.alt=t}function D(){const e=this.resume();this.stack[this.stack.length-1].url=e}function M(){const e=this.resume();this.stack[this.stack.length-1].title=e}function U(){this.data.inReference=void 0}function F(){this.data.referenceType="collapsed"}function $(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.label=t,n.identifier=ft(this.sliceSerialize(e)).toLowerCase(),this.data.referenceType="full"}function z(e){this.data.characterReferenceType=e.type}function B(e){const t=this.sliceSerialize(e),n=this.data.characterReferenceType;let r;if(n)r=rn(t,"characterReferenceMarkerNumeric"===n?10:16),this.data.characterReferenceType=void 0;else{r=Tt(t)}this.stack[this.stack.length-1].value+=r}function q(e){this.stack.pop().position.end=un(e.end)}function V(e){E.call(this,e);this.stack[this.stack.length-1].url=this.sliceSerialize(e)}function H(e){E.call(this,e);this.stack[this.stack.length-1].url="mailto:"+this.sliceSerialize(e)}function W(){return{type:"blockquote",children:[]}}function G(){return{type:"code",lang:null,meta:null,value:""}}function J(){return{type:"inlineCode",value:""}}function Y(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Z(){return{type:"emphasis",children:[]}}function Q(){return{type:"heading",depth:0,children:[]}}function X(){return{type:"break"}}function ee(){return{type:"html",value:""}}function te(){return{type:"image",title:null,url:"",alt:null}}function ne(){return{type:"link",title:null,url:"",children:[]}}function re(e){return{type:"list",ordered:"listOrdered"===e.type,start:null,spread:e._spread,children:[]}}function oe(e){return{type:"listItem",spread:e._spread,checked:null,children:[]}}function ie(){return{type:"paragraph",children:[]}}function se(){return{type:"strong",children:[]}}function ae(){return{type:"text",value:""}}function le(){return{type:"thematicBreak"}}}(n)(function(e){for(;!Ce(e););return e}(tn(n).document().write(function(){let e,t=1,n="",r=!0;return function(o,i,s){const a=[];let l,u,c,d,f;for(o=n+("string"===typeof o?o.toString():new TextDecoder(i||void 0).decode(o)),c=0,n="",r&&(65279===o.charCodeAt(0)&&c++,r=void 0);c<o.length;){if(nn.lastIndex=c,l=nn.exec(o),d=l&&void 0!==l.index?l.index:o.length,f=o.charCodeAt(d),!l){n=o.slice(c);break}if(10===f&&c===d&&e)a.push(-3),e=void 0;else switch(e&&(a.push(-5),e=void 0),c<d&&(a.push(o.slice(c,d)),t+=d-c),f){case 0:a.push(65533),t++;break;case 9:for(u=4*Math.ceil(t/4),a.push(-2);t++<u;)a.push(-1);break;case 10:a.push(-4),t=1;break;default:e=!0,t=1}c=d+1}return s&&(e&&a.push(-5),n&&a.push(n),a.push(null)),a}}()(e,t,!0))))}function un(e){return{line:e.line,column:e.column,offset:e.offset}}function cn(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?cn(e,r):dn(e,r)}}function dn(e,t){let n;for(n in t)if(an.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function fn(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+K({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+K({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+K({start:t.start,end:t.end})+") is still open")}function hn(e){const t=this;t.parser=function(n){return ln(n,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}const pn="object"===typeof self?self:globalThis,mn=e=>((e,t)=>{const n=(t,n)=>(e.set(n,t),t),r=o=>{if(e.has(o))return e.get(o);const[i,s]=t[o];switch(i){case 0:case-1:return n(s,o);case 1:{const e=n([],o);for(const t of s)e.push(r(t));return e}case 2:{const e=n({},o);for(const[t,n]of s)e[r(t)]=r(n);return e}case 3:return n(new Date(s),o);case 4:{const{source:e,flags:t}=s;return n(new RegExp(e,t),o)}case 5:{const e=n(new Map,o);for(const[t,n]of s)e.set(r(t),r(n));return e}case 6:{const e=n(new Set,o);for(const t of s)e.add(r(t));return e}case 7:{const{name:e,message:t}=s;return n(new pn[e](t),o)}case 8:return n(BigInt(s),o);case"BigInt":return n(Object(BigInt(s)),o)}return n(new pn[i](s),o)};return r})(new Map,e)(0),gn="",{toString:vn}={},{keys:yn}=Object,bn=e=>{const t=typeof e;if("object"!==t||!e)return[0,t];const n=vn.call(e).slice(8,-1);switch(n){case"Array":return[1,gn];case"Object":return[2,gn];case"Date":return[3,gn];case"RegExp":return[4,gn];case"Map":return[5,gn];case"Set":return[6,gn]}return n.includes("Array")?[1,n]:n.includes("Error")?[7,n]:[2,n]},wn=e=>{let[t,n]=e;return 0===t&&("function"===n||"symbol"===n)},xn=function(e){let{json:t,lossy:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=[];return((e,t,n,r)=>{const o=(e,t)=>{const o=r.push(e)-1;return n.set(t,o),o},i=r=>{if(n.has(r))return n.get(r);let[s,a]=bn(r);switch(s){case 0:{let t=r;switch(a){case"bigint":s=8,t=r.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+a);t=null;break;case"undefined":return o([-1],r)}return o([s,t],r)}case 1:{if(a)return o([a,[...r]],r);const e=[],t=o([s,e],r);for(const n of r)e.push(i(n));return t}case 2:{if(a)switch(a){case"BigInt":return o([a,r.toString()],r);case"Boolean":case"Number":case"String":return o([a,r.valueOf()],r)}if(t&&"toJSON"in r)return i(r.toJSON());const n=[],l=o([s,n],r);for(const t of yn(r))!e&&wn(bn(r[t]))||n.push([i(t),i(r[t])]);return l}case 3:return o([s,r.toISOString()],r);case 4:{const{source:e,flags:t}=r;return o([s,{source:e,flags:t}],r)}case 5:{const t=[],n=o([s,t],r);for(const[o,s]of r)(e||!wn(bn(o))&&!wn(bn(s)))&&t.push([i(o),i(s)]);return n}case 6:{const t=[],n=o([s,t],r);for(const o of r)!e&&wn(bn(o))||t.push(i(o));return n}}const{message:l}=r;return o([s,{name:a,message:l}],r)};return i})(!(t||n),!!t,new Map,r)(e),r},_n="function"===typeof structuredClone?(e,t)=>t&&("json"in t||"lossy"in t)?mn(xn(e,t)):structuredClone(e):(e,t)=>mn(xn(e,t));function kn(e){const t=[];let n=-1,r=0,o=0;for(;++n<e.length;){const i=e.charCodeAt(n);let s="";if(37===i&&Ne(e.charCodeAt(n+1))&&Ne(e.charCodeAt(n+2)))o=2;else if(i<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(i))||(s=String.fromCharCode(i));else if(i>55295&&i<57344){const t=e.charCodeAt(n+1);i<56320&&t>56319&&t<57344?(s=String.fromCharCode(i,t),o=1):s="\ufffd"}else s=String.fromCharCode(i);s&&(t.push(e.slice(r,n),encodeURIComponent(s)),r=n+o+1,s=""),o&&(n+=o,o=0)}return t.join("")+e.slice(r)}function Sn(e,t){const n=[{type:"text",value:"\u21a9"}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function Cn(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}const En=function(e){if(null===e||void 0===e)return An;if("function"===typeof e)return Tn(e);if("object"===typeof e)return Array.isArray(e)?function(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=En(e[n]);return Tn(r);function r(){let e=-1;for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];for(;++e<t.length;)if(t[e].apply(this,r))return!0;return!1}}(e):function(e){const t=e;return Tn(n);function n(n){const r=n;let o;for(o in e)if(r[o]!==t[o])return!1;return!0}}(e);if("string"===typeof e)return function(e){return Tn(t);function t(t){return t&&t.type===e}}(e);throw new Error("Expected function, string, or object as test")};function Tn(e){return function(t,n,r){return Boolean(On(t)&&e.call(this,t,"number"===typeof n?n:void 0,r||void 0))}}function An(){return!0}function On(e){return null!==e&&"object"===typeof e&&"type"in e}const In=[],Nn=!0,Rn=!1;function Pn(e,t,n,r){let o;"function"===typeof t&&"function"!==typeof n?(r=n,n=t):o=t;const i=En(o),s=r?-1:1;!function e(o,a,l){const u=o&&"object"===typeof o?o:{};if("string"===typeof u.type){const e="string"===typeof u.tagName?u.tagName:"string"===typeof u.name?u.name:void 0;Object.defineProperty(c,"name",{value:"node ("+o.type+(e?"<"+e+">":"")+")"})}return c;function c(){let u,c,d,f=In;if((!t||i(o,a,l[l.length-1]||void 0))&&(f=function(e){if(Array.isArray(e))return e;if("number"===typeof e)return[Nn,e];return null===e||void 0===e?In:[e]}(n(o,l)),f[0]===Rn))return f;if("children"in o&&o.children){const t=o;if(t.children&&"skip"!==f[0])for(c=(r?t.children.length:-1)+s,d=l.concat(t);c>-1&&c<t.children.length;){const n=t.children[c];if(u=e(n,c,d)(),u[0]===Rn)return u;c="number"===typeof u[1]?u[1]:c+s}}return f}}(e,void 0,[])()}function jn(e,t,n,r){let o,i,s;"function"===typeof t&&"function"!==typeof n?(i=void 0,s=t,o=n):(i=t,s=n,o=r),Pn(e,i,(function(e,t){const n=t[t.length-1],r=n?n.children.indexOf(e):void 0;return s(e,r,n)}),o)}function Ln(e,t){const n=t.referenceType;let r="]";if("collapsed"===n?r+="[]":"full"===n&&(r+="["+(t.label||t.identifier)+"]"),"imageReference"===t.type)return[{type:"text",value:"!["+t.alt+r}];const o=e.all(t),i=o[0];i&&"text"===i.type?i.value="["+i.value:o.unshift({type:"text",value:"["});const s=o[o.length-1];return s&&"text"===s.type?s.value+=r:o.push({type:"text",value:r}),o}function Dn(e){const t=e.spread;return null===t||void 0===t?e.children.length>1:t}function Mn(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),o=0;const i=[];for(;r;)i.push(Un(t.slice(o,r.index),o>0,!0),r[0]),o=r.index+r[0].length,r=n.exec(t);return i.push(Un(t.slice(o),o>0,!1)),i.join("")}function Un(e,t,n){let r=0,o=e.length;if(t){let t=e.codePointAt(r);for(;9===t||32===t;)r++,t=e.codePointAt(r)}if(n){let t=e.codePointAt(o-1);for(;9===t||32===t;)o--,t=e.codePointAt(o-1)}return o>r?e.slice(r,o):""}const Fn={blockquote:function(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)},break:function(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:"\n"}]},code:function(e,t){const n=t.value?t.value+"\n":"",r={};t.lang&&(r.className=["language-"+t.lang]);let o={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(o.data={meta:t.meta}),e.patch(t,o),o=e.applyData(t,o),o={type:"element",tagName:"pre",properties:{},children:[o]},e.patch(t,o),o},delete:function(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},emphasis:function(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},footnoteReference:function(e,t){const n="string"===typeof e.options.clobberPrefix?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),o=kn(r.toLowerCase()),i=e.footnoteOrder.indexOf(r);let s,a=e.footnoteCounts.get(r);void 0===a?(a=0,e.footnoteOrder.push(r),s=e.footnoteOrder.length):s=i+1,a+=1,e.footnoteCounts.set(r,a);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+o,id:n+"fnref-"+o+(a>1?"-"+a:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(s)}]};e.patch(t,l);const u={type:"element",tagName:"sup",properties:{},children:[l]};return e.patch(t,u),e.applyData(t,u)},heading:function(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},html:function(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}},imageReference:function(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return Ln(e,t);const o={src:kn(r.url||""),alt:t.alt};null!==r.title&&void 0!==r.title&&(o.title=r.title);const i={type:"element",tagName:"img",properties:o,children:[]};return e.patch(t,i),e.applyData(t,i)},image:function(e,t){const n={src:kn(t.url)};null!==t.alt&&void 0!==t.alt&&(n.alt=t.alt),null!==t.title&&void 0!==t.title&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)},inlineCode:function(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)},linkReference:function(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return Ln(e,t);const o={href:kn(r.url||"")};null!==r.title&&void 0!==r.title&&(o.title=r.title);const i={type:"element",tagName:"a",properties:o,children:e.all(t)};return e.patch(t,i),e.applyData(t,i)},link:function(e,t){const n={href:kn(t.url)};null!==t.title&&void 0!==t.title&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)},listItem:function(e,t,n){const r=e.all(t),o=n?function(e){let t=!1;if("list"===e.type){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=Dn(n[r])}return t}(n):Dn(t),i={},s=[];if("boolean"===typeof t.checked){const e=r[0];let n;e&&"element"===e.type&&"p"===e.tagName?n=e:(n={type:"element",tagName:"p",properties:{},children:[]},r.unshift(n)),n.children.length>0&&n.children.unshift({type:"text",value:" "}),n.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),i.className=["task-list-item"]}let a=-1;for(;++a<r.length;){const e=r[a];(o||0!==a||"element"!==e.type||"p"!==e.tagName)&&s.push({type:"text",value:"\n"}),"element"!==e.type||"p"!==e.tagName||o?s.push(e):s.push(...e.children)}const l=r[r.length-1];l&&(o||"element"!==l.type||"p"!==l.tagName)&&s.push({type:"text",value:"\n"});const u={type:"element",tagName:"li",properties:i,children:s};return e.patch(t,u),e.applyData(t,u)},list:function(e,t){const n={},r=e.all(t);let o=-1;for("number"===typeof t.start&&1!==t.start&&(n.start=t.start);++o<r.length;){const e=r[o];if("element"===e.type&&"li"===e.tagName&&e.properties&&Array.isArray(e.properties.className)&&e.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const i={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,i),e.applyData(t,i)},paragraph:function(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},root:function(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)},strong:function(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},table:function(e,t){const n=e.all(t),r=n.shift(),o=[];if(r){const n={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],n),o.push(n)}if(n.length>0){const r={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},i=G(t.children[1]),s=W(t.children[t.children.length-1]);i&&s&&(r.position={start:i,end:s}),o.push(r)}const i={type:"element",tagName:"table",properties:{},children:e.wrap(o,!0)};return e.patch(t,i),e.applyData(t,i)},tableCell:function(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},tableRow:function(e,t,n){const r=n?n.children:void 0,o=0===(r?r.indexOf(t):1)?"th":"td",i=n&&"table"===n.type?n.align:void 0,s=i?i.length:t.children.length;let a=-1;const l=[];for(;++a<s;){const n=t.children[a],r={},s=i?i[a]:void 0;s&&(r.align=s);let u={type:"element",tagName:o,properties:r,children:[]};n&&(u.children=e.all(n),e.patch(n,u),u=e.applyData(n,u)),l.push(u)}const u={type:"element",tagName:"tr",properties:{},children:e.wrap(l,!0)};return e.patch(t,u),e.applyData(t,u)},text:function(e,t){const n={type:"text",value:Mn(String(t.value))};return e.patch(t,n),e.applyData(t,n)},thematicBreak:function(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)},toml:$n,yaml:$n,definition:$n,footnoteDefinition:$n};function $n(){}const zn={}.hasOwnProperty,Bn={};function qn(e,t){e.position&&(t.position=function(e){const t=G(e),n=W(e);if(t&&n)return{start:t,end:n}}(e))}function Vn(e,t){let n=t;if(e&&e.data){const t=e.data.hName,r=e.data.hChildren,o=e.data.hProperties;if("string"===typeof t)if("element"===n.type)n.tagName=t;else{n={type:"element",tagName:t,properties:{},children:"children"in n?n.children:[n]}}"element"===n.type&&o&&Object.assign(n.properties,_n(o)),"children"in n&&n.children&&null!==r&&void 0!==r&&(n.children=r)}return n}function Hn(e,t){const n=t.data||{},r=!("value"in t)||zn.call(n,"hProperties")||zn.call(n,"hChildren")?{type:"element",tagName:"div",properties:{},children:e.all(t)}:{type:"text",value:t.value};return e.patch(t,r),e.applyData(t,r)}function Wn(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:"\n"});++r<e.length;)r&&n.push({type:"text",value:"\n"}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:"\n"}),n}function Gn(e){let t=0,n=e.charCodeAt(t);for(;9===n||32===n;)t++,n=e.charCodeAt(t);return e.slice(t)}function Jn(e,t){const n=function(e,t){const n=t||Bn,r=new Map,o=new Map,i=new Map,s={...Fn,...n.handlers},a={all:function(e){const t=[];if("children"in e){const n=e.children;let r=-1;for(;++r<n.length;){const o=a.one(n[r],e);if(o){if(r&&"break"===n[r-1].type&&(Array.isArray(o)||"text"!==o.type||(o.value=Gn(o.value)),!Array.isArray(o)&&"element"===o.type)){const e=o.children[0];e&&"text"===e.type&&(e.value=Gn(e.value))}Array.isArray(o)?t.push(...o):t.push(o)}}}return t},applyData:Vn,definitionById:r,footnoteById:o,footnoteCounts:i,footnoteOrder:[],handlers:s,one:function(e,t){const n=e.type,r=a.handlers[n];if(zn.call(a.handlers,n)&&r)return r(a,e,t);if(a.options.passThrough&&a.options.passThrough.includes(n)){if("children"in e){const{children:t,...n}=e,r=_n(n);return r.children=a.all(e),r}return _n(e)}return(a.options.unknownHandler||Hn)(a,e,t)},options:n,patch:qn,wrap:Wn};return jn(e,(function(e){if("definition"===e.type||"footnoteDefinition"===e.type){const t="definition"===e.type?r:o,n=String(e.identifier).toUpperCase();t.has(n)||t.set(n,e)}})),a}(e,t),r=n.one(e,void 0),o=function(e){const t="string"===typeof e.options.clobberPrefix?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||Sn,r=e.options.footnoteBackLabel||Cn,o=e.options.footnoteLabel||"Footnotes",i=e.options.footnoteLabelTagName||"h2",s=e.options.footnoteLabelProperties||{className:["sr-only"]},a=[];let l=-1;for(;++l<e.footnoteOrder.length;){const o=e.footnoteById.get(e.footnoteOrder[l]);if(!o)continue;const i=e.all(o),s=String(o.identifier).toUpperCase(),u=kn(s.toLowerCase());let c=0;const d=[],f=e.footnoteCounts.get(s);for(;void 0!==f&&++c<=f;){d.length>0&&d.push({type:"text",value:" "});let e="string"===typeof n?n:n(l,c);"string"===typeof e&&(e={type:"text",value:e}),d.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+u+(c>1?"-"+c:""),dataFootnoteBackref:"",ariaLabel:"string"===typeof r?r:r(l,c),className:["data-footnote-backref"]},children:Array.isArray(e)?e:[e]})}const h=i[i.length-1];if(h&&"element"===h.type&&"p"===h.tagName){const e=h.children[h.children.length-1];e&&"text"===e.type?e.value+=" ":h.children.push({type:"text",value:" "}),h.children.push(...d)}else i.push(...d);const p={type:"element",tagName:"li",properties:{id:t+"fn-"+u},children:e.wrap(i,!0)};e.patch(o,p),a.push(p)}if(0!==a.length)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:i,properties:{..._n(s),id:"footnote-label"},children:[{type:"text",value:o}]},{type:"text",value:"\n"},{type:"element",tagName:"ol",properties:{},children:e.wrap(a,!0)},{type:"text",value:"\n"}]}}(n),i=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return o&&i.children.push({type:"text",value:"\n"},o),i}function Kn(e,t){return e&&"run"in e?async function(n,r){const o=Jn(n,{file:r,...t});await e.run(o,r)}:function(n,r){return Jn(n,{file:r,...e||t})}}function Yn(e){if(e)throw e}var Zn=n(3240);function Qn(e){if("object"!==typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function Xn(){const e=[],t={run:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];let o=-1;const i=n.pop();if("function"!==typeof i)throw new TypeError("Expected function as last argument, not "+i);!function t(r){const s=e[++o];let a=-1;if(r)i(r);else{for(var l=arguments.length,u=new Array(l>1?l-1:0),c=1;c<l;c++)u[c-1]=arguments[c];for(;++a<n.length;)null!==u[a]&&void 0!==u[a]||(u[a]=n[a]);n=u,s?function(e,t){let n;return o;function o(){for(var t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];const l=e.length>o.length;let u;l&&o.push(i);try{u=e.apply(this,o)}catch(r){if(l&&n)throw r;return i(r)}l||(u&&u.then&&"function"===typeof u.then?u.then(s,i):u instanceof Error?i(u):s(u))}function i(e){if(!n){n=!0;for(var r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];t(e,...o)}}function s(e){i(null,e)}}(s,t)(...u):i(null,...u)}}(null,...n)},use:function(n){if("function"!==typeof n)throw new TypeError("Expected `middelware` to be a function, not "+n);return e.push(n),t}};return t}const er={basename:function(e,t){if(void 0!==t&&"string"!==typeof t)throw new TypeError('"ext" argument must be a string');tr(e);let n,r=0,o=-1,i=e.length;if(void 0===t||0===t.length||t.length>e.length){for(;i--;)if(47===e.codePointAt(i)){if(n){r=i+1;break}}else o<0&&(n=!0,o=i+1);return o<0?"":e.slice(r,o)}if(t===e)return"";let s=-1,a=t.length-1;for(;i--;)if(47===e.codePointAt(i)){if(n){r=i+1;break}}else s<0&&(n=!0,s=i+1),a>-1&&(e.codePointAt(i)===t.codePointAt(a--)?a<0&&(o=i):(a=-1,o=s));r===o?o=s:o<0&&(o=e.length);return e.slice(r,o)},dirname:function(e){if(tr(e),0===e.length)return".";let t,n=-1,r=e.length;for(;--r;)if(47===e.codePointAt(r)){if(t){n=r;break}}else t||(t=!0);return n<0?47===e.codePointAt(0)?"/":".":1===n&&47===e.codePointAt(0)?"//":e.slice(0,n)},extname:function(e){tr(e);let t,n=e.length,r=-1,o=0,i=-1,s=0;for(;n--;){const a=e.codePointAt(n);if(47!==a)r<0&&(t=!0,r=n+1),46===a?i<0?i=n:1!==s&&(s=1):i>-1&&(s=-1);else if(t){o=n+1;break}}if(i<0||r<0||0===s||1===s&&i===r-1&&i===o+1)return"";return e.slice(i,r)},join:function(){let e,t=-1;for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];for(;++t<r.length;)tr(r[t]),r[t]&&(e=void 0===e?r[t]:e+"/"+r[t]);return void 0===e?".":function(e){tr(e);const t=47===e.codePointAt(0);let n=function(e,t){let n,r,o="",i=0,s=-1,a=0,l=-1;for(;++l<=e.length;){if(l<e.length)n=e.codePointAt(l);else{if(47===n)break;n=47}if(47===n){if(s===l-1||1===a);else if(s!==l-1&&2===a){if(o.length<2||2!==i||46!==o.codePointAt(o.length-1)||46!==o.codePointAt(o.length-2))if(o.length>2){if(r=o.lastIndexOf("/"),r!==o.length-1){r<0?(o="",i=0):(o=o.slice(0,r),i=o.length-1-o.lastIndexOf("/")),s=l,a=0;continue}}else if(o.length>0){o="",i=0,s=l,a=0;continue}t&&(o=o.length>0?o+"/..":"..",i=2)}else o.length>0?o+="/"+e.slice(s+1,l):o=e.slice(s+1,l),i=l-s-1;s=l,a=0}else 46===n&&a>-1?a++:a=-1}return o}(e,!t);0!==n.length||t||(n=".");n.length>0&&47===e.codePointAt(e.length-1)&&(n+="/");return t?"/"+n:n}(e)},sep:"/"};function tr(e){if("string"!==typeof e)throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const nr={cwd:function(){return"/"}};function rr(e){return Boolean(null!==e&&"object"===typeof e&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&void 0===e.auth)}function or(e){if("string"===typeof e)e=new URL(e);else if(!rr(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if("file:"!==e.protocol){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return function(e){if(""!==e.hostname){const e=new TypeError('File URL host must be "localhost" or empty on darwin');throw e.code="ERR_INVALID_FILE_URL_HOST",e}const t=e.pathname;let n=-1;for(;++n<t.length;)if(37===t.codePointAt(n)&&50===t.codePointAt(n+1)){const e=t.codePointAt(n+2);if(70===e||102===e){const e=new TypeError("File URL path must not include encoded / characters");throw e.code="ERR_INVALID_FILE_URL_PATH",e}}return decodeURIComponent(t)}(e)}const ir=["history","path","basename","stem","extname","dirname"];class sr{constructor(e){let t;t=e?rr(e)?{path:e}:"string"===typeof e||function(e){return Boolean(e&&"object"===typeof e&&"byteLength"in e&&"byteOffset"in e)}(e)?{value:e}:e:{},this.cwd="cwd"in t?"":nr.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let n,r=-1;for(;++r<ir.length;){const e=ir[r];e in t&&void 0!==t[e]&&null!==t[e]&&(this[e]="history"===e?[...t[e]]:t[e])}for(n in t)ir.includes(n)||(this[n]=t[n])}get basename(){return"string"===typeof this.path?er.basename(this.path):void 0}set basename(e){lr(e,"basename"),ar(e,"basename"),this.path=er.join(this.dirname||"",e)}get dirname(){return"string"===typeof this.path?er.dirname(this.path):void 0}set dirname(e){ur(this.basename,"dirname"),this.path=er.join(e||"",this.basename)}get extname(){return"string"===typeof this.path?er.extname(this.path):void 0}set extname(e){if(ar(e,"extname"),ur(this.dirname,"extname"),e){if(46!==e.codePointAt(0))throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=er.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){rr(e)&&(e=or(e)),lr(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return"string"===typeof this.path?er.basename(this.path,this.extname):void 0}set stem(e){lr(e,"stem"),ar(e,"stem"),this.path=er.join(this.dirname||"",e+(this.extname||""))}fail(e,t,n){const r=this.message(e,t,n);throw r.fatal=!0,r}info(e,t,n){const r=this.message(e,t,n);return r.fatal=void 0,r}message(e,t,n){const r=new X(e,t,n);return this.path&&(r.name=this.path+":"+r.name,r.file=this.path),r.fatal=!1,this.messages.push(r),r}toString(e){if(void 0===this.value)return"";if("string"===typeof this.value)return this.value;return new TextDecoder(e||void 0).decode(this.value)}}function ar(e,t){if(e&&e.includes(er.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+er.sep+"`")}function lr(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function ur(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}const cr=function(e){const t=this.constructor.prototype,n=t[e],r=function(){return n.apply(r,arguments)};return Object.setPrototypeOf(r,t),r},dr={}.hasOwnProperty;class fr extends cr{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=Xn()}copy(){const e=new fr;let t=-1;for(;++t<this.attachers.length;){const n=this.attachers[t];e.use(...n)}return e.data(Zn(!0,{},this.namespace)),e}data(e,t){return"string"===typeof e?2===arguments.length?(gr("data",this.frozen),this.namespace[e]=t,this):dr.call(this.namespace,e)&&this.namespace[e]||void 0:e?(gr("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[t,...n]=this.attachers[this.freezeIndex];if(!1===n[0])continue;!0===n[0]&&(n[0]=void 0);const r=t.call(e,...n);"function"===typeof r&&this.transformers.use(r)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const t=br(e),n=this.parser||this.Parser;return pr("parse",n),n(String(t),t)}process(e,t){const n=this;return this.freeze(),pr("process",this.parser||this.Parser),mr("process",this.compiler||this.Compiler),t?r(void 0,t):new Promise(r);function r(r,o){const i=br(e),s=n.parse(i);function a(e,n){e||!n?o(e):r?r(n):t(void 0,n)}n.run(s,i,(function(e,t,r){if(e||!t||!r)return a(e);const o=t,i=n.stringify(o,r);var s;"string"===typeof(s=i)||function(e){return Boolean(e&&"object"===typeof e&&"byteLength"in e&&"byteOffset"in e)}(s)?r.value=i:r.result=i,a(e,r)}))}}processSync(e){let t,n=!1;return this.freeze(),pr("processSync",this.parser||this.Parser),mr("processSync",this.compiler||this.Compiler),this.process(e,(function(e,r){n=!0,Yn(e),t=r})),yr("processSync","process",n),t}run(e,t,n){vr(e),this.freeze();const r=this.transformers;return n||"function"!==typeof t||(n=t,t=void 0),n?o(void 0,n):new Promise(o);function o(o,i){const s=br(t);r.run(e,s,(function(t,r,s){const a=r||e;t?i(t):o?o(a):n(void 0,a,s)}))}}runSync(e,t){let n,r=!1;return this.run(e,t,(function(e,t){Yn(e),n=t,r=!0})),yr("runSync","run",r),n}stringify(e,t){this.freeze();const n=br(t),r=this.compiler||this.Compiler;return mr("stringify",r),vr(e),r(e,n)}use(e){const t=this.attachers,n=this.namespace;if(gr("use",this.frozen),null===e||void 0===e);else if("function"===typeof e){for(var r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];u(e,o)}else{if("object"!==typeof e)throw new TypeError("Expected usable value, not `"+e+"`");Array.isArray(e)?l(e):a(e)}return this;function s(e){if("function"===typeof e)u(e,[]);else{if("object"!==typeof e)throw new TypeError("Expected usable value, not `"+e+"`");if(Array.isArray(e)){const[t,...n]=e;u(t,n)}else a(e)}}function a(e){if(!("plugins"in e)&&!("settings"in e))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");l(e.plugins),e.settings&&(n.settings=Zn(!0,n.settings,e.settings))}function l(e){let t=-1;if(null===e||void 0===e);else{if(!Array.isArray(e))throw new TypeError("Expected a list of plugins, not `"+e+"`");for(;++t<e.length;){s(e[t])}}}function u(e,n){let r=-1,o=-1;for(;++r<t.length;)if(t[r][0]===e){o=r;break}if(-1===o)t.push([e,...n]);else if(n.length>0){let[r,...i]=n;const s=t[o][1];Qn(s)&&Qn(r)&&(r=Zn(!0,s,r)),t[o]=[e,r,...i]}}}}const hr=(new fr).freeze();function pr(e,t){if("function"!==typeof t)throw new TypeError("Cannot `"+e+"` without `parser`")}function mr(e,t){if("function"!==typeof t)throw new TypeError("Cannot `"+e+"` without `compiler`")}function gr(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function vr(e){if(!Qn(e)||"string"!==typeof e.type)throw new TypeError("Expected node, got `"+e+"`")}function yr(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function br(e){return function(e){return Boolean(e&&"object"===typeof e&&"message"in e&&"messages"in e)}(e)?e:new sr(e)}const wr=[],xr={allowDangerousHtml:!0},_r=/^(https?|ircs?|mailto|xmpp)$/i,kr=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Sr(e){const t=Cr(e),n=Er(e);return Tr(t.runSync(t.parse(n),n),e)}function Cr(e){const t=e.rehypePlugins||wr,n=e.remarkPlugins||wr,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...xr}:xr;return hr().use(hn).use(n).use(Kn,r).use(t)}function Er(e){const t=e.children||"",n=new sr;return"string"===typeof t&&(n.value=t),n}function Tr(e,t){const n=t.allowedElements,r=t.allowElement,o=t.components,i=t.disallowedElements,s=t.skipHtml,a=t.unwrapDisallowed,l=t.urlTransform||Ar;for(const u of kr)Object.hasOwn(t,u.from)&&(u.from,u.to&&u.to,u.id);return jn(e,(function(e,t,o){if("raw"===e.type&&o&&"number"===typeof t)return s?o.children.splice(t,1):o.children[t]={type:"text",value:e.value},t;if("element"===e.type){let t;for(t in ge)if(Object.hasOwn(ge,t)&&Object.hasOwn(e.properties,t)){const n=e.properties[t],r=ge[t];(null===r||r.includes(e.tagName))&&(e.properties[t]=l(String(n||""),t,e))}}if("element"===e.type){let s=n?!n.includes(e.tagName):!!i&&i.includes(e.tagName);if(!s&&r&&"number"===typeof t&&(s=!r(e,t,o)),s&&o&&"number"===typeof t)return a&&e.children?o.children.splice(t,1,...e.children):o.children.splice(t,1),t}})),se(e,{Fragment:ve.Fragment,components:o,ignoreInvalidStyle:!0,jsx:ve.jsx,jsxs:ve.jsxs,passKeys:!0,passNode:!0})}function Ar(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),o=e.indexOf("/");return-1===t||-1!==o&&t>o||-1!==n&&t>n||-1!==r&&t>r||_r.test(e.slice(0,t))?e:""}var Or=n(8613);function Ir(e){let{studentTask:t,isLoading:n}=e;return n?(0,ve.jsxs)("div",{className:"student-task-loading bg-neutral-15 p-6 rounded-md shadow-lg max-w-3xl mx-auto relative flex flex-col items-center justify-center",style:{maxHeight:"400px",minHeight:"200px",borderColor:"var(--Neutral-30)"},children:[(0,ve.jsx)(Or.b,{isLoading:!0}),(0,ve.jsx)("p",{className:"text-center text-tokyo-fg-dim mt-4",children:"Generating code review task..."})]}):t?(0,ve.jsx)("div",{className:"student-task bg-neutral-15 p-6 rounded-md shadow-lg max-w-3xl mx-auto relative scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-gray-100 hover:scrollbar-thumb-gray-400 text-dark",style:{transformOrigin:"top center",maxHeight:"400px",overflow:"auto",borderColor:"var(--Neutral-30)"},children:(0,ve.jsx)(Sr,{children:t})}):(0,ve.jsx)("div",{className:"text-center p-6 text-tokyo-fg",children:"No task information available."})}const Nr=(0,i.memo)(Ir)},5789:(e,t,n)=>{"use strict";n.a(e,(async(e,r)=>{try{n.d(t,{f:()=>S});var o=n(5043),i=n(8227),s=n(5206),a=n(6787),l=n(941),u=n(4409),c=n(9250),d=n(9028),f=n(8613),h=n(5787),p=n(9962),m=n(6385),g=n(7910),v=n(8941),y=n(6538),b=n(6092),w=n(579),x=e([i]);i=(x.then?(await x)():x)[0];const k=10;function S(e){var t,n,r,x;let{examId:_,examIntentStarted:S,onTimerExpired:C,onManualStop:E,onTranscriptChunk:T,liveSuggestions:A,onLoadingStateChange:O,onButtonReady:I,videoRef:N,supportsVideo:R,onVideoStreamChange:P,onButtonClicked:j,forceStopAudio:L,forceStopVideo:D,quickStartExam:M,onScreenShareCancelled:U}=e;const{client:F,connected:$,connect:z,disconnect:B}=(0,s.P)(),[q,V]=(0,o.useState)(null),[H,W]=(0,o.useState)(!1),[G,J]=(0,o.useState)(""),[K,Y]=(0,o.useState)(""),[Z,Q]=(0,o.useState)(""),[X,ee]=(0,o.useState)(""),[te,ne]=(0,o.useState)(!1),[re,oe]=(0,o.useState)(""),[ie,se]=(0,o.useState)(!1),[ae,le]=(0,o.useState)(null),ue=(0,o.useRef)(null),ce=(0,o.useRef)(!1),de=(0,o.useRef)(!1),[fe,he]=(0,o.useState)(!1),[pe,me]=(0,o.useState)(""),{getConversationSummary:ge,clearConversation:ve,getDebugInfo:ye}=(0,g.H)(F,T),be=null!==(t=null===q||void 0===q?void 0:q.duration)&&void 0!==t?t:k,we=60*be*1e3,[xe,_e]=(0,o.useState)(null),ke=(0,o.useCallback)((e=>{console.log(`\ud83d\uded1 Session ending: ${e}`),_e(e),ue.current&&(console.log("\ud83e\uddf9 Timer cleanup complete"),ue.current(),ue.current=null),$&&F&&(console.log("\ud83d\udd0c Disconnecting client and terminating session"),B(),F.terminateSession()),se(!1),"timer"===e&&C?C():"manual"===e&&E&&E(),he(!0),me("Generating review summary..."),setTimeout((async()=>{try{var e;const t=q?{title:q.title,description:q.description,duration:null!==(e=q.duration)&&void 0!==e?e:be}:void 0,n=await ge(t,A);me(n)}catch(t){console.error("Error generating summary:",t),me("Error generating review summary. Please try again.")}}),100)}),[$,F,B,C,E,ge,q,be,A]),Se=(0,o.useCallback)((async()=>{await ke("timer")}),[ke]),Ce=(0,o.useCallback)((()=>{ke("manual")}),[ke]);(0,o.useEffect)((()=>()=>{console.log("\ud83e\uddf9 ExamWorkflow component unmounting - cleaning up"),ue.current&&(ue.current(),ue.current=null),ce.current=!1,F&&(console.log("\ud83d\uded1 Terminating session on component unmount"),F.terminateSession())}),[F]),(0,o.useEffect)((()=>{if(!_)return J("No Exam ID provided."),void W(!1);if(M&&!de.current)return console.log("\ud83d\ude80 Using quick start exam data:",M),V(M),W(!1),void(de.current=!0);if(M&&de.current)return;(async()=>{W(!0),J("");try{const{data:e,error:t}=await i.N.from("exams").select("*").eq("id",_).single();if(t)throw t;V(e)}catch(e){console.error("Error fetching exam simulator:",e),J(e instanceof Error?e.message:"An unknown error occurred")}finally{W(!1)}})()}),[_,M]),(0,o.useEffect)((()=>{null!==M&&void 0!==M&&M.repoUrl&&"Github Repo"===M.type&&(console.log("\ud83d\ude80 Setting repo URL from quick start data:",M.repoUrl),Y(M.repoUrl))}),[M]);const Ee=(0,o.useCallback)((async()=>{if(q){ne(!0),J("");try{let e="";const t=0===q.duration;if("Github Repo"===q.type){if(!K)return ne(!1),J("GitHub repository URL is required to start this exam type."),void console.log("Repo URL is required for GitHub exam type.");console.log("\ud83d\udd0d Starting GitHub repo processing for:",K);const t=await(0,l.A)(K,q.learning_goals);Q(t),console.log("\u2705 GitHub questions generated:",t),e=u.A.github(q,be,t),oe("Review the provided GitHub repository based on the learning goals.")}else if(t){console.log("\ud83d\ude80 Preparing quick start general review");const t="Show me the code you'd like me to review, and I'll provide specific suggestions for improvement.";oe(t),e=u.A.general(q,t)}else{const t=(await(0,a.N)(q))["task-student"];oe(t||"No task defined."),e=u.A.standard(q,be,t)}ee(e),console.log("\u2705 Prompt preparation completed successfully")}catch(e){console.error("\u274c Failed to prepare exam content:",e),J(e instanceof Error?`Error: ${e.message}`:"Failed to load exam questions/prompt")}finally{ne(!1)}}}),[q,K,be]);return(0,o.useEffect)((()=>{if(q&&!X&&!te)if("Github Repo"===q.type){0===q.duration&&K&&(console.log("\ud83d\ude80 Quick start GitHub repo - preparing content immediately"),Ee())}else Ee()}),[q,K]),(0,o.useEffect)((()=>{if(S&&q){if("Github Repo"===q.type){if(0===q.duration)if(X){console.log("\ud83d\ude80 Quick start GitHub repo - using pre-prepared content");const e=(0,d.h)(X);le(e)}else K?te||(console.log("\u26a0\ufe0f Quick start GitHub repo - preparing content as fallback"),Ee()):J("Please enter a GitHub repository URL before starting.");else if(K&&!X)Ee();else if(X){const e=(0,d.h)(X);le(e)}else K||J("Please enter a GitHub repository URL before starting.")}else if(X){const e=(0,d.h)(X);le(e)}}else!S&&$&&(ue.current&&ue.current(),F.disconnect(),se(!1))}),[S,q,K,X,$,F,te]),(0,o.useEffect)((()=>{var e,t,n;S&&null!==ae&&void 0!==ae&&null!==(e=ae.systemInstruction)&&void 0!==e&&null!==(t=e.parts)&&void 0!==t&&null!==(n=t[0])&&void 0!==n&&n.text&&!$&&!ce.current?(ce.current=!0,console.log("\ud83d\udd17 Starting new session..."),z((0,m.Lx)(),ae).then((()=>{if(console.log("\u2705 Connection successful - live feed should now be active"),se(!0),ue.current&&ue.current(),we>0)console.log("\u23f0 Setting up full timers for timed session"),ue.current=(0,c.A)({client:F,examDurationInMs:we,isInitialConnection:!0});else{console.log("\ud83d\ude80 Quick start session - setting up introduction timer only");const e=(0,m.U)(),t=setTimeout((()=>{F&&(console.log("\ud83c\udf99\ufe0f Sending introduction message for quick start"),F.send([{text:b.Kr.r}]))}),e.introductionDelay+500);ue.current=()=>{clearTimeout(t),console.log("\ud83e\uddf9 Quick start intro timer cleanup complete")}}ce.current=!1})).catch((e=>{console.error("\u274c Failed to start session:",e),J("Failed to connect to the exam server."),ce.current=!1}))):!S&&$&&(ue.current&&ue.current(),F.disconnect(),se(!1),ce.current=!1)}),[S,null===ae||void 0===ae||null===(n=ae.systemInstruction)||void 0===n||null===(r=n.parts)||void 0===r||null===(x=r[0])||void 0===x?void 0:x.text,$,z,F,we]),(0,o.useEffect)((()=>{O&&O(te)}),[te,O]),!q||H||"Github Repo"===q.type&&te?(0,w.jsxs)("div",{className:"my-6",children:[(0,w.jsx)(f.b,{isLoading:!0}),(0,w.jsx)("p",{className:"text-center text-tokyo-fg-dim mt-2",children:"Github Repo"===(null===q||void 0===q?void 0:q.type)?"Processing GitHub repository... This may take a moment.":"Preparing code review content"})]}):G?(0,w.jsxs)("div",{className:"text-red-500",children:["Error: ",G]}):(0,w.jsxs)("div",{children:[(0,w.jsx)("h1",{className:"mb-4 text-xl font-bold text-tokyo-fg-bright text-center",children:q.title}),we>0&&(0,w.jsx)(p.r,{totalMs:we,autoStart:!1,startTrigger:ie,pauseTrigger:!S,onTimeUp:Se}),"Github Repo"===q.type&&(0,w.jsxs)("div",{className:"my-6",children:[(0,w.jsx)("label",{htmlFor:"github-repo-url",className:"block mb-2 text-tokyo-fg",children:"GitHub Repository URL:"}),(0,w.jsx)("input",{type:"text",id:"github-repo-url",value:K,onChange:e=>Y(e.target.value),placeholder:"https://github.com/user/repo",className:"border p-2 rounded w-full bg-tokyo-base border-tokyo-selection text-tokyo-fg",disabled:S||te}),S&&!K&&(0,w.jsx)("div",{className:"mt-2 text-tokyo-orange",children:"Please enter a GitHub repository URL above."})]}),"Github Repo"!==q.type&&(0,w.jsx)(h.m,{studentTask:re,isLoading:te}),(0,w.jsx)(v.r,{isOpen:fe,summary:"Github Repo"===(null===q||void 0===q?void 0:q.type)&&Z?`=== REVIEW FOCUS AREAS ===\n${Z}\n========================\n\n${pe}`:pe,onClose:()=>{he(!1),ve()}}),!te&&(0,w.jsx)(y.A,{onEndReview:Ce,videoRef:N,supportsVideo:R,onVideoStreamChange:P,onButtonClicked:j,forceStopAudio:L,forceStopVideo:D,onButtonReady:I,onScreenShareCancelled:U})]})}r()}catch(_){r(_)}}))},6538:(e,t,n)=>{"use strict";n.d(t,{A:()=>v});var r=n(8139),o=n.n(r),i=n(5043),s=n(5206),a=n(7284),l=n(3297);var u=n(5918),c=n(4907);class d extends a.EventEmitter{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16e3;super(),this.sampleRate=e,this.stream=void 0,this.audioContext=void 0,this.source=void 0,this.recording=!1,this.recordingWorklet=void 0,this.vuWorklet=void 0,this.starting=null,this.hasLoggedIgnoring=!1}async start(e){if(!this.recording&&!this.starting){if(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new Error("Could not request user media");return console.log("\ud83c\udfa4 AudioRecorder: Starting audio recording process..."),this.starting=new Promise((async(t,n)=>{try{e?(console.log("\ud83c\udfa4 AudioRecorder: Using provided audio MediaStream"),this.stream=e):(console.log("\ud83c\udfa4 AudioRecorder: Getting new MediaStream (audio only)..."),this.stream=await navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0,channelCount:1}}));const n=this.stream.getAudioTracks()[0],o=n.getSettings().sampleRate||44100;console.log(`\ud83c\udfa4 AudioRecorder: MediaStream sample rate: ${o}Hz`),console.log("\ud83c\udfa4 AudioRecorder: Creating AudioContext..."),this.audioContext=await(0,c.es)({sampleRate:this.sampleRate}),console.log(`\u2705 AudioRecorder: Created AudioContext with ${this.audioContext.sampleRate}Hz`),console.log("\u2705 AudioRecorder: AudioContext ready (fresh instance)"),this.source=this.audioContext.createMediaStreamSource(this.stream),console.log("\u2705 AudioRecorder: Created MediaStreamAudioSourceNode");const i="audio-recorder-worklet",s=(0,u.h)(i,'\nclass AudioProcessingWorklet extends AudioWorkletProcessor {\n\n  // send and clear buffer every 1024 samples, \n  // which at 16khz is about 16 times a second (reduced from 2048 for faster response)\n  buffer = new Int16Array(1024);\n\n  // current write index\n  bufferWriteIndex = 0;\n\n  // Audio gate threshold to prevent feedback (adjust as needed)\n  volumeThreshold = 0.001; // Much lower threshold - reduced from 0.01 to 0.001\n  \n  // Track recent volume to detect silence vs actual speech\n  recentVolumes = [];\n  maxRecentVolumes = 5; // Reduced from 10 to 5 for faster response\n\n  constructor() {\n    super();\n    this.hasAudio = false;\n  }\n\n  /**\n   * @param inputs Float32Array[][] [input#][channel#][sample#] so to access first inputs 1st channel inputs[0][0]\n   * @param outputs Float32Array[][]\n   */\n  process(inputs) {\n    if (inputs[0].length) {\n      const channel0 = inputs[0][0];\n      // Temporarily disable advanced processing - just process all audio\n      this.processChunk(channel0);\n      \n      // TODO: Re-enable smart processing once we confirm basic functionality\n      /*\n      // Calculate RMS volume for this chunk\n      const rms = this.calculateRMS(channel0);\n      \n      // Track recent volumes for pattern detection\n      this.recentVolumes.push(rms);\n      if (this.recentVolumes.length > this.maxRecentVolumes) {\n        this.recentVolumes.shift();\n      }\n      \n      // Only process if volume is above threshold and shows speech characteristics\n      if (rms > this.volumeThreshold && this.looksLikeSpeech()) {\n        this.processChunk(channel0);\n      }\n      */\n    }\n    return true;\n  }\n\n  calculateRMS(float32Array) {\n    let sum = 0;\n    for (let i = 0; i < float32Array.length; i++) {\n      sum += float32Array[i] * float32Array[i];\n    }\n    return Math.sqrt(sum / float32Array.length);\n  }\n\n  looksLikeSpeech() {\n    if (this.recentVolumes.length < 2) return true; // Reduced from 3 to 2, allow through faster\n    \n    // Check for volume variation patterns typical of speech\n    const avgVolume = this.recentVolumes.reduce((a, b) => a + b, 0) / this.recentVolumes.length;\n    const maxVolume = Math.max(...this.recentVolumes);\n    const minVolume = Math.min(...this.recentVolumes);\n    \n    // Speech typically has more volume variation than AI feedback echoes\n    const variation = (maxVolume - minVolume) / (avgVolume + 0.001); // Add small value to prevent division by zero\n    return variation > 0.1; // Much lower requirement - reduced from 0.5 to 0.1\n  }\n\n  sendAndClearBuffer(){\n    this.port.postMessage({\n      event: "chunk",\n      data: {\n        int16arrayBuffer: this.buffer.slice(0, this.bufferWriteIndex).buffer,\n      },\n    });\n    this.bufferWriteIndex = 0;\n  }\n\n  processChunk(float32Array) {\n    const l = float32Array.length;\n    \n    for (let i = 0; i < l; i++) {\n      // convert float32 -1 to 1 to int16 -32768 to 32767\n      const int16Value = float32Array[i] * 32768;\n      this.buffer[this.bufferWriteIndex++] = int16Value;\n      if(this.bufferWriteIndex >= this.buffer.length) {\n        this.sendAndClearBuffer();\n      }\n    }\n\n    if(this.bufferWriteIndex >= this.buffer.length) {\n      this.sendAndClearBuffer();\n    }\n  }\n}\n');try{await this.audioContext.audioWorklet.addModule(s)}catch(r){if(!(r instanceof Error&&r.message.includes("already registered")))throw r}this.recordingWorklet=new AudioWorkletNode(this.audioContext,i),this.recordingWorklet.port.onmessage=async e=>{if(!this.recording)return void(this.hasLoggedIgnoring||(console.log("\ud83c\udfa4 AudioRecorder: Worklet received data but recording is false, ignoring (suppressing further messages)"),this.hasLoggedIgnoring=!0));const t=e.data.data.int16arrayBuffer;if(t){const e=function(e){let t="";const n=new Uint8Array(e),r=n.byteLength;for(let o=0;o<r;o++)t+=String.fromCharCode(n[o]);return window.btoa(t)}(t);this.emit("data",e)}},this.source.connect(this.recordingWorklet);const a="vu-meter",d=(0,u.h)(a,l.A);try{await this.audioContext.audioWorklet.addModule(d)}catch(r){if(!(r instanceof Error&&r.message.includes("already registered")))throw r}this.vuWorklet=new AudioWorkletNode(this.audioContext,a),this.vuWorklet.port.onmessage=e=>{this.emit("volume",e.data.volume)},this.source.connect(this.vuWorklet),this.recording=!0,this.hasLoggedIgnoring=!1,console.log("\u2705 AudioRecorder: Successfully started recording"),t(),this.starting=null}catch(r){console.error("\ud83c\udfa4 AudioRecorder: Error during startup:",r),this.recording=!1,this.starting=null,n(r)}})),this.starting}console.log("\ud83c\udfa4 AudioRecorder: Already recording or starting, skipping")}stop(){console.log("\ud83c\udfa4 AudioRecorder: Stop called, setting recording to false"),this.recording=!1,this.hasLoggedIgnoring=!1;const e=async()=>{var e,t;if(console.log("\ud83c\udfa4 AudioRecorder: Executing handleStop..."),this.recordingWorklet&&(console.log("\ud83c\udfa4 AudioRecorder: Disconnecting recording worklet"),this.recordingWorklet.disconnect(),this.recordingWorklet=void 0),this.vuWorklet&&(console.log("\ud83c\udfa4 AudioRecorder: Disconnecting VU worklet"),this.vuWorklet.disconnect(),this.vuWorklet=void 0),null===(e=this.source)||void 0===e||e.disconnect(),null===(t=this.stream)||void 0===t||t.getTracks().forEach((e=>e.stop())),this.audioContext&&"closed"!==this.audioContext.state)try{await this.audioContext.close()}catch(n){console.warn("\ud83c\udfa4 AudioRecorder: Error closing AudioContext:",n)}this.stream=void 0,this.audioContext=void 0,this.source=void 0,this.recording=!1,console.log("\ud83c\udfa4 AudioRecorder: Stop completed")};if(this.starting)return console.log("\ud83c\udfa4 AudioRecorder: Start in progress, will stop after start completes"),void this.starting.then(e);e()}}var f=n(579);function h(e){let{active:t,volume:n,hover:r}=e;const s=(0,i.useRef)([]);return(0,i.useEffect)((()=>{let e=null;const t=()=>{s.current.forEach(((e,t)=>{e&&(e.style.height=`${Math.min(24,4+n*(1===t?400:60))}px`)})),e=window.setTimeout(t,100)};return t(),()=>clearTimeout(e)}),[n]),(0,f.jsx)("div",{className:o()("audioPulse",{active:t,hover:r}),children:Array(3).fill(null).map(((e,t)=>(0,f.jsx)("div",{ref:e=>s.current[t]=e,style:{animationDelay:133*t+"ms"}},t)))})}function p(){return navigator.userAgent.toLowerCase().includes("firefox")}function m(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)&&!navigator.userAgent.toLowerCase().includes("chrome")}function g(e){let{videoRef:t,children:n,onVideoStreamChange:r=()=>{},onButtonClicked:a=e=>{},onEndReview:l,supportsVideo:u,forceStopAudio:c,forceStopVideo:g,onButtonReady:v,onScreenShareCancelled:y}=e;const[b,w]=(0,i.useState)(null),[x,_]=(0,i.useState)(0),[k]=(0,i.useState)((()=>new d)),[S,C]=(0,i.useState)(!1),E=(0,i.useRef)(null),T=(0,i.useRef)(null),[A,O]=(0,i.useState)(!1),[I,N]=(0,i.useState)(!1),[R,P]=(0,i.useState)(!1),[j,L]=(0,i.useState)(null),[D,M]=(0,i.useState)(!1),[U,F]=(0,i.useState)(null),$=(0,i.useRef)(null),z=(0,i.useRef)(!1),[B,q]=(0,i.useState)(!1),[V,H]=(0,i.useState)(!1),{client:W,connected:G,disconnect:J,volume:K}=(0,s.P)();(0,i.useEffect)((()=>{!G&&T.current&&T.current.focus()}),[G]),(0,i.useEffect)((()=>{G?console.log("\ud83d\udd17 ControlTray: Connected became true"):(console.log("\ud83d\udd04 ControlTray: Connected became false, resetting buttonIsOn to false"),O(!1))}),[G]),(0,i.useEffect)((()=>{(c||g)&&(console.log("\ud83d\uded1 ControlTray: Force stop triggered, resetting buttonIsOn to false",{forceStopAudio:c,forceStopVideo:g}),O(!1))}),[c,g]),(0,i.useEffect)((()=>{console.log("\ud83c\udf9b\ufe0f ControlTray: Button state changed",{buttonIsOn:A,connected:G,isRequestingPermissions:V,forceStopAudio:c,forceStopVideo:g,disabled:V||m()||p()||G})}),[A,G,V,c,g]),(0,i.useEffect)((()=>{console.log("\ud83c\udf9b\ufe0f ControlTray: onButtonReady effect triggered",{connected:G,isRequestingPermissions:V,buttonIsOn:A,isSafari:m(),isFirefox:p(),hasOnButtonReady:!!v,hasNotified:z.current}),G||V||m()||p()||A||!v||z.current?G||V||A?console.log("\ud83c\udf9b\ufe0f ControlTray: Button no longer ready - parent will handle auto-trigger prevention"):console.log("\ud83c\udf9b\ufe0f ControlTray: Button not ready for auto-trigger"):(console.log("\ud83c\udf9b\ufe0f ControlTray: Button ready - notifying parent"),z.current=!0,v(X))}),[G,V,A,v]),(0,i.useEffect)((()=>{g&&I&&(b&&(b.getTracks().forEach((e=>e.stop())),w(null),r(null)),N(!1))}),[g,I,b,r]),(0,i.useEffect)((()=>{document.documentElement.style.setProperty("--volume",`${Math.max(5,Math.min(200*x,8))}px`)}),[x]);const Y=(0,i.useCallback)((e=>{var t;const n=(null===(t=k.audioContext)||void 0===t?void 0:t.sampleRate)||16e3;W.sendRealtimeInput([{mimeType:`audio/pcm;rate=${n}`,data:e}])}),[W,k]),Z=(0,i.useCallback)((e=>{_(e)}),[]),Q=(0,i.useRef)(!1);(0,i.useEffect)((()=>{c&&!Q.current&&(Q.current=!0,console.log("\ud83c\udf9b\ufe0f ControlTray: Force stopping audio recording..."),k.off("data",Y),k.off("volume",Z),k.stop(),te(),console.log("\u2705 ControlTray: Audio recording and MediaStream stopped"),setTimeout((()=>{Q.current=!1}),100))}),[c,k,Y,Z]),(0,i.useEffect)((()=>{t.current&&(t.current.srcObject=b);let e=-1;return G&&null!==b&&requestAnimationFrame((function n(){const r=t.current,o=E.current;if(!r||!o)return;const i=o.getContext("2d");if(o.width=.25*r.videoWidth,o.height=.25*r.videoHeight,o.width+o.height>0){i.drawImage(t.current,0,0,o.width,o.height);const e=o.toDataURL("image/jpeg",1),n=e.slice(e.indexOf(",")+1,1/0);W.sendRealtimeInput([{mimeType:"image/jpeg",data:n}])}G&&(e=window.setTimeout(n,2e3))})),()=>{clearTimeout(e)}}),[G,b,W,t]);const X=async()=>{console.log("\ud83c\udf9b\ufe0f ControlTray: Main button clicked",{connected:G,buttonIsOn:A,isRequestingPermissions:V,isSafari:m(),isFirefox:p(),disabled:V||m()||p()||G}),m()||p()?alert("Safari and Firefox are not supported. Please use Chrome for the best experience."):G?console.log("\u26a0\ufe0f ControlTray: Button clicked while connected - this should not happen!"):await ee()},ee=async()=>{O(!0);try{let o;try{console.log("\ud83c\udf9b\ufe0f ControlTray: Starting screen sharing (video only)..."),o=await navigator.mediaDevices.getDisplayMedia({video:!0}),console.log("\u2705 ControlTray: Screen sharing started successfully")}catch(e){if(O(!1),e instanceof DOMException&&"NotAllowedError"===e.name){if(y)return console.log("\ud83d\udeab Screen sharing cancelled - calling cancellation callback"),void y();alert("Screen sharing is required to start the code review. Please allow screen sharing and try again.")}else alert("Failed to start screen sharing. Please try again.");return}const i=new MediaStream(o.getVideoTracks());w(i),r(i),N(!0);let s=null,l=null;try{console.log("\ud83c\udf9b\ufe0f ControlTray: Requesting microphone access immediately after screen sharing..."),s=await navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0,channelCount:1}}),console.log("\u2705 ControlTray: Microphone access granted"),console.log("\ud83c\udf9b\ufe0f ControlTray: Audio stream received in unified flow:",{active:s.active,trackCount:s.getTracks().length,trackStates:s.getTracks().map((e=>({kind:e.kind,readyState:e.readyState})))})}catch(t){l=t,console.error("\u274c ControlTray: Microphone access error:",t)}if(s){$.current=s,console.log("\ud83c\udf9b\ufe0f ControlTray: Audio stream stored in ref (unified flow):",!!$.current);try{console.log("\ud83c\udf9b\ufe0f ControlTray: Starting review first, then audio recording..."),console.log("\ud83c\udf9b\ufe0f ControlTray: Calling onButtonClicked(true) to start review (unified flow)"),a(!0),console.log("\ud83c\udf9b\ufe0f ControlTray: onButtonClicked(true) called successfully"),await k.start(s),k.on("data",Y),k.on("volume",Z),console.log("\u2705 ControlTray: Audio recording started successfully")}catch(n){return O(!1),void alert("Failed to start microphone. Please check permissions and try again.")}}else if(l)return console.error("\u274c ControlTray: Microphone access failed:",l),O(!1),void alert("Microphone access is required. Please allow microphone access and try again.")}catch(t){console.error("Error starting review:",t),O(!1)}},te=()=>{$.current&&(console.log("\ud83c\udf9b\ufe0f ControlTray: Cleaning up audio stream..."),$.current.getTracks().forEach((e=>{e.stop(),console.log("\ud83c\udf9b\ufe0f ControlTray: Stopped audio track:",e.kind)})),$.current=null,console.log("\ud83c\udf9b\ufe0f ControlTray: Audio stream cleanup completed"))};return(0,f.jsxs)("section",{className:"control-tray flex flex-col items-center",children:[(0,f.jsx)("canvas",{style:{display:"none"},ref:E}),(0,f.jsxs)("div",{className:"connection-button-container flex flex-col items-center",children:[!G&&(0,f.jsx)("button",{ref:T,className:o()("transition duration-200 ease-in-out focus:outline-none rounded border bg-tokyo-accent text-white shadow-sm hover:bg-tokyo-accent-darker hover:shadow-lg mb-2 py-5 px-8 cursor-pointer",{"opacity-50 cursor-not-allowed":m()||p()}),onClick:X,disabled:V||m()||p(),children:m()?"Safari Not Supported":p()?"Firefox Not Supported":"Share screen & start review"}),I&&(0,f.jsxs)("div",{className:"flex items-center text-sm text-tokyo-fg-dim mb-4",children:[(0,f.jsx)("span",{className:"material-symbols-outlined mr-1 text-green-400",children:"present_to_all"}),"Screen sharing active"]}),B&&!G&&(0,f.jsxs)("div",{className:"flex items-center text-sm text-tokyo-fg-dim mb-4",children:[(0,f.jsx)("span",{className:"material-symbols-outlined mr-1 text-blue-400",children:"mic"}),"Permissions granted - ready to start"]})]}),(0,f.jsxs)("nav",{className:o()("actions-nav flex justify-center",{disabled:!G}),children:[(0,f.jsxs)("button",{className:"transition duration-200 ease-in-out focus:outline-none rounded bg-tokyo-bg-lighter border border-tokyo-selection text-tokyo-fg shadow-sm hover:shadow-lg p-2 cursor-pointer flex items-center justify-between space-x-1",onClick:()=>C(!S),children:[(0,f.jsx)("span",{className:"material-symbols-outlined",children:S?"mic_off":"mic"}),(0,f.jsx)(h,{volume:K,active:G,hover:!1})]}),G&&l&&(0,f.jsxs)("button",{className:"transition duration-200 ease-in-out focus:outline-none rounded bg-red-500 border border-red-600 text-white shadow-sm hover:bg-red-600 hover:shadow-lg px-3 py-2 cursor-pointer flex items-center ml-2",onClick:async()=>{console.log("\ud83d\uded1 ControlTray: Red stop button clicked",{connected:G}),window.confirm("Are you sure you want to end this code review early?")?(console.log("\ud83d\uded1 ControlTray: User confirmed stop, calling onEndReview()"),l()):console.log("\ud83d\uded1 ControlTray: User cancelled stop")},title:"End Review Early",children:[(0,f.jsx)("span",{className:"material-symbols-outlined mr-1",children:"stop"}),(0,f.jsx)("span",{className:"text-xs whitespace-nowrap",children:"Stop Code Review"})]}),n]})]})}const v=(0,i.memo)(g)},8941:(e,t,n)=>{"use strict";n.d(t,{r:()=>s});var r=n(5043),o=n(6727),i=n(579);const s=e=>{let{isOpen:t,summary:n,onClose:s}=e;const a=(0,o.Zp)(),[l,u]=(0,r.useState)("Copy");return t?(0,i.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,i.jsxs)("div",{className:"bg-tokyo-bg-lighter rounded-lg shadow-xl max-w-2xl w-full max-h-[80vh] border border-tokyo-selection min-w-0 overflow-hidden flex flex-col",children:[(0,i.jsxs)("div",{className:"bg-tokyo-bg-darker rounded-t-lg px-6 py-4 border-b border-tokyo-selection flex-shrink-0",children:[(0,i.jsxs)("h2",{className:"text-xl font-bold text-tokyo-fg-bright flex items-center",children:[(0,i.jsx)("svg",{className:"h-6 w-6 mr-3",style:{color:"var(--tokyo-accent)"},fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,i.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Code Review Summary"]}),(0,i.jsx)("p",{className:"text-tokyo-comment mt-1",children:"Here's a summary of the suggested changes from your code review session."})]}),(0,i.jsx)("div",{className:"p-4 overflow-y-auto min-w-0 flex-1",children:(0,i.jsx)("div",{className:"bg-tokyo-bg rounded-lg p-3 border border-tokyo-selection overflow-hidden min-w-0 w-full",children:"Generating review summary..."===n?(0,i.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,i.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,i.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-tokyo-accent"}),(0,i.jsx)("span",{className:"text-tokyo-fg",children:"Generating review summary..."})]})}):(0,i.jsx)("div",{className:"text-tokyo-fg text-sm leading-relaxed font-mono break-all overflow-wrap-break-word max-w-full min-w-0 w-full whitespace-pre-line",style:{wordBreak:"break-all",overflowWrap:"break-word"},children:n||"No specific suggestions were recorded during this session."})})}),(0,i.jsxs)("div",{className:"bg-tokyo-bg-darker rounded-b-lg px-6 py-4 flex justify-end space-x-3 border-t border-tokyo-selection flex-shrink-0",children:[(0,i.jsxs)("button",{onClick:async()=>{try{await navigator.clipboard.writeText(n),u("Copied!"),setTimeout((()=>{u("Copy")}),1500)}catch(e){console.error("Failed to copy to clipboard:",e)}},className:"px-4 py-2 rounded-md transition-all duration-200 flex items-center border",style:{backgroundColor:"var(--Neutral-20)",borderColor:"var(--tokyo-selection)",color:"var(--tokyo-fg-bright)"},children:[(0,i.jsx)("svg",{className:"h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,i.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2 2v8a2 2 0 002 2z"})}),l]}),(0,i.jsxs)("button",{onClick:()=>{s(),a("/")},className:"px-6 py-2 rounded-md transition-all duration-200 flex items-center text-white",style:{backgroundColor:"var(--tokyo-accent)"},children:[(0,i.jsx)("svg",{className:"h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,i.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"OK"]})]})]})}):null}},9584:(e,t,n)=>{"use strict";n.d(t,{Q:()=>u});var r=n(5043),o=n(579);const i=e=>e?Object.entries(e).map((e=>{let[t,n]=e;return`${t.replace(/([A-Z])/g,"-$1").toLowerCase()}: ${n};`})).join(" "):"",s=e=>{let{iconStyle:t,className:n}=e;const s=(0,r.useRef)(null);return(0,r.useEffect)((()=>{s.current&&t&&s.current.setAttribute("style",i(t))}),[t]),(0,o.jsx)("svg",{ref:s,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",className:n,children:(0,o.jsx)("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6zm-2 11h-2v2H8v-2H6v-2h2V9h2v2h2v2zm4-10V4.5L17.5 6H16z"})})},a=e=>{let{passedClassName:t}=e;const n="0.875rem",r={width:n,height:n,fill:"var(--tokyo-fg)",marginRight:"0.5rem"};return(0,o.jsx)(s,{iconStyle:r,className:null===t||void 0===t?void 0:t.replace(/mr-[0-9]+/g,"")})},l=e=>{let{suggestion:t,isLatest:n,itemStyles:s}=e;const l=(0,r.useRef)(null);return(0,r.useEffect)((()=>{if(l.current){const e=`${"margin-bottom: 20px !important; padding: 1rem !important; border: 1px solid var(--tokyo-border) !important; border-radius: 0.375rem !important; transition: background-color 0.3s ease-in-out !important; opacity: 1 !important;"} ${i(s)}`;l.current.setAttribute("style",e)}}),[t.id,s]),(0,o.jsxs)("div",{ref:l,className:"group relative "+(n?"suggestion-item-enter":""),children:[(0,o.jsxs)("div",{className:"text-xs mb-1.5 flex justify-between items-center",children:[(0,o.jsxs)("div",{className:"flex items-center gap-2",style:{color:n?"rgba(var(--tokyo-bg-darker-rgb), 0.85)":"var(--tokyo-comment)"},children:[(0,o.jsx)(a,{passedClassName:""}),(0,o.jsx)("span",{className:"opacity-80",children:t.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit"})})]}),n&&(0,o.jsx)("span",{className:"text-xs font-bold text-white px-2 py-1 rounded-full uppercase tracking-wider",style:{backgroundColor:"#F97316"},children:"Latest"})]}),(0,o.jsx)("div",{className:"text-sm leading-relaxed mt-2.5",style:{color:s.color||"var(--tokyo-fg)"},children:t.text})]})},u=e=>{let{suggestions:t,isProcessing:n,isVisible:i}=e;const s=(0,r.useRef)(null),a=(0,r.useRef)(null),u=(0,r.useRef)(null),c=(0,r.useRef)(t.length);if((0,r.useEffect)((()=>{var e;const t=document.createElement("style");t.textContent="\n@keyframes slideInFadeIn {\n  0% {\n    opacity: 0;\n    transform: translateY(-30px); /* Increased initial offset for more slide */\n  }\n  100% {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n\n.suggestion-item-enter {\n  animation: slideInFadeIn 0.6s ease-out forwards; /* Slightly longer, smoother ease */\n}\n";const n=(null===(e=a.current)||void 0===e?void 0:e.ownerDocument)||document;return n.head.appendChild(t),()=>{t.parentNode&&n.head.removeChild(t)}}),[]),(0,r.useEffect)((()=>{a.current&&t.length>c.current&&(a.current.scrollTop=0),c.current=t.length}),[t.length]),(0,r.useEffect)((()=>{if(a.current){const e="padding-top: 1.5rem !important; overflow-y: auto !important; flex-grow: 1 !important;";a.current.setAttribute("style",e)}if(u.current){const e="padding-left: 1.5rem !important; padding-right: 1.5rem !important; padding-top: 1rem !important; padding-bottom: 1rem !important; border-bottom-width: 1px !important; display: flex !important; align-items: center !important; justify-content: space-between !important; flex-shrink: 0 !important;";u.current.setAttribute("style",e+(u.current.getAttribute("style")||"").replace(/padding-[a-z]+:\s*[^;]+;?/gi,"").replace(/border-bottom-width:\s*[^;]+;?/gi,"").replace(/display:\s*[^;]+;?/gi,"").replace(/align-items:\s*[^;]+;?/gi,"").replace(/justify-content:\s*[^;]+;?/gi,"").replace(/flex-shrink:\s*[^;]+;?/gi,""))}}),[]),!i)return null;const d=[...t].reverse();return(0,o.jsxs)("div",{ref:s,className:"flex flex-col h-full w-full rounded-lg shadow-xl border backdrop-blur-sm overflow-hidden group/panel",style:{backgroundColor:"var(--tokyo-bg-secondary)",borderColor:"var(--tokyo-border)",color:"var(--tokyo-fg)"},children:[(0,o.jsxs)("div",{ref:u,className:"px-6 py-4 border-b flex items-center justify-between flex-shrink-0",style:{borderColor:"var(--tokyo-border)"},children:[(0,o.jsxs)("div",{className:"flex items-center gap-2",children:[(0,o.jsx)("span",{className:"text-base font-semibold",children:"Live Suggestions"}),n&&(0,o.jsx)("div",{className:"w-2.5 h-2.5 rounded-full animate-pulse",style:{backgroundColor:"var(--tokyo-accent)"}})]}),(0,o.jsx)("span",{className:"text-sm font-semibold px-3 py-1.5 rounded-md",style:{backgroundColor:"var(--tokyo-comment)",color:"var(--tokyo-fg-bright)"},children:t.length})]}),(0,o.jsx)("div",{ref:a,className:"flex-grow px-4 pb-4 overflow-y-auto scroll-smooth",children:0===d.length?(0,o.jsx)("div",{className:"text-sm text-center py-6 h-full flex items-center justify-center opacity-75",style:{color:"var(--tokyo-comment)"},children:n?"Processing suggestions...":"No suggestions yet. Start the review!"}):d.map(((e,t)=>{const n=0===t;let r={color:"var(--tokyo-fg)"};return r=n?{...r,background:"linear-gradient(to bottom, var(--tokyo-accent) 0%, var(--tokyo-accent) 70%, var(--tokyo-accent-hover) 100%)",color:"var(--tokyo-bg-darker)",boxShadow:"0 6px 18px -4px rgba(var(--tokyo-accent-rgb), 0.55)"}:{...r,backgroundColor:"var(--tokyo-bg)",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},(0,o.jsx)(l,{suggestion:e,isLatest:n,itemStyles:r},e.id)}))})]})}},8613:(e,t,n)=>{"use strict";n.d(t,{b:()=>d});var r=n(5043);function o(e,t){let{title:n,titleId:o,...i}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":o},i),n?r.createElement("title",{id:o},n):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18v-5.25m0 0a6.01 6.01 0 0 0 1.5-.189m-1.5.189a6.01 6.01 0 0 1-1.5-.189m3.75 7.478a12.06 12.06 0 0 1-4.5 0m3.75 2.383a14.406 14.406 0 0 1-3 0M14.25 18v-.192c0-.983.658-1.823 1.508-2.316a7.5 7.5 0 1 0-7.517 0c.85.493 1.509 1.333 1.509 2.316V18"}))}const i=r.forwardRef(o);function s(e,t){let{title:n,titleId:o,...i}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":o},i),n?r.createElement("title",{id:o},n):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))}const a=r.forwardRef(s);function l(e,t){let{title:n,titleId:o,...i}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":o},i),n?r.createElement("title",{id:o},n):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.26 10.147a60.438 60.438 0 0 0-.491 6.347A48.62 48.62 0 0 1 12 20.904a48.62 48.62 0 0 1 8.232-4.41 60.46 60.46 0 0 0-.491-6.347m-15.482 0a50.636 50.636 0 0 0-2.658-.813A59.906 59.906 0 0 1 12 3.493a59.903 59.903 0 0 1 10.399 5.84c-.896.248-1.783.52-2.658.814m-15.482 0A50.717 50.717 0 0 1 12 13.489a50.702 50.702 0 0 1 7.74-3.342M6.75 15a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Zm0 0v-3.675A55.378 55.378 0 0 1 12 8.443m-7.007 11.55A5.981 5.981 0 0 0 6.75 15.75v-1.5"}))}const u=r.forwardRef(l);var c=n(579);const d=e=>{let{isLoading:t}=e;const[n,o]=(0,r.useState)(0),s=[{component:i},{component:a},{component:u}];return(0,r.useEffect)((()=>{if(!t)return;const e=setInterval((()=>{o((e=>(e+1)%s.length))}),1500);return()=>clearInterval(e)}),[t]),t?(0,c.jsxs)("div",{className:"flex flex-col items-center justify-center h-40",children:[(0,c.jsx)("div",{className:"relative h-10 w-10 overflow-hidden",children:s.map(((e,t)=>{const r=e.component,o=t===n,i=t===(n-1+s.length)%s.length;return(0,c.jsx)("div",{className:"absolute top-0 left-0 w-full h-full transition-all duration-500 transform flex flex-col items-center\n                "+(o?"opacity-100 translate-y-0":i?"opacity-0 -translate-y-full":"opacity-0 translate-y-full"),children:(0,c.jsx)(r,{className:"w-16 h-16 text-blue-500"})},t)}))}),(0,c.jsx)("div",{className:"mt-4",children:(0,c.jsx)("div",{className:"text-sm text-gray-500",children:"Preparing code review content"})})]}):null}},8891:(e,t,n)=>{"use strict";n.d(t,{b:()=>s});var r=n(5043);const o=n.p+"static/media/two-screen-setup.2d2b8993a2f9d23a851f.jpg";var i=n(579);const s=e=>{let{isOpen:t,onClose:n,onStartReview:s}=e;const[a,l]=(0,r.useState)("Standard"),[u,c]=(0,r.useState)("intermediate"),[d,f]=(0,r.useState)("");return t?(0,i.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,i.jsxs)("div",{className:"bg-tokyo-bg-lighter rounded-lg shadow-xl max-w-4xl w-full border border-tokyo-selection",children:[(0,i.jsxs)("div",{className:"bg-tokyo-bg-darker rounded-t-lg px-6 py-4 border-b border-tokyo-selection",children:[(0,i.jsxs)("h2",{className:"text-xl font-bold text-tokyo-fg-bright flex items-center",children:[(0,i.jsx)("svg",{className:"h-6 w-6 mr-3",style:{color:"var(--tokyo-accent)"},fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,i.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})}),"Quick Start Code Review"]}),(0,i.jsx)("p",{className:"text-tokyo-comment mt-1",children:"Set up your code review preferences and start immediately"})]}),(0,i.jsx)("div",{className:"p-6",children:(0,i.jsxs)("div",{className:"flex gap-6",children:[(0,i.jsxs)("div",{className:"flex-1",children:[(0,i.jsxs)("div",{className:"mb-6",children:[(0,i.jsx)("label",{className:"block text-tokyo-fg-bright text-sm font-medium mb-2",children:(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)("svg",{className:"h-4 w-4 mr-2 text-tokyo-comment",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,i.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Code review type"]})}),(0,i.jsxs)("select",{value:a,onChange:e=>{return t=e.target.value,l(t),void("Github Repo"!==t&&f(""));var t},className:"w-full px-4 py-2 border border-tokyo-selection bg-tokyo-bg text-tokyo-fg-bright rounded-md focus:outline-none focus:ring-2 focus:ring-tokyo-accent focus:border-transparent transition-colors",children:[(0,i.jsx)("option",{value:"Standard",children:"Standard"}),(0,i.jsx)("option",{value:"Github Repo",children:"Github Repo"})]})]}),(0,i.jsxs)("div",{className:"mb-6",children:[(0,i.jsx)("label",{className:"block text-sm font-medium mb-2 "+("Github Repo"===a?"text-tokyo-fg-bright":"text-tokyo-comment"),children:(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)("svg",{className:"h-4 w-4 mr-2 "+("Github Repo"===a?"text-tokyo-comment":"text-tokyo-selection"),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,i.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})}),"GitHub Repository URL"]})}),(0,i.jsx)("input",{type:"text",value:d,onChange:e=>f(e.target.value),disabled:"Github Repo"!==a,placeholder:"Github Repo"===a?"https://github.com/user/repository":"Select Github Repo to enable",className:"w-full px-4 py-2 border rounded-md transition-colors "+("Github Repo"===a?"border-tokyo-selection bg-tokyo-bg text-tokyo-fg-bright focus:outline-none focus:ring-2 focus:ring-tokyo-accent focus:border-transparent":"border-tokyo-selection bg-tokyo-bg-darker text-tokyo-comment cursor-not-allowed")}),(0,i.jsx)("p",{className:"text-xs mt-1 "+("Github Repo"===a?"text-tokyo-comment":"text-tokyo-selection"),children:"Github Repo"===a?"Enter the full GitHub repository URL you want to review":"This field is only available for GitHub repository reviews"})]}),(0,i.jsxs)("div",{className:"mb-0",children:[(0,i.jsx)("label",{className:"block text-tokyo-fg-bright text-sm font-medium mb-2",children:(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)("svg",{className:"h-4 w-4 mr-2 text-tokyo-comment",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,i.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"Developer Experience Level"]})}),(0,i.jsxs)("select",{value:u,onChange:e=>c(e.target.value),className:"w-full px-4 py-2 border border-tokyo-selection bg-tokyo-bg text-tokyo-fg-bright rounded-md focus:outline-none focus:ring-2 focus:ring-tokyo-accent focus:border-transparent transition-colors",children:[(0,i.jsx)("option",{value:"junior",children:"Junior Developer"}),(0,i.jsx)("option",{value:"intermediate",children:"Intermediate Developer"}),(0,i.jsx)("option",{value:"senior",children:"Senior Developer"})]}),(0,i.jsx)("p",{className:"text-xs text-tokyo-comment mt-1",children:"This will determine the depth and style of feedback provided during the code review."})]})]}),(0,i.jsx)("div",{className:"flex-1",children:(0,i.jsxs)("div",{className:"bg-tokyo-bg-darker rounded-lg p-4 border border-tokyo-selection h-full flex flex-col",children:[(0,i.jsxs)("h3",{className:"text-tokyo-fg-bright text-sm font-medium mb-3 flex items-center",children:[(0,i.jsx)("svg",{className:"h-4 w-4 mr-2 text-tokyo-accent",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,i.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Recommended Setup: Two Screens"]}),(0,i.jsx)("div",{className:"bg-tokyo-bg rounded-md p-3 mb-3 flex-1 flex items-center",children:(0,i.jsx)("img",{src:o,alt:"Two-screen setup illustration showing code review interface on one screen and code editor on another",className:"w-full h-auto rounded-md border border-tokyo-selection"})}),(0,i.jsxs)("p",{className:"text-xs text-tokyo-comment leading-relaxed",children:["For the best experience, use"," ",(0,i.jsx)("span",{className:"text-tokyo-fg-bright font-medium",children:"two screens"}),": keep the AI code reviewer on one screen while your code editor is on the other. This allows for seamless interaction during the review session."]})]})})]})}),(0,i.jsxs)("div",{className:"bg-tokyo-bg-darker rounded-b-lg px-6 py-4 flex justify-end space-x-3 border-t border-tokyo-selection",children:[(0,i.jsx)("button",{onClick:n,className:"px-4 py-2 border font-medium transition-all duration-200 rounded-md",style:{backgroundColor:"#334155",color:"#e2e8f0",borderColor:"#475569"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="#475569",e.currentTarget.style.color="#f1f5f9"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="#334155",e.currentTarget.style.color="#e2e8f0"},children:"Cancel"}),(0,i.jsxs)("button",{onClick:()=>{"Github Repo"!==a||d.trim()?s(a,u,"Github Repo"===a?d:""):alert("Please enter a GitHub repository URL before starting.")},className:"px-6 py-2 rounded-md transition-all duration-200 flex items-center text-white hover:shadow-lg transform hover:scale-102",style:{background:"linear-gradient(to right, #f97316, #ea580c)"},children:[(0,i.jsx)("svg",{className:"h-6 w-6 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2.5,children:(0,i.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})}),"Share screen & start review"]})]})]})}):null}},8227:(e,t,n)=>{"use strict";n.a(e,(async(e,r)=>{try{n.d(t,{N:()=>s});var o=n(3799);const e=await fetch("https://api-key-server-codereview.vercel.app/api/database");if(!e.ok)throw new Error("Failed to fetch API key");const i=await e.json(),s=(0,o.UU)("https://gzoltpvnxwjoeycomcby.supabase.co",i);r()}catch(i){r(i)}}),1)},3415:(e,t,n)=>{"use strict";n.a(e,(async(e,r)=>{try{n.d(t,{A:()=>d,O:()=>c});var o=n(5043),i=n(8227),s=n(579),a=e([i]);i=(a.then?(await a)():a)[0];const u=(0,o.createContext)();function c(e){let{children:t}=e;const[n,r]=(0,o.useState)(null),[a,l]=(0,o.useState)(!0);(0,o.useEffect)((()=>{(async()=>{const{data:{session:e}}=await i.N.auth.getSession();r((null===e||void 0===e?void 0:e.user)||null),l(!1)})();const{data:{subscription:e}}=i.N.auth.onAuthStateChange(((e,t)=>{r((null===t||void 0===t?void 0:t.user)||null),l(!1)}));return()=>e.unsubscribe()}),[]);const c={signUp:e=>i.N.auth.signUp(e),signIn:e=>i.N.auth.signInWithPassword(e),signOut:()=>i.N.auth.signOut(),user:n,loading:a};return(0,s.jsx)(u.Provider,{value:c,children:t})}function d(){const e=(0,o.useContext)(u);if(void 0===e)throw new Error("useAuth must be used within an AuthProvider");return e}r()}catch(l){r(l)}}))},7910:(e,t,n)=>{"use strict";n.d(t,{H:()=>o});var r=n(5043);function o(e,t){const n=(0,r.useRef)([]),o=(0,r.useRef)(null),i=(0,r.useRef)(0),s=(0,r.useRef)(""),a=(0,r.useRef)(null),l=(0,r.useCallback)((()=>{if(s.current.trim()){const e=(new Date).toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit"})+"."+(new Date).getMilliseconds().toString().padStart(3,"0"),r=s.current.trim(),o=r.substring(0,100)+(r.length>100?"...":"");console.log(`${e} \ud83d\udcbe Saving transcript chunk (${r.length} chars): ${o}`);const i={timestamp:new Date,type:"ai_transcript",content:r};n.current.push(i),t&&t(r),s.current=""}}),[t]);(0,r.useEffect)((()=>{if(!e)return;const t=()=>{o.current=new Date,n.current.push({timestamp:new Date,type:"session_start"})},r=e=>{e&&"string"===typeof e&&(s.current+=e,a.current&&clearTimeout(a.current),a.current=setTimeout((()=>{l()}),1e4))},u=e=>{"client.realtimeInput"===e.type&&"audio"===e.message&&(i.current++,i.current%50===0&&n.current.push({timestamp:new Date,type:"user_interaction",metadata:{interaction_count:i.current}}))},c=e=>{};return e.on("setupcomplete",t),e.on("transcript",r),e.on("log",u),e.on("audio",c),()=>{s.current.trim()&&l(),a.current&&clearTimeout(a.current),e.off("setupcomplete",t),e.off("transcript",r),e.off("log",u),e.off("audio",c)}}),[e,t]);const u=async(e,t)=>{s.current.trim()&&l(),n.current.push({timestamp:new Date,type:"session_end"});const r=o.current?Math.round(((new Date).getTime()-o.current.getTime())/1e3):0,a=n.current.filter((e=>"ai_transcript"===e.type)),u=a.map((e=>e.content)).filter((e=>Boolean(e))).map((e=>e.trim())).filter((e=>e.length>0)).join(" ");if(0===a.length||!u.trim())return"No AI speech transcripts were captured during this session. This might indicate a technical issue with transcript generation or a very brief session.";const c=function(e,t,n,r,o,i){const s=Math.round(n/60),a=(null===r||void 0===r?void 0:r.duration)||0;let l="Code Review Session Summary\n";l+="="+"=".repeat(15)+"\n\n",l+=`Session: ${(null===r||void 0===r?void 0:r.title)||"Code Review"}\n`,null!==r&&void 0!==r&&r.description&&(l+=`Focus: ${r.description}\n`);l+=`Duration: ${s} minutes ${n%60} seconds`,a>0&&(l+=` (planned: ${a} minutes)`);l+="\n\n",l+="Session Activity:\n",l+=`\u2022 Total transcript length: ${e.length} characters\n`;const u=(e.match(/line\s+\d+|lines\s+\d+/gi)||[]).length;if(l+=`\u2022 Line number references: ${u}\n\n`,l+="Key Review Points:\n",i&&i.length>0)i.forEach(((e,t)=>{l+=`${t+1}. ${e.text}\n`}));else{const t=e.split(/[.!?]+/).filter((e=>e.trim().length>20)).filter((e=>/\b(line|suggest|recommend|should|issue|problem|improve)\b/i.test(e))).slice(0,5).map((e=>e.trim().replace(/^\s*[,\s]+/,"")));t.length>0?t.forEach(((e,t)=>{l+=`${t+1}. ${e}.\n`})):l+="\u2022 Review content available in full transcript\n"}l+="\n",l+="Full AI Review Transcript:\n",l+="-".repeat(15)+"\n",l+=e,l+="\n"+"-".repeat(15)+"\n\n",l+="Next Steps:\n",l+="\u2022 Review the specific feedback and line number references above\n",l+="\u2022 Implement suggested improvements mentioned in the transcript\n",l+="\u2022 Address any issues or concerns identified during the review\n",0===u&&(l+="\u2022 Future reviews might benefit from more specific line number references\n");return l+="\n",l+=`Generated on: ${(new Date).toLocaleString()}\n`,l+="Session completed via Code Review Simulator",l}(u,0,r,e,i.current,t);return c};return{getConversationSummary:(e,t)=>u(e,t),generateSummaryWithOpenAI:u,clearConversation:()=>{n.current=[],o.current=null,i.current=0,s.current="",a.current&&(clearTimeout(a.current),a.current=null)},getTranscripts:()=>n.current.filter((e=>"ai_transcript"===e.type)),entryCount:n.current.length,transcriptCount:n.current.filter((e=>"ai_transcript"===e.type)).length,getDebugInfo:()=>({entryCount:n.current.length,transcriptCount:n.current.filter((e=>"ai_transcript"===e.type)).length,userInteractions:i.current,sessionDuration:o.current?Math.round(((new Date).getTime()-o.current.getTime())/1e3):0,currentBuffer:{length:s.current.length,content:s.current.substring(0,100)+(s.current.length>100?"...":""),hasTimeout:!!a.current},entries:n.current.map((e=>{var t;return{timestamp:e.timestamp,type:e.type,contentPreview:(null===(t=e.content)||void 0===t?void 0:t.substring(0,50))+"..."||0,metadata:e.metadata}}))})}}},9250:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(6092),o=n(6385);function i(e){let{client:t,examDurationInMs:n,isInitialConnection:i=!0}=e;if(!t)return()=>{};if(!i)return()=>{};const s=(0,o.U)(),a=[],l=[];let u,c=!1;u=()=>{console.log("\u2705 AI turn complete, checking message queue..."),(()=>{if(l.length>0){const e=l.shift();e&&(console.log("\ud83d\udd0a Processing queued timer message:",e.text.substring(0,50)+"..."),t.send([{text:e.text}]),c=!0)}else c=!1})()},t.on("turncomplete",u);const d=setTimeout((()=>{t&&(c=!1,(e=>{const n={text:e,timestamp:Date.now()};if(c)return console.log("\ud83d\udd07 AI is speaking, queuing timer message:",e.substring(0,50)+"..."),void l.push(n);console.log("\ud83d\udd0a Sending timer message immediately:",e.substring(0,50)+"..."),t.send([{text:e}]),c=!0})(r.Kr.r))}),s.introductionDelay+500);a.push(d);const f=setTimeout((()=>{if(t){console.log("\u23f0 Sending farewell message - forcefully interrupting AI");try{t.send([{text:r.Kr.B}])}catch(e){console.error("Error during farewell interruption:",e),t&&t.send&&t.send([{text:r.Kr.B}])}}}),n-s.finalWarningBeforeEnd);return a.push(f),()=>{a.forEach((e=>clearTimeout(e))),t&&u&&t.off("turncomplete",u),l.length=0,console.log("\ud83e\uddf9 Timer cleanup complete")}}},6029:(e,t,n)=>{"use strict";n.d(t,{w:()=>s});var r=n(5043),o=n(4813),i=n(6092);const s=()=>{const[e,t]=(0,r.useState)([]),[n,s]=(0,r.useState)([]),[a,l]=(0,r.useState)(!1),u=(0,r.useRef)([]),c=(0,r.useRef)(!1),d=(0,r.useRef)(new Set),f=(0,r.useCallback)((async()=>{if(!c.current){console.log("\ud83d\ude80 Initializing suggestion extraction session");try{const e={role:"system",content:i.Oq.Ao},t={role:"user",content:i.Oq.l0};u.current=[e,t];const n=await(0,o.Zf)(u.current);u.current.push({role:"assistant",content:n}),c.current=!0,console.log("\u2705 Session initialized successfully")}catch(e){console.error("\u274c Error initializing session:",e)}}}),[]),h=(0,r.useCallback)((async e=>{if(console.log(`\ud83d\udcdd Live suggestion extractor received chunk: "${e.substring(0,100)}..." (${e.length} chars)`),e.trim()&&!d.current.has(e)){c.current||(console.log("\ud83d\udd27 Initializing OpenAI session for suggestion extraction"),await f()),d.current.add(e),l(!0),console.log("\ud83e\udd16 Processing transcript chunk for suggestions...");try{const n=i.Oq.eA.replace("${transcriptChunk}",e);u.current.push({role:"user",content:n});const r=await(0,o.Zf)(u.current);if(u.current.push({role:"assistant",content:r}),u.current.length>21){const e=u.current[0],t=u.current.slice(-20);u.current=[e,...t]}if(r&&"NO_SUGGESTIONS"!==r.trim()){const e=r.split("\n").filter((e=>e.trim().startsWith("\u2022"))).map((e=>e.replace("\u2022","").trim())).filter((e=>e.length>0));if(e.length>0){const n=e.map((e=>({id:`${Date.now()}-${Math.random().toString(36).substr(2,9)}`,text:e,timestamp:new Date})));t((e=>{const o=new Set(e.map((e=>e.text.toLowerCase()))),i=n.filter((e=>{const t=e.text.toLowerCase();if(o.has(t))return!1;return!Array.from(o).some((e=>g(t,e)>.8))}));if(i.length>0){const n=i[i.length-1];return console.log("\ud83d\udcdd Latest suggestion:",n.text),console.log("\ud83e\udd16 OpenAI response:",r.substring(0,150)+(r.length>150?"...":"")),t((e=>[...e,...i])),s((e=>[...e,...i])),[...e,...i]}return e}))}}}catch(n){console.error("\u274c Error extracting suggestions:",n)}finally{l(!1)}}else console.log("\u23ed\ufe0f Skipping chunk (empty or already processed)")}),[f]),p=(0,r.useCallback)((()=>{t([]),d.current.clear(),u.current=[],c.current=!1,console.log("\ud83e\uddf9 UI suggestions cleared (persisted suggestions retained for summary)")}),[]),m=(0,r.useCallback)((()=>{t([]),s([]),d.current.clear(),u.current=[],c.current=!1,console.log("\ud83e\uddf9 All suggestions cleared")}),[]),g=(e,t)=>{const n=e.length>t.length?e:t,r=e.length>t.length?t:e;if(0===n.length)return 1;const o=v(n,r);return(n.length-o)/n.length},v=(e,t)=>{const n=[];for(let r=0;r<=t.length;r++)n[r]=[r];for(let r=0;r<=e.length;r++)n[0][r]=r;for(let r=1;r<=t.length;r++)for(let o=1;o<=e.length;o++)t.charAt(r-1)===e.charAt(o-1)?n[r][o]=n[r-1][o-1]:n[r][o]=Math.min(n[r-1][o-1]+1,n[r][o-1]+1,n[r-1][o]+1);return n[t.length][e.length]};return{suggestions:e,persistedSuggestions:n,extractSuggestions:h,clearSuggestions:p,clearAllSuggestions:m,isProcessing:a}}},3146:(e,t,n)=>{"use strict";n.a(e,(async(e,r)=>{try{n.d(t,{A:()=>u});n(5043);var o=n(6727),i=n(3415),s=n(579),a=e([i]);function u(e){let{children:t}=e;const{user:n,signOut:r}=(0,i.A)(),a=(0,o.Zp)();return(0,s.jsxs)("div",{className:"flex flex-col min-h-screen bg-neutral-dark",children:[(0,s.jsx)("header",{className:"bg-neutral-15 shadow-md border-b border-tokyo-selection",children:(0,s.jsxs)("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-2 flex justify-between items-center",children:[(0,s.jsxs)(o.N_,{to:"/",className:"text-2xl font-bold text-tokyo-accent hover:text-tokyo-accent-lighter transition-colors flex items-center",children:[(0,s.jsx)("div",{className:"h-12 w-12 mr-4 flex-shrink-0",children:(0,s.jsxs)("svg",{viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",className:"h-full w-full",children:[(0,s.jsx)("rect",{width:"100",height:"100",rx:"10",fill:"#1a1b26"}),(0,s.jsx)("path",{d:"M30 25 L15 50 L30 75",stroke:"#7aa2f7",strokeWidth:"6",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"}),(0,s.jsx)("path",{d:"M75 25 L90 50 L75 75",stroke:"#7aa2f7",strokeWidth:"6",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"}),(0,s.jsx)("path",{d:"M45 35 L55 65",stroke:"#bb9af7",strokeWidth:"6",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"}),(0,s.jsx)("text",{x:"57",y:"50",fontSize:"16",fontWeight:"bold",fill:"#f7768e",fontFamily:"monospace",children:"AI"})]})}),"Code Review Simulator"]}),(0,s.jsx)("nav",{children:(0,s.jsxs)("ul",{className:"flex space-x-6 items-center",children:[n&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("li",{children:(0,s.jsx)(o.N_,{to:"/create",className:"text-tokyo-fg hover:text-tokyo-fg-brightest",children:"Create Custom Review"})}),(0,s.jsx)("li",{children:(0,s.jsx)(o.N_,{to:"/dashboard",className:"text-tokyo-fg hover:text-tokyo-fg-brightest",children:"Dashboard"})}),(0,s.jsx)("li",{children:(0,s.jsx)("button",{onClick:async()=>{try{await r(),a("/")}catch(e){console.error("Error logging out:",e)}},className:"text-tokyo-fg hover:text-tokyo-fg-brightest cursor-pointer",children:"Sign Out"})})]}),!n&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("li",{children:(0,s.jsx)(o.N_,{to:"/login",className:"text-tokyo-fg hover:text-tokyo-fg-brightest",children:"Sign In"})}),(0,s.jsx)("li",{children:(0,s.jsx)(o.N_,{to:"/signup",className:"text-tokyo-fg hover:text-tokyo-fg-brightest",children:"Create Account"})})]})]})})]})}),(0,s.jsx)("main",{className:"flex-grow relative bg-neutral-10",children:t}),(0,s.jsx)("footer",{className:"bg-neutral-15 py-4 shadow-inner border-t border-tokyo-selection",children:(0,s.jsxs)("div",{className:"max-w-7xl mx-auto px-4 text-center text-tokyo-fg",children:[(0,s.jsx)("p",{children:"This application is a research project investigating AI interaction in code reviews. Not for commercial use. All data collected is used solely for research purposes."}),(0,s.jsxs)("p",{className:"mt-2",children:["For questions or feedback about the research, please contact"," ",(0,s.jsx)("a",{href:"mailto:marg@kea.dk",className:"underline text-tokyo-accent",children:"Martin Gundtoft"})," ","(marg@kea.dk)"]}),(0,s.jsxs)("p",{className:"mt-2 text-sm",children:["Based on"," ",(0,s.jsx)("a",{href:"https://github.com/behu-kea/exam-simulator",className:"underline text-tokyo-accent",children:"exam-simulator"})," ","by Benjamin Hughes"]})]})})]})}i=(a.then?(await a)():a)[0],r()}catch(l){r(l)}}))},6916:(e,t,n)=>{"use strict";n.a(e,(async(e,r)=>{try{n.d(t,{L:()=>v});n(5043);var o=n(6727),i=n(6900),s=n(9856),a=n(5552),l=n(4532),u=n(3415),c=n(6175),d=n(5759),f=n(954),h=n(579),p=e([i,s,a,l,u,c,d,f]);[i,s,a,l,u,c,d,f]=p.then?(await p)():p;const g=new URL("/Code-review-simulator",window.location.origin).pathname;function v(){return(0,h.jsx)(u.O,{children:(0,h.jsx)(o.Kd,{basename:g,children:(0,h.jsxs)(o.BV,{children:[(0,h.jsx)(o.qh,{path:"/",element:(0,h.jsx)(i.A,{})}),(0,h.jsx)(o.qh,{path:"/login",element:(0,h.jsx)(d.A,{})}),(0,h.jsx)(o.qh,{path:"/signup",element:(0,h.jsx)(f.A,{})}),(0,h.jsxs)(o.qh,{element:(0,h.jsx)(c.O,{}),children:[(0,h.jsx)(o.qh,{path:"/dashboard",element:(0,h.jsx)(a.A,{})}),(0,h.jsx)(o.qh,{path:"/create",element:(0,h.jsx)(l.A,{})}),(0,h.jsx)(o.qh,{path:"/exam",element:(0,h.jsx)(l.A,{})}),(0,h.jsx)(o.qh,{path:"/live",element:(0,h.jsx)(s.A,{})})]})]})})})}r()}catch(m){r(m)}}))},9856:(e,t,n)=>{"use strict";n.a(e,(async(e,r)=>{try{n.d(t,{A:()=>y});var o=n(5043),i=n(6727),s=n(3146),a=n(5789),l=n(5206),u=n(6029),c=n(9584),d=n(8613),f=n(8139),h=n.n(f),p=n(579),m=e([s,a]);function v(e){let{id:t,videoRef:n,videoStream:r,setVideoStream:i,examIntentStarted:s,handleStartExamClicked:u,onEndReview:d,onTimerExpired:f,triggerManualStop:m,onClientReady:g,forceStopAudio:v,forceStopVideo:y,onTranscriptChunk:b,suggestions:w,isProcessing:x,onLoadingStateChange:_,quickStartExam:k,onButtonReady:S,onScreenShareCancelled:C}=e;const{client:E,connected:T}=(0,l.P)(),A=(0,o.useRef)(!0),[O,I]=(0,o.useState)(!1),[N,R]=(0,o.useState)(!1);return(0,o.useEffect)((()=>{if(r&&E&&T&&A.current)try{E.send([{}]),A.current=!1}catch(e){console.error("Failed to send screen share notification:",e)}}),[r,E,T]),(0,o.useEffect)((()=>{E&&g(E)}),[E,g]),(0,o.useEffect)((()=>{s&&!T?I(!0):T?I(!1):s||I(!1)}),[s,T]),(0,o.useEffect)((()=>{}),[s,r,v,y]),(0,p.jsx)("div",{className:"streaming-console max-w-2xl mx-auto flex flex-col",children:(0,p.jsxs)("div",{className:"pt-10 pr-10 pl-10 mb-10 flex justify-center flex-col",children:[(0,p.jsx)("h1",{className:"mb-8 font-bold text-2xl text-tokyo-fg-bright text-center",children:"AI Code Review"}),(0,p.jsx)(a.f,{examId:t,examIntentStarted:s,onTimerExpired:f,onManualStop:d,onTranscriptChunk:b,liveSuggestions:w,onLoadingStateChange:R,videoRef:n,supportsVideo:!0,onVideoStreamChange:i,onButtonClicked:u,forceStopAudio:v,forceStopVideo:y,quickStartExam:k,onButtonReady:S,onScreenShareCancelled:C}),s&&r&&(0,p.jsx)("div",{className:"mt-8",children:(0,p.jsx)(c.Q,{suggestions:w,isProcessing:x,isVisible:!0})}),(0,p.jsx)("video",{className:h()({hidden:!n.current||!r}),style:{width:"20%",position:"fixed",bottom:"25px",right:"25px",opacity:"0"},ref:n,autoPlay:!0,playsInline:!0})]})})}function y(){const e=(0,o.useRef)(null),[t,n]=(0,o.useState)(null),[r]=(0,i.ok)(),a=(0,i.zy)(),c=(0,i.Zp)(),f=r.get("id"),h=a.state,m=f||(null!==h&&void 0!==h&&h.quickStart?`quickstart-${Date.now()}`:void 0),[g,y]=(0,o.useState)(null),[b,w]=(0,o.useState)(!0),[x,_]=(0,o.useState)(null),[k,S]=(0,o.useState)(!1),[C,E]=(0,o.useState)(!1),[T,A]=(0,o.useState)(!1),[O,I]=(0,o.useState)(!1),[N,R]=((0,o.useRef)(!1),(0,o.useState)(null)),[P,j]=(0,o.useState)(!1),{suggestions:L,persistedSuggestions:D,extractSuggestions:M,clearAllSuggestions:U,isProcessing:F}=(0,u.w)(),[$,z]=(0,o.useState)(null),B=(0,o.useRef)(!1),q=(0,o.useRef)(null),V=(0,o.useRef)(!1);(0,o.useEffect)((()=>{if(null!==h&&void 0!==h&&h.quickStart&&!f&&!$){const e={id:m,title:"Github Repo"===h.type?"GitHub Repository Review":"General Code Review",description:"Github Repo"===h.type?`Code review of GitHub repository: ${h.repoUrl||"Repository URL not provided"}`:"A general code review session focusing on code quality improvements and best practices.",type:h.type||"Standard",duration:0,learning_goals:h.developerLevel||"intermediate",is_public:!1,created_at:(new Date).toISOString(),user_id:"quickstart",repoUrl:h.repoUrl};z(e),console.log("\ud83d\ude80 Quick start exam created:",e)}}),[null===h||void 0===h?void 0:h.quickStart,f,m,$]),(0,o.useEffect)((()=>{null!==h&&void 0!==h&&h.autoStart&&$&&!k&&!V.current&&(console.log("\ud83d\ude80 Auto-start requested - setting trigger flag (initial load only)"),B.current=!0,q.current=setTimeout((()=>{B.current&&!V.current&&(console.log("\ud83d\ude80 Auto-start timeout - triggering manual start"),S(!0),B.current=!1,V.current=!0)}),2e3))}),[null===h||void 0===h?void 0:h.autoStart,$,k]),(0,o.useEffect)((()=>{k&&!V.current&&(console.log("\ud83d\ude80 Review started - permanently disabling auto-trigger for this session"),B.current=!1,V.current=!0,q.current&&(clearTimeout(q.current),q.current=null))}),[k]);const H=()=>{console.log("\ud83d\uded1 AIExaminerPage: handleEndReview called",{examIntentStarted:k,forceStopAudio:C,forceStopVideo:T}),B.current=!1,q.current&&(clearTimeout(q.current),q.current=null),N&&(console.log("\ud83d\uded1 AIExaminerPage: Terminating genaiClient session"),N.terminateSession()),console.log("\ud83d\uded1 AIExaminerPage: Setting force stop flags and examIntentStarted to false"),E(!0),A(!0),S(!1),setTimeout((()=>{console.log("\ud83d\uded1 AIExaminerPage: Resetting force stop flags"),E(!1),A(!1)}),3e3)},W=(0,o.useCallback)((e=>{R(e)}),[]),G=(0,o.useCallback)((e=>{B.current&&!V.current?(console.log("\ud83d\ude80 Button ready - triggering auto-start"),B.current=!1,V.current=!0,q.current&&(clearTimeout(q.current),q.current=null),setTimeout((()=>{e()}),100)):V.current?console.log("\ud83d\udeab Auto-trigger already completed - ignoring subsequent calls"):console.log("\ud83d\udeab Auto-trigger flag not set - ignoring button ready call")}),[]),J=(0,o.useCallback)((()=>{null!==h&&void 0!==h&&h.quickStart&&(console.log("\ud83d\udeab Screen sharing cancelled in quick start - returning to landing page"),c("/",{state:{reopenQuickStart:!0}}))}),[null===h||void 0===h?void 0:h.quickStart,c]);(0,o.useEffect)((()=>{const e=()=>{N&&N.terminateSession()};return window.addEventListener("beforeunload",e),()=>{window.removeEventListener("beforeunload",e),N&&N.terminateSession(),q.current&&clearTimeout(q.current)}}),[N]),(0,o.useEffect)((()=>{T&&t&&(t.getTracks().forEach((e=>{e.stop()})),n(null))}),[T,t]),(0,o.useEffect)((()=>{(async()=>{w(!0),_(null);try{const e=await fetch("https://api-key-server-codereview.vercel.app/api/prompt2");if(!e.ok)throw new Error(`Failed to fetch API key: ${e.statusText}`);const t=await e.json();if(!t||"string"!==typeof t)throw new Error("Invalid API key format received");y(t)}catch(e){console.error("Error fetching API key:",e),_(e instanceof Error?e.message:"An unknown error occurred fetching API key")}finally{w(!1)}})()}),[]);return b?(0,p.jsx)(s.A,{children:(0,p.jsx)(d.b,{isLoading:!0})}):x?(0,p.jsx)(s.A,{children:(0,p.jsxs)("div",{className:"text-tokyo-fg-bright",children:["Error loading API Key: ",x]})}):g?m?(0,p.jsx)(s.A,{children:(0,p.jsx)(l.C,{apiKey:g,children:(0,p.jsx)(v,{id:m,videoRef:e,videoStream:t,setVideoStream:n,examIntentStarted:k,handleStartExamClicked:e=>{console.log("\ud83c\udf9b\ufe0f AIExaminerPage: handleStartExamClicked called",{isButtonOn:e,currentExamIntentStarted:k}),e?(console.log("\ud83c\udf9b\ufe0f AIExaminerPage: Setting examIntentStarted to true"),S(!0)):console.log("\u26a0\ufe0f AIExaminerPage: handleStartExamClicked called with false - this should not happen anymore!")},onEndReview:H,onTimerExpired:()=>{N&&N.terminateSession(),E(!0),A(!0),S(!1),U(),setTimeout((()=>{E(!1),A(!1)}),3e3)},triggerManualStop:O,onClientReady:W,forceStopAudio:C,forceStopVideo:T,onTranscriptChunk:M,suggestions:L,isProcessing:F,onLoadingStateChange:j,quickStartExam:$,onButtonReady:G,onScreenShareCancelled:J})})}):(0,p.jsx)(s.A,{children:(0,p.jsxs)("div",{className:"text-tokyo-fg-bright text-center py-8",children:[(0,p.jsx)("h2",{className:"text-xl font-bold mb-4",children:"No Code Review Session"}),(0,p.jsx)("p",{className:"mb-4",children:"No exam ID specified and no quick start data found."}),(0,p.jsx)("button",{onClick:()=>c("/"),className:"bg-tokyo-accent hover:bg-tokyo-accent-darker text-white px-6 py-2 rounded-md transition-colors",children:"Go to Home"})]})}):(0,p.jsx)(s.A,{children:(0,p.jsx)("div",{children:"API Key not available. Cannot start exam."})})}[s,a]=m.then?(await m)():m,r()}catch(g){r(g)}}))},5552:(e,t,n)=>{"use strict";n.a(e,(async(e,r)=>{try{n.d(t,{A:()=>p});var o=n(5043),i=n(6727),s=n(3146),a=n(8227),l=n(579),u=e([s,a]);[s,a]=u.then?(await u)():u;const d=e=>{if(!e)return"No duration set";if(e<60)return`${e} min`;const t=Math.floor(e/60),n=e%60;return n?`${t}h ${n}m`:`${t}h`};function f(e){let{sim:t,showToast:n,isNew:r=!1,isUpdated:s=!1}=e;const[a,u]=(0,o.useState)(!1),[c,f]=(0,o.useState)(!1),h=(0,o.useRef)(null);(0,o.useEffect)((()=>{if(!a)return;const e=e=>{h.current&&!h.current.contains(e.target)&&u(!1)},t=setTimeout((()=>{document.addEventListener("mousedown",e)}),10);return()=>{clearTimeout(t),document.removeEventListener("mousedown",e)}}),[a]);return(0,l.jsxs)("div",{className:`relative p-5 bg-tokyo-bg-lighter rounded-lg shadow-md transition-all duration-200 flex flex-col justify-between h-full border border-tokyo-selection ${c?"shadow-lg transform -translate-y-1":""} ${r||s?"ring-2 ring-tokyo-accent ring-opacity-50":""}`,onMouseEnter:()=>f(!0),onMouseLeave:()=>f(!1),children:[(r||s)&&(0,l.jsx)("div",{className:"absolute top-0.5 right-1 z-10",children:(0,l.jsx)("span",{className:"text-white text-xs px-3 py-0 rounded-full "+(r?"bg-green-500":"bg-purple-600"),children:r?"NEW":"UPDATED"})}),(0,l.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,l.jsx)(i.N_,{to:`/exam?id=${t.id}`,className:"group pr-20",children:(0,l.jsx)("h2",{className:"text-xl font-bold text-tokyo-fg-bright group-hover:text-tokyo-accent transition-colors",children:t.title})}),(0,l.jsxs)("div",{className:"relative",ref:h,children:[(0,l.jsx)("button",{onClick:e=>{e.stopPropagation(),u(!a)},className:"p-2 rounded-full hover:bg-tokyo-bg-lightest transition-colors cursor-pointer","aria-label":"Menu",children:(0,l.jsxs)("svg",{className:"h-5 w-5 text-tokyo-comment",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,l.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z"}),(0,l.jsx)("circle",{cx:"12",cy:"12",r:"1"}),(0,l.jsx)("circle",{cx:"12",cy:"19",r:"1"}),(0,l.jsx)("circle",{cx:"12",cy:"5",r:"1"})]})}),a&&(0,l.jsxs)("div",{className:"absolute top-full right-0 mt-1 bg-tokyo-bg-lightest border border-tokyo-selection rounded-md shadow-xl backdrop-blur-sm z-20 w-48 py-1 overflow-hidden",children:[(0,l.jsxs)("button",{onClick:async e=>{e.stopPropagation();try{const e=`${window.location.origin}/Code-review-simulator/live?id=${t.id}`;await navigator.clipboard.writeText(e),u(!1),n("Link copied to clipboard!")}catch(r){n("Could not copy link")}},className:"flex items-center w-full text-left px-4 py-2 text-sm text-tokyo-fg hover:bg-tokyo-selection transition-colors cursor-pointer",children:[(0,l.jsx)("svg",{className:"h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})}),"Copy Link"]}),(0,l.jsx)(i.N_,{to:`/exam?id=${t.id}`,className:"text-tokyo-accent hover:text-tokyo-accent-darker text-sm font-medium mr-4",children:"Edit Custom Review"})]})]})]}),(0,l.jsxs)("div",{className:"flex-grow",children:[(0,l.jsx)("p",{className:"text-tokyo-fg line-clamp-3 mb-3",children:t.description}),(0,l.jsxs)("div",{className:"flex flex-wrap gap-3 mb-4",children:[t.duration>0&&(0,l.jsxs)("div",{className:"flex items-center text-sm text-tokyo-comment",children:[(0,l.jsx)("svg",{className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),d(t.duration)]}),t.type&&(0,l.jsxs)("div",{className:"flex items-center text-sm text-tokyo-comment",children:[(0,l.jsx)("svg",{className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),t.type]})]})]}),(0,l.jsx)("div",{className:"mt-auto pt-3 border-t border-tokyo-selection",children:(0,l.jsxs)(i.N_,{to:`/live?id=${t.id}`,className:"w-full bg-tokyo-accent hover:bg-tokyo-accent-darker text-white text-center py-2 px-4 rounded-md transition-colors flex items-center justify-center",children:[(0,l.jsxs)("svg",{className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"}),(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]}),"Start code review"]})})]})}const h=()=>(0,l.jsxs)("div",{className:"bg-tokyo-bg-lighter rounded-lg shadow-md p-8 text-center max-w-md mx-auto border border-tokyo-selection",children:[(0,l.jsx)("div",{className:"mb-6 flex justify-center",children:(0,l.jsx)("svg",{className:"h-24 w-24 text-tokyo-comment",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),(0,l.jsx)("h3",{className:"text-xl font-semibold text-tokyo-fg-bright mb-2",children:"No code reviews found."}),(0,l.jsx)("p",{className:"text-tokyo-fg mb-6",children:"Create your first code review to get started."}),(0,l.jsxs)(i.N_,{to:"/create",className:"inline-flex items-center justify-center bg-tokyo-accent hover:bg-tokyo-accent-darker text-white py-3 px-6 rounded-md transition-colors shadow-md",children:[(0,l.jsx)("svg",{className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Create your first code review"]})]});function p(){const[e,t]=(0,o.useState)(""),[n,r]=(0,o.useState)(""),[u,c]=(0,o.useState)(!1),[d,p]=(0,o.useState)([]),[m,g]=(0,o.useState)(null),[v,y]=(0,o.useState)(null);(0,o.useEffect)((()=>{!async function(){const{data:e,error:t}=await a.N.from("exams").select().order("created_at",{ascending:!1});t?console.error("Error fetching exams:",t):p(e||[])}();const e=localStorage.getItem("newlyCreatedExamId"),t=localStorage.getItem("dashboardShownNew");e&&!t&&(g(e),localStorage.setItem("dashboardShownNew","true"));const n=localStorage.getItem("recentlyUpdatedExamId"),r=localStorage.getItem("dashboardShownUpdated");n&&!r&&(y(n),localStorage.setItem("dashboardShownUpdated","true"));const o=localStorage.getItem("landingPageShownNew"),i=localStorage.getItem("landingPageShownUpdated");o&&t&&(localStorage.removeItem("newlyCreatedExamId"),localStorage.removeItem("landingPageShownNew"),localStorage.removeItem("dashboardShownNew")),i&&r&&(localStorage.removeItem("recentlyUpdatedExamId"),localStorage.removeItem("landingPageShownUpdated"),localStorage.removeItem("dashboardShownUpdated"))}),[]);const b=d.filter((e=>e.title.toLowerCase().includes(n.toLowerCase())||e.description.toLowerCase().includes(n.toLowerCase()))),w=e=>{t(e),c(!0),setTimeout((()=>{c(!1),setTimeout((()=>t("")),300)}),3e3)};return(0,l.jsx)(s.A,{children:(0,l.jsxs)("div",{className:"relative min-h-screen max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[(0,l.jsxs)("div",{className:"mb-8",children:[(0,l.jsx)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-6",children:(0,l.jsx)("h1",{className:"text-3xl font-bold text-tokyo-fg-bright mb-4 md:mb-0",children:"Your code reviews"})}),d.length>0&&(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,l.jsx)("svg",{className:"h-5 w-5 text-tokyo-comment",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),(0,l.jsx)("input",{type:"text",placeholder:"Search code reviews...",className:"pl-10 pr-4 py-2 w-full md:w-64 border border-tokyo-selection bg-tokyo-bg-lighter text-tokyo-fg-bright rounded-md focus:outline-none focus:ring-2 focus:ring-tokyo-accent focus:border-transparent",value:n,onChange:e=>r(e.target.value)})]})]}),d.length>0?(0,l.jsx)(l.Fragment,{children:b.length>0?(0,l.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:b.map((e=>(0,l.jsx)(f,{sim:e,showToast:w,isNew:e.id===m,isUpdated:e.id===v},e.id)))}):(0,l.jsxs)("div",{className:"bg-tokyo-bg-lighter rounded-lg shadow-md p-8 text-center border border-tokyo-selection",children:[(0,l.jsx)("p",{className:"text-tokyo-fg",children:"No code reviews match your search. Try a different search term or clear your search."}),(0,l.jsx)("button",{onClick:()=>r(""),className:"mt-4 text-tokyo-accent hover:text-tokyo-accent-lighter font-medium",children:"Clear Search"})]})}):(0,l.jsx)(h,{}),(0,l.jsx)(i.N_,{to:"/create",className:"md:hidden fixed bottom-6 right-6 bg-tokyo-accent hover:bg-tokyo-accent-darker text-white rounded-full w-14 h-14 flex items-center justify-center shadow-lg transition-colors","aria-label":"Create new simulator",children:(0,l.jsx)("svg",{className:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})}),(0,l.jsxs)("div",{className:"fixed bottom-6 left-1/2 transform -translate-x-1/2 bg-tokyo-bg-lightest text-tokyo-fg-bright py-3 px-6 rounded-lg shadow-lg z-50 flex items-center transition-opacity duration-300 "+(u?"opacity-100":"opacity-0 pointer-events-none"),children:[(0,l.jsx)("svg",{className:"h-5 w-5 text-tokyo-green mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),e]})]})})}r()}catch(c){r(c)}}))},4532:(e,t,n)=>{"use strict";n.a(e,(async(e,r)=>{try{n.d(t,{A:()=>d});var o=n(5043),i=n(6727),s=n(3146),a=n(8227),l=n(579),u=e([s,a]);function d(){const[e]=(0,i.ok)(),t=(0,i.Zp)(),n=e.get("id")||"",[r,u]=(0,o.useState)(null),c=o.useRef(!1),d=o.useRef(0);(0,o.useEffect)((()=>{(async()=>{if(n){const{data:e,error:t}=await a.N.from("exams").select("*").eq("id",n).single();t?console.error("Error fetching exam:",t):u(e)}})()}),[n]);const[f,h]=(0,o.useState)(r?r.title:""),[p,m]=(0,o.useState)("intermediate"),[g,v]=(0,o.useState)(10),[y,b]=(0,o.useState)(""),[w,x]=(0,o.useState)("Standard"),[_,k]=(0,o.useState)(!1),[S,C]=(0,o.useState)(""),[E,T]=(0,o.useState)(!1),[A,O]=(0,o.useState)(!1),I=""!==n&&void 0!==r;(0,o.useEffect)((()=>{r&&(h(r.title||""),m(r.learning_goals||"intermediate"),v(isNaN(Number(r.duration))?10:Number(r.duration)),b(r.description||""),x(r.type||"Standard"),k(r.is_public||!1))}),[r]);const N=e=>{C(e),T(!0),setTimeout((()=>{T(!1),setTimeout((()=>C("")),300)}),3e3)};return(0,l.jsx)(s.A,{children:(0,l.jsxs)("div",{className:"relative min-h-screen max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[(0,l.jsxs)("div",{className:"flex items-center mb-6",children:[(0,l.jsx)(i.N_,{to:"/dashboard",className:"mr-4 p-2 rounded-full hover:bg-neutral-20 transition-colors","aria-label":"Back to dashboard",children:(0,l.jsx)("svg",{className:"h-5 w-5 text-neutral-60",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),(0,l.jsx)("h1",{className:"text-3xl font-bold text-neutral-90",children:I?"Edit Custom Review":"Create Custom Review"})]}),(0,l.jsx)("div",{className:"bg-neutral-15 rounded-lg shadow-md p-6 border border-neutral-30 "+(A?"pointer-events-none opacity-75":""),children:(0,l.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),A||c.current)return;Date.now()-d.current<1e3||(async()=>{const e=Date.now();if(!A&&!c.current)if(e-d.current<1e3)console.log("Click ignored due to debouncing");else{d.current=e,c.current=!0,O(!0);try{const{data:{user:e}}=await a.N.auth.getUser();if(!e)return void N("Error: Could not save. User information missing.");if(I){if(!r)return void N("Error: Could not find custom review to update.");const o={...r,title:f,description:y,type:w,duration:g,learning_goals:p,is_public:_,user_id:e.id},{error:i}=await a.N.from("exams").update(o).eq("id",n);if(i)return console.error("Error updating custom review:",i),void N(`Error: Could not update custom review. ${i.message}`);N("Custom review updated!"),localStorage.setItem("recentlyUpdatedExamId",n),setTimeout((()=>t("/dashboard")),800)}else{const n={title:f,description:y,type:w,duration:g,learning_goals:p,is_public:_,user_id:e.id},{data:r,error:o}=await a.N.from("exams").insert([n]).select().single();if(o)return console.error("Error creating custom review:",o),void N(`Error: Could not create custom review. ${o.message}`);N("Custom review created!"),null!==r&&void 0!==r&&r.id&&localStorage.setItem("newlyCreatedExamId",r.id),setTimeout((()=>t("/dashboard")),800)}}catch(o){console.error("Unexpected error during save:",o),N("An unexpected error occurred. Please try again.")}finally{setTimeout((()=>{c.current=!1,O(!1)}),1e3)}}})()},className:"space-y-6",children:[(0,l.jsxs)("div",{className:"mb-6",children:[(0,l.jsx)("label",{className:"block text-neutral-90 text-sm font-medium mb-2",children:(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("svg",{className:"h-4 w-4 mr-2 text-neutral-60",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Title"]})}),(0,l.jsx)("input",{type:"text",value:f,onChange:e=>h(e.target.value),className:"w-full px-4 py-2 border border-neutral-30 bg-neutral-20 text-neutral-90 rounded-md focus:outline-none focus:ring-2 focus:ring-tokyo-accent focus:border-transparent transition-colors",placeholder:"Enter custom review title",required:!0})]}),(0,l.jsxs)("div",{className:"mb-6",children:[(0,l.jsx)("label",{className:"block text-neutral-90 text-sm font-medium mb-2",children:(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("svg",{className:"h-4 w-4 mr-2 text-neutral-60",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Custom review focus"]})}),(0,l.jsx)("textarea",{value:y,onChange:e=>b(e.target.value),className:"w-full px-4 py-2 border border-neutral-30 bg-neutral-20 text-neutral-90 rounded-md focus:outline-none focus:ring-2 focus:ring-tokyo-accent focus:border-transparent transition-colors h-32 resize-none",placeholder:"Describe the custom review task"})]}),(0,l.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-neutral-90 text-sm font-medium mb-2",children:(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("svg",{className:"h-4 w-4 mr-2 text-neutral-60",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Custom review type"]})}),(0,l.jsxs)("select",{value:w,onChange:e=>x(e.target.value),className:"w-full px-4 py-2 border border-neutral-30 bg-neutral-20 text-neutral-90 rounded-md focus:outline-none focus:ring-2 focus:ring-tokyo-accent focus:border-transparent transition-colors",children:[(0,l.jsx)("option",{value:"Standard",children:"Standard"}),(0,l.jsx)("option",{value:"Github Repo",children:"Github Repo"})]})]})}),(0,l.jsxs)("div",{className:"mb-6",children:[(0,l.jsx)("label",{className:"block text-neutral-90 text-sm font-medium mb-2",children:(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("svg",{className:"h-4 w-4 mr-2 text-neutral-60",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Duration: ",g," minute",1!==g?"s":""]})}),(0,l.jsx)("div",{className:"flex items-center",children:(0,l.jsx)("input",{type:"range",min:"0",max:"20",value:g,onChange:e=>v(Number(e.target.value)),className:"duration-slider w-full h-2 rounded-lg cursor-pointer"})})]}),(0,l.jsxs)("div",{className:"mb-6",children:[(0,l.jsx)("label",{className:"block text-neutral-90 text-sm font-medium mb-2",children:(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("svg",{className:"h-4 w-4 mr-2 text-neutral-60",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"Developer Experience Level"]})}),(0,l.jsxs)("select",{value:p,onChange:e=>m(e.target.value),className:"w-full px-4 py-2 border border-neutral-30 bg-neutral-20 text-neutral-90 rounded-md focus:outline-none focus:ring-2 focus:ring-tokyo-accent focus:border-transparent transition-colors",required:!0,children:[(0,l.jsx)("option",{value:"junior",children:"Junior Developer"}),(0,l.jsx)("option",{value:"intermediate",children:"Intermediate Developer"}),(0,l.jsx)("option",{value:"senior",children:"Senior Developer"})]}),(0,l.jsx)("p",{className:"text-xs text-neutral-500 mt-1",children:"This will determine the depth and style of feedback provided during the custom review."})]}),(0,l.jsxs)("div",{className:"mb-6",children:[(0,l.jsxs)("label",{className:"flex items-center text-neutral-90 text-sm font-medium",children:[(0,l.jsx)("input",{type:"checkbox",checked:_,onChange:e=>k(e.target.checked),className:"custom-checkbox mr-2 h-4 w-4 rounded"}),"Make custom review public"]}),(0,l.jsx)("p",{className:"text-xs text-neutral-500 mt-1",children:"If checked, other users will be able to see and take this custom review."})]}),(0,l.jsxs)("div",{className:"flex items-center justify-between pt-4 border-t border-neutral-30",children:[(0,l.jsx)(i.N_,{to:"/dashboard",className:"px-4 py-2 bg-neutral-20 text-tokyo-fg hover:text-tokyo-fg-bright hover:bg-tokyo-bg-lightest border border-neutral-30 font-medium transition-all duration-200 rounded-md",children:"Cancel"}),(0,l.jsxs)("div",{className:"flex space-x-3",children:[I&&(0,l.jsxs)("button",{type:"button",onClick:()=>{if(I&&window.confirm("Are you sure you want to delete this custom review?")){(async()=>{const{error:e}=await a.N.from("exams").delete().eq("id",n);if(e)return console.error("Error deleting custom review:",e),void N(`Error: Could not delete custom review. ${e.message}`);N("Custom review deleted!"),t("/dashboard")})()}},className:"flex items-center px-4 py-2 bg-red-500 hover:bg-red-600 hover:shadow-lg text-white font-medium rounded-md transition-all duration-200 transform hover:scale-105",children:[(0,l.jsx)("svg",{className:"h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Delete"]}),(0,l.jsxs)("button",{type:"submit",disabled:A||c.current,className:`flex items-center px-6 py-2 ${A||c.current?"bg-gray-400 cursor-not-allowed":I?"bg-tokyo-accent hover:bg-tokyo-accent-darker":"bg-green-600 hover:bg-green-700"} hover:shadow-lg text-white font-medium rounded-md transition-all duration-200 transform ${A||c.current?"":"hover:scale-105"}`,children:[A?(0,l.jsxs)("svg",{className:"animate-spin h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",children:[(0,l.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,l.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):(0,l.jsx)("svg",{className:"h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),A?I?"Updating...":"Creating...":I?"Update Custom Review":"Create Custom Review"]})]})]})]})}),(0,l.jsxs)("div",{className:"fixed bottom-6 left-1/2 transform -translate-x-1/2 bg-tokyo-bg-lightest text-tokyo-fg-bright py-3 px-6 rounded-lg shadow-lg z-50 flex items-center transition-opacity duration-300 "+(E?"opacity-100":"opacity-0 pointer-events-none"),children:[(0,l.jsx)("svg",{className:"h-5 w-5 text-tokyo-green mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),S]}),(0,l.jsx)("style",{children:"\n            /* Tokyo Theme Colors */\n            .bg-tokyo-accent {\n              background-color: #7c3aed !important;\n            }\n            \n            .bg-tokyo-accent-darker {\n              background-color: #5b21b6 !important;\n            }\n            \n            .hover\\:bg-tokyo-accent-darker:hover {\n              background-color: #5b21b6 !important;\n            }\n            \n            .bg-green-600 {\n              background-color: #16a34a !important;\n            }\n            \n            .bg-green-700 {\n              background-color: #15803d !important;\n            }\n            \n            .hover\\:bg-green-700:hover {\n              background-color: #15803d !important;\n            }\n            \n            .text-tokyo-fg {\n              color: #e2e8f0 !important;\n            }\n            \n            .text-tokyo-fg-bright {\n              color: #f1f5f9 !important;\n            }\n            \n            .hover\\:text-tokyo-fg-bright:hover {\n              color: #f1f5f9 !important;\n            }\n            \n            .bg-tokyo-bg-lightest {\n              background-color: #334155 !important;\n            }\n            \n            .hover\\:bg-tokyo-bg-lightest:hover {\n              background-color: #334155 !important;\n            }\n\n            .duration-slider {\n              -webkit-appearance: none;\n              appearance: none;\n              background: #2a2e3a;\n              border-radius: 8px;\n              outline: none;\n            }\n            \n            .duration-slider::-webkit-slider-thumb {\n              -webkit-appearance: none;\n              appearance: none;\n              height: 20px;\n              width: 20px;\n              border-radius: 50%;\n              background: #7c3aed;\n              cursor: pointer;\n              border: 2px solid #5b21b6;\n              transition: all 0.2s ease;\n            }\n            \n            .duration-slider::-webkit-slider-thumb:hover {\n              background: #8b5cf6;\n              transform: scale(1.1);\n            }\n            \n            .duration-slider::-moz-range-thumb {\n              height: 20px;\n              width: 20px;\n              border-radius: 50%;\n              background: #7c3aed;\n              cursor: pointer;\n              border: 2px solid #5b21b6;\n              transition: all 0.2s ease;\n            }\n            \n            .duration-slider::-moz-range-thumb:hover {\n              background: #8b5cf6;\n              transform: scale(1.1);\n            }\n            \n            .duration-slider::-moz-range-track {\n              background: #2a2e3a;\n              border-radius: 8px;\n              height: 8px;\n            }\n\n            .custom-checkbox {\n              -webkit-appearance: none;\n              -moz-appearance: none;\n              appearance: none;\n              background-color: #2a2e3a;\n              border: 2px solid #4a5568;\n              border-radius: 4px;\n              cursor: pointer;\n              transition: all 0.2s ease;\n            }\n            \n            .custom-checkbox:checked {\n              background-color: #7c3aed;\n              border-color: #7c3aed;\n            }\n            \n            .custom-checkbox:checked::after {\n              content: '\u2713';\n              color: white;\n              font-size: 12px;\n              font-weight: bold;\n              display: flex;\n              align-items: center;\n              justify-content: center;\n              width: 100%;\n              height: 100%;\n            }\n            \n            .custom-checkbox:hover {\n              border-color: #7c3aed;\n            }\n            \n            .custom-checkbox:focus {\n              outline: none;\n              ring: 2px solid #7c3aed;\n              ring-opacity: 50%;\n            }\n\n            .bg-gray-400 {\n              background-color: #9ca3af !important;\n            }\n            \n            .cursor-not-allowed {\n              cursor: not-allowed !important;\n            }\n            \n            .pointer-events-none {\n              pointer-events: none !important;\n            }\n            \n            .opacity-75 {\n              opacity: 0.75 !important;\n            }\n          "})]})})}[s,a]=u.then?(await u)():u,r()}catch(c){r(c)}}))},6900:(e,t,n)=>{"use strict";n.a(e,(async(e,r)=>{try{n.d(t,{A:()=>d});var o=n(5043),i=n(6727),s=n(3146),a=n(8777),l=n(8891),u=n(579),c=e([s,a]);[s,a]=c.then?(await c)():c;const d=()=>{const[e,t]=(0,o.useState)(!1),n=(0,i.Zp)(),r=(0,i.zy)();(0,o.useEffect)((()=>{const e=r.state;null!==e&&void 0!==e&&e.reopenQuickStart&&(t(!0),n(r.pathname,{replace:!0}))}),[r,n]),(0,o.useEffect)((()=>{const e=document.querySelectorAll(".fade-in-auto");setTimeout((()=>{e.forEach((e=>{e.classList.add("visible")}))}),300);const t=document.querySelectorAll(".fade-in"),n=()=>{t.forEach((e=>{e.getBoundingClientRect().top<window.innerHeight-200&&e.classList.add("visible")}))};return window.addEventListener("scroll",n),()=>window.removeEventListener("scroll",n)}),[]);return(0,u.jsxs)(s.A,{children:[(0,u.jsxs)("div",{className:"bg-tokyo-bg",children:[(0,u.jsx)("section",{className:"relative bg-tokyo-accent-darker py-16 md:py-14",children:(0,u.jsx)("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,u.jsx)("div",{className:"md:flex md:items-center md:justify-between",children:(0,u.jsxs)("div",{className:"md:w-full text-center",children:[(0,u.jsx)("h1",{className:"text-3xl md:text-5xl font-bold text-tokyo-fg-brightest",children:"Code Review Simulator"}),(0,u.jsx)("p",{className:"mt-4 text-xl text-tokyo-fg-bright",children:"Practice code reviews with an interactive AI assistant"}),(0,u.jsxs)("div",{className:"mt-12",children:[(0,u.jsxs)("button",{onClick:()=>t(!0),className:"inline-flex items-center justify-center bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white py-5 px-10 rounded-xl transition-all duration-300 transform hover:scale-105 hover:shadow-2xl text-xl font-bold shadow-lg border-2 border-orange-400 hover:border-orange-300",children:[(0,u.jsxs)("svg",{className:"h-7 w-7 mr-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[(0,u.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"}),(0,u.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]}),"Quick Start"]}),(0,u.jsx)("p",{className:"text-sm text-tokyo-fg-bright mt-3",children:"Start a general code review session immediately"}),(0,u.jsxs)("p",{className:"text-xs text-tokyo-fg-dim mt-2 flex items-center justify-center",children:[(0,u.jsx)("svg",{className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,u.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Google Chrome required for screen sharing and microphone access"]})]})]})})})}),(0,u.jsx)("section",{className:"pb-8 md:pb-10 fade-in-auto bg-tokyo-bg-lighter",children:(0,u.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[(0,u.jsx)("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-tokyo-bg-lightest flex items-center justify-center",children:(0,u.jsx)("svg",{className:"h-8 w-8 text-tokyo-accent",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,u.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,u.jsx)("h2",{className:"text-2xl font-bold text-tokyo-fg-bright mb-3",children:"Research Project"}),(0,u.jsx)("p",{className:"text-lg text-tokyo-fg-bright mb-3",children:"This code review simulator is part of an academic research project investigating how AI assisted task solving impacts worklife and skill development through interactive code reviews."}),(0,u.jsx)("p",{className:"text-tokyo-fg",children:"By participating, you contribute to research on AI-assisted education and help improve tools for developers and students. All participation is anonymous and data is used for research purposes only."})]})}),(0,u.jsx)(a.A,{}),(0,u.jsx)("section",{className:"py-12 md:py-16 bg-tokyo-accent-darker fade-in",children:(0,u.jsx)("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:(0,u.jsx)("div",{className:"mt-4"})})})]}),(0,u.jsx)(l.b,{isOpen:e,onClose:()=>t(!1),onStartReview:(e,t,r)=>{n("/live",{state:{quickStart:!0,autoStart:!0,type:e,developerLevel:t,repoUrl:r}})}}),(0,u.jsx)("style",{children:"\n          .fade-in {\n            opacity: 0;\n            transform: translateY(20px);\n            transition: opacity 0.6s ease, transform 0.6s ease;\n          }\n          \n          .fade-in.visible {\n            opacity: 1;\n            transform: translateY(0);\n          }\n\n          .fade-in-auto {\n            opacity: 0;\n            transform: translateY(20px);\n            transition: opacity 0.6s ease, transform 0.6s ease;\n          }\n          \n          .fade-in-auto.visible {\n            opacity: 1;\n            transform: translateY(0);\n          }\n\n          .line-clamp-2 {\n            overflow: hidden;\n            display: -webkit-box;\n            -webkit-box-orient: vertical;\n            -webkit-line-clamp: 2;\n          }\n\n          .line-clamp-3 {\n            overflow: hidden;\n            display: -webkit-box;\n            -webkit-box-orient: vertical;\n            -webkit-line-clamp: 3;\n          }\n        "})]})};r()}catch(d){r(d)}}))},5759:(e,t,n)=>{"use strict";n.a(e,(async(e,r)=>{try{n.d(t,{A:()=>c});var o=n(5043),i=n(6727),s=n(8227),a=n(3146),l=n(579),u=e([s,a]);[s,a]=u.then?(await u)():u;const c=()=>{const e=(0,i.Zp)(),[t,n]=(0,o.useState)({email:"",password:""});function r(e){const{name:t,value:r}=e.target;n((e=>({...e,[t]:r})))}return(0,l.jsx)(a.A,{children:(0,l.jsx)("div",{className:"min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:(0,l.jsxs)("div",{className:"max-w-md w-full space-y-8 bg-tokyo-bg-lighter p-10 rounded-lg shadow-md border border-tokyo-selection",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-tokyo-fg-bright",children:"Sign in to your account"}),(0,l.jsx)("p",{className:"mt-2 text-center text-sm text-tokyo-comment",children:"This application is part of a research project"})]}),(0,l.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:async function(n){n.preventDefault();try{const{data:n,error:r}=await s.N.auth.signInWithPassword({email:t.email,password:t.password});if(r)throw r;e("/dashboard")}catch(r){alert("Login failed: "+r.message)}},children:[(0,l.jsx)("input",{type:"hidden",name:"remember",defaultValue:"true"}),(0,l.jsxs)("div",{className:"rounded-md shadow-sm -space-y-px",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"email-address",className:"sr-only",children:"Email address"}),(0,l.jsx)("input",{id:"email-address",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-tokyo-selection bg-tokyo-bg-lightest placeholder-tokyo-comment text-tokyo-fg-bright rounded-t-md focus:outline-none focus:ring-tokyo-accent focus:border-tokyo-accent focus:z-10 sm:text-sm",placeholder:"Email address",onChange:r,value:t.email})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"password",className:"sr-only",children:"Password"}),(0,l.jsx)("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-tokyo-selection bg-tokyo-bg-lightest placeholder-tokyo-comment text-tokyo-fg-bright rounded-b-md focus:outline-none focus:ring-tokyo-accent focus:border-tokyo-accent focus:z-10 sm:text-sm",placeholder:"Password",onChange:r,value:t.password})]})]}),(0,l.jsx)("div",{children:(0,l.jsx)("button",{type:"submit",className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-tokyo-accent hover:bg-tokyo-accent-darker focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-tokyo-accent-lighter cursor-pointer",children:"Sign in"})})]}),(0,l.jsxs)("div",{className:"text-sm text-center",children:[(0,l.jsx)("span",{className:"text-tokyo-comment",children:"Don't have an account? "}),(0,l.jsx)(i.N_,{to:"/signup",className:"font-medium text-tokyo-accent hover:text-tokyo-accent-lighter",children:"Create an account"})]})]})})})};r()}catch(c){r(c)}}))},6175:(e,t,n)=>{"use strict";n.a(e,(async(e,r)=>{try{n.d(t,{O:()=>u});n(5043);var o=n(6727),i=n(3415),s=n(579),a=e([i]);function u(){const{user:e,loading:t}=(0,i.A)();return t?(0,s.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:"Loading..."}):e?(0,s.jsx)(o.sv,{}):(0,s.jsx)(o.C5,{to:"/login",replace:!0})}i=(a.then?(await a)():a)[0],r()}catch(l){r(l)}}))},954:(e,t,n)=>{"use strict";n.a(e,(async(e,r)=>{try{n.d(t,{A:()=>c});var o=n(5043),i=n(6727),s=n(8227),a=n(3146),l=n(579),u=e([s,a]);[s,a]=u.then?(await u)():u;const c=()=>{const e=(0,i.Zp)(),[t,n]=(0,o.useState)({fullName:"",email:"",password:"",organization:"",role:"",experience:"",isDeveloper:!1});function r(e){const{name:t,value:r,type:o,checked:i}=e.target;n((e=>({...e,[t]:"checkbox"===o?i:r})))}return(0,l.jsx)(a.A,{children:(0,l.jsx)("div",{className:"min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:(0,l.jsxs)("div",{className:"max-w-md w-full space-y-8 bg-tokyo-bg-lighter p-10 rounded-lg shadow-md border border-tokyo-selection",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-tokyo-fg-bright",children:"Create an account"}),(0,l.jsx)("p",{className:"mt-2 text-center text-sm text-tokyo-comment",children:"Join our research project to help improve code review learning"})]}),(0,l.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:async function(n){n.preventDefault();try{const{data:n,error:r}=await s.N.auth.signUp({email:t.email,password:t.password,options:{emailRedirectTo:"https://keamarg.github.io/Code-review-simulator/login",data:{full_name:t.fullName,organization:t.organization,role:t.role,experience:t.experience,is_developer:t.isDeveloper}}});if(r)throw r;alert("Check your email for verification link"),e("/login")}catch(r){alert(r)}},children:[(0,l.jsx)("input",{type:"hidden",name:"remember",defaultValue:"true"}),(0,l.jsxs)("div",{className:"rounded-md shadow-sm -space-y-px",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"fullName",className:"sr-only",children:"Full name"}),(0,l.jsx)("input",{id:"fullName",name:"fullName",type:"text",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-tokyo-selection bg-tokyo-bg-lightest placeholder-tokyo-comment text-tokyo-fg-bright rounded-t-md focus:outline-none focus:ring-tokyo-accent focus:border-tokyo-accent focus:z-10 sm:text-sm",placeholder:"Full name",onChange:r,value:t.fullName})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"email-address",className:"sr-only",children:"Email address"}),(0,l.jsx)("input",{id:"email-address",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-tokyo-selection bg-tokyo-bg-lightest placeholder-tokyo-comment text-tokyo-fg-bright focus:outline-none focus:ring-tokyo-accent focus:border-tokyo-accent focus:z-10 sm:text-sm",placeholder:"Email address",onChange:r,value:t.email})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"password",className:"sr-only",children:"Password"}),(0,l.jsx)("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-tokyo-selection bg-tokyo-bg-lightest placeholder-tokyo-comment text-tokyo-fg-bright focus:outline-none focus:ring-tokyo-accent focus:border-tokyo-accent focus:z-10 sm:text-sm",placeholder:"Password",onChange:r,value:t.password})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"organization",className:"sr-only",children:"Organization (Company or University)"}),(0,l.jsx)("input",{id:"organization",name:"organization",type:"text",className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-tokyo-selection bg-tokyo-bg-lightest placeholder-tokyo-comment text-tokyo-fg-bright focus:outline-none focus:ring-tokyo-accent focus:border-tokyo-accent focus:z-10 sm:text-sm",placeholder:"Organization (Company or University)",onChange:r,value:t.organization})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"role",className:"sr-only",children:"Role (e.g. Developer, Student)"}),(0,l.jsx)("input",{id:"role",name:"role",type:"text",className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-tokyo-selection bg-tokyo-bg-lightest placeholder-tokyo-comment text-tokyo-fg-bright focus:outline-none focus:ring-tokyo-accent focus:border-tokyo-accent focus:z-10 sm:text-sm",placeholder:"Role (e.g. Developer, Student)",onChange:r,value:t.role})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"experience",className:"sr-only",children:"Years of experience"}),(0,l.jsx)("input",{id:"experience",name:"experience",type:"number",className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-tokyo-selection bg-tokyo-bg-lightest placeholder-tokyo-comment text-tokyo-fg-bright rounded-b-md focus:outline-none focus:ring-tokyo-accent focus:border-tokyo-accent focus:z-10 sm:text-sm",placeholder:"Years of experience",onChange:r,value:t.experience})]})]}),(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("input",{id:"isDeveloper",name:"isDeveloper",type:"checkbox",className:"h-4 w-4 text-tokyo-accent focus:ring-tokyo-accent-lighter border-tokyo-selection rounded bg-tokyo-bg-lightest",checked:t.isDeveloper,onChange:r}),(0,l.jsx)("label",{htmlFor:"isDeveloper",className:"ml-2 block text-sm text-tokyo-fg",children:"I am a professional developer"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm text-tokyo-comment mb-4",children:"By signing up, you agree to participate in our research. Your data will be used solely for research purposes."}),(0,l.jsx)("button",{type:"submit",className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-tokyo-accent hover:bg-tokyo-accent-darker focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-tokyo-accent-lighter cursor-pointer",children:"Create account"})]})]}),(0,l.jsxs)("div",{className:"text-sm text-center",children:[(0,l.jsxs)("span",{className:"text-tokyo-comment",children:["Already have an account?"," "]}),(0,l.jsx)(i.N_,{to:"/login",className:"font-medium text-tokyo-accent hover:text-tokyo-accent-lighter",children:"Sign in"})]})]})})})};r()}catch(c){r(c)}}))},4813:(e,t,n)=>{"use strict";async function r(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];console.log("\ud83d\udfe2 OpenAI API Call - getSessionCompletion:"),console.log("\ud83d\udcad Session Messages Count:",e.length),console.log("\ud83d\udcda Full Conversation History:"),e.forEach(((e,t)=>{const n=e.content.substring(0,150)+(e.content.length>150?"...":"");console.log(`  ${t+1}. [${e.role.toUpperCase()}]: ${n}`)})),console.log("\ud83d\udd27 JSON Mode:",t);const n=await fetch("https://api-key-server-codereview.vercel.app/api/prompt1");if(!n.ok)throw new Error("Failed to fetch API key");const r=await n.json(),o={model:"gpt-4o-mini",messages:e};t&&(o.response_format={type:"json_object"});try{var i,s,a;const e=await fetch("https://api.openai.com/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(o)});if(!e.ok)throw console.error("\u274c OpenAI Session API Error:",e.status,e.statusText),new Error(`Failed to fetch completion: ${e.status}`);const n=null===(i=(await e.json()).choices)||void 0===i||null===(s=i[0])||void 0===s||null===(a=s.message)||void 0===a?void 0:a.content;if(console.log("\u2705 OpenAI Session Response:",(null===n||void 0===n?void 0:n.substring(0,200))+((null===n||void 0===n?void 0:n.length)>200?"...":"")),t)try{return JSON.parse(n)}catch(l){throw new Error("Failed to parse JSON response")}return n}catch(u){throw console.error("\u274c OpenAI Session API Error:",u.message),new Error(u.message)}}n.d(t,{Ay:()=>o,Zf:()=>r});const o=async function(e,t,n){console.log("\ud83d\udd35 OpenAI API Call - getCompletion:"),console.log("\ud83d\udccb System Prompt:",t),console.log("\ud83d\udcac User Prompt:",e),console.log("\ud83d\udd27 JSON Mode:",n);const r=await fetch("https://api-key-server-codereview.vercel.app/api/prompt1");if(!r.ok)throw new Error("Failed to fetch API key");const o=await r.json(),i={model:"gpt-4o-mini",messages:[{role:"system",content:t},{role:"user",content:e}]};n&&(i.response_format={type:"json_object"});try{var s,a,l;const e=await fetch("https://api.openai.com/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${o}`},body:JSON.stringify(i)});if(!e.ok)throw console.error("\u274c OpenAI API Error:",e.status,e.statusText),new Error(`Failed to fetch completion: ${e.status}`);const t=null===(s=(await e.json()).choices)||void 0===s||null===(a=s[0])||void 0===a||null===(l=a.message)||void 0===l?void 0:l.content;if(console.log("\u2705 OpenAI Response:",(null===t||void 0===t?void 0:t.substring(0,200))+((null===t||void 0===t?void 0:t.length)>200?"...":"")),n)try{return JSON.parse(t)}catch(u){throw new Error("Failed to parse JSON response")}return t}catch(c){throw console.error("\u274c OpenAI API Error:",c.message),new Error(c.message)}}},6787:(e,t,n)=>{"use strict";n.d(t,{N:()=>i});var r=n(4813),o=n(6092);async function i(e){const t=e.duration,n=function(e){switch(e){case"junior":return"\n- Code readability and clarity\n- Proper naming conventions\n- Basic error handling\n- Code structure and organization\n- Fundamental programming patterns\n- Consistent formatting and styling\n- Documentation practices";case"intermediate":return"\n- Design patterns and their appropriate application\n- Performance considerations\n- Code reuse and modularity\n- Testing approaches and coverage\n- Error handling strategies\n- API design\n- Code maintainability";case"senior":return"\n- Architecture decisions and system design\n- Scalability considerations\n- Advanced design patterns\n- Performance optimization\n- Security best practices\n- Code review standards\n- Technical debt management";default:return"\n- Code quality and structure\n- Best practices\n- Performance considerations\n- Readability and maintainability"}}(e.learning_goals);let i=o.vs.r.replace(/\\n/g,"\n");i+=`\n\nReview focus areas:\n\`\`\`\n${n}\n\`\`\`\n\nCode review context:\n\`\`\`\n${e.description||"Conduct a general code review focusing on the areas listed above."}\n\`\`\`\n\nReview title:\n\`\`\`\n${e.title||"Code Review Session"}\n\`\`\`\n\nReview duration:\n\`\`\`\n${t} minutes\n\`\`\`\n\nThe developer being reviewed is at the ${e.learning_goals} level, so adjust the depth and complexity accordingly.\n\nPlease output it in JSON in the following format:\n\`\`\`\n{\n  "task-student": "TASK_FOR_STUDENT_MARKDOWN"\n}\n\`\`\`\n\nVERY IMPORTANT INSTRUCTIONS:\n1. The response should be JSON valid\n2. ONLY the TASK_FOR_STUDENT_MARKDOWN should be in markdown\n3. Keep the task description BRIEF and CONCISE (maximum 150 words)\n4. Focus on clarity over comprehensiveness \n5. Include the title of the review at the top\n6. Avoid unnecessary explanations or lengthy text\n  `.trim();const s=o.J1.r;try{return await(0,r.Ay)(i,s,!0)}catch(a){return console.error("Error fetching review content:",a),{"task-student":"Error: Failed to connect to AI service."}}}},941:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(6092);function o(e){return[".js",".jsx",".ts",".tsx",".vue",".svelte",".java",".kt",".scala",".groovy",".py",".rb",".php",".go",".rs",".c",".cpp",".h",".hpp",".cs",".vb",".fs",".swift",".m",".mm",".html",".css",".scss",".sass",".less",".sql",".r",".jl",".dart",".elm",".ex",".exs",".clj",".cljs",".hs",".ml",".pl",".sh",".ps1"].some((t=>e.toLowerCase().endsWith(t)))}async function i(e){const t=e.match(/github\.com\/([^/]+)\/([^/]+)/);if(!t)throw new Error("Invalid GitHub repository URL");const n=t[1],r=t[2].replace(/\.git$/,""),i=await async function(e,t){try{const n=`https://api.github.com/repos/${e}/${t}/contents/`,r=await fetch(n);if(r.ok){const e=await r.json();if(e.some((e=>"file"===e.type&&o(e.name)))||e.some((e=>"dir"===e.type)))return"."}}catch(n){return"."}return"."}(n,r);let s="";let a=0;const l=e=>new Promise((t=>setTimeout(t,e)));if(await async function e(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(i>5||a>=20)return;const u=`https://api.github.com/repos/${n}/${r}/contents/${t}`,c=await fetch(u);if(!c.ok)throw new Error(`Failed to fetch ${u}: ${c.status}`);const d=(await c.json()).sort(((e,t)=>"file"===e.type&&"dir"===t.type?-1:"dir"===e.type&&"file"===t.type?1:0));for(const n of d){if(a>=20)break;if(await l(1500),"dir"===n.type){["node_modules",".git","target","build","dist",".gradle","vendor","__pycache__"].includes(n.name)||await e(n.path,i+1)}else if("file"===n.type&&o(n.name))try{const e=await fetch(n.download_url);if(!e.ok){console.warn(`Failed to fetch file ${n.path}`);continue}let t=await e.text();t.length>5e3&&(t=t.substring(0,5e3)+"\n... (file truncated for brevity)"),t=t.split("\n").filter((e=>{const t=e.trim();return!t.startsWith("import ")&&!t.startsWith("#include")&&!t.startsWith("using ")&&!t.startsWith("require(")&&!t.startsWith("from ")||t.startsWith("from typing")})).join("\n"),s+="```\n"+n.path+"\n```\n"+t+"\n```\n\n",a++}catch(f){console.warn(`Error processing file ${n.path}:`,f)}}}(i),""===s.trim())throw new Error("No code files found in the repository. Please check if the repository URL is correct and contains source code.");return s}const s=async function(e,t){const n=await i(e),o=function(e){switch(e){case"junior":return"Focus on reviewing fundamental aspects of the code:\n- Code readability and clarity\n- Naming conventions and consistency\n- Basic error handling approaches\n- Code organization and structure\n- Documentation and commenting practices\n- Simple design patterns implementation";case"intermediate":return"Focus on reviewing intermediate aspects of the code:\n- Appropriate use of design patterns\n- Performance considerations\n- Code reusability and modularity\n- Testing approaches\n- Error handling strategies\n- API design principles";case"senior":return"Focus on reviewing advanced aspects of the code:\n- Architecture and system design\n- Scalability considerations\n- Advanced design patterns\n- Performance optimization techniques\n- Security best practices\n- Code maintainability and technical debt";default:return"Focus on general code quality aspects:\n- Code structure and organization\n- Readability and maintainability\n- Best practices implementation\n- Performance considerations"}}(t||"intermediate");let s=r.vs.S.replace("${repoContents}",n).replace("${learningGoals}",o);s=s.replace(/\\n/g,"\n");const a={model:"gpt-4o",messages:[{role:"system",content:r.J1.b},{role:"user",content:s}]},l=await fetch("https://api-key-server-codereview.vercel.app/api/prompt1");if(!l.ok)throw new Error("Failed to fetch API key");const u=await l.json(),c=await fetch("https://api.openai.com/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${u}`},body:JSON.stringify(a)});if(!c.ok)throw new Error(`Failed to fetch review questions: ${c.status}`);const d=await c.json();return d.choices&&d.choices[0]&&d.choices[0].message&&d.choices[0].message.content}},9028:(e,t,n)=>{"use strict";n.d(t,{h:()=>a});var r=n(1862),o=n(6385);const i=(0,o.eZ)(),s=(0,o.kr)();function a(e,t){const n=(null===t||void 0===t?void 0:t.voiceName)||i,o=(null===t||void 0===t?void 0:t.silenceDurationMs)||s.silenceDurationMs,a=(null===t||void 0===t?void 0:t.prefixPaddingMs)||s.prefixPaddingMs,l=null!==t&&void 0!==t&&t.startOfSpeechSensitivity?r.AU[t.startOfSpeechSensitivity]:r.AU[s.startOfSpeechSensitivity],u=null!==t&&void 0!==t&&t.endOfSpeechSensitivity?r.V2[t.endOfSpeechSensitivity]:r.V2[s.endOfSpeechSensitivity];return{responseModalities:[r.Ay.AUDIO],speechConfig:{voiceConfig:{prebuiltVoiceConfig:{voiceName:n}}},systemInstruction:{parts:[{text:e}]},outputAudioTranscription:!0,realtimeInputConfig:{automaticActivityDetection:{disabled:!1,startOfSpeechSensitivity:l,endOfSpeechSensitivity:u,prefixPaddingMs:a,silenceDurationMs:o}}}}},4409:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(6092);function o(e){return r.jM[e]||r.jM.default}const i={standard:function(e,t,n){let i=r.fG.Br.replace("${examDurationActiveExam}",t).replace('${examSimulator?.title || "code review"}',(null===e||void 0===e?void 0:e.title)||"code review");return i=i.replace(/\\n/g,"\n"),i+=`\n    \n    The code review should focus on the following areas:\n    ${o(e.learning_goals||"intermediate").replace(/\\n/g,"\n")}\n    `,i+=r.je.FD.replace("${description}",e.description||"This is a general code review focusing on the areas specified above.").replace("${studentTask}",n).replace(/\\n/g,"\n"),i+=r.je.lq.replace(/\\n/g,"\n"),i+=r.je.gp.replace("${level}",e.learning_goals||"intermediate").replace(/\\n/g,"\n"),i},github:function(e,t,n){let i=r.fG.BQ.replace("${examDurationActiveExam}",t).replace('${examSimulator?.title || "code review"}',(null===e||void 0===e?void 0:e.title)||"code review");return i=i.replace(/\\n/g,"\n"),i+=`\n\nThe code review should focus on the following areas:\n${o(e.learning_goals||"intermediate").replace(/\\n/g,"\n")}\n\nAdditional context about the code being reviewed:\n${e.description||"This is a general code review focusing on the areas specified above."}\n\nBACKGROUND CONTEXT - REPOSITORY ANALYSIS:\nI have analyzed the GitHub repository and identified these potential areas of focus:\n\n${n}\n\nCRITICAL INSTRUCTION: \nThe above repository analysis is for BACKGROUND CONTEXT ONLY. Your primary job is to review the code that the developer shows you on their screen. \n\n- DO NOT start discussing the repository analysis points immediately\n- DO NOT assume any specific files or code sections are visible\n- ALWAYS ask the developer to show you the specific code they want reviewed first\n- Only reference the background analysis when it's relevant to code currently visible on screen\n- Focus on providing specific line-by-line suggestions for the code you can actually see\n\nSTART BY: Greeting the developer, confirming you can see their screen, and asking them to show you the main file(s) they want reviewed from this repository.\n`,i+=r.je.Vv.replace("${githubQuestions}",n).replace("${level}",e.learning_goals||"intermediate").replace(/\\n/g,"\n"),i},general:function(e,t){let n=r.fG.lv.replace('${examSimulator?.title || "general code review"}',(null===e||void 0===e?void 0:e.title)||"general code review");return n=n.replace(/\\n/g,"\n"),n+=`\n    \n    The code review should focus on the following areas:\n    ${o(e.learning_goals||"intermediate").replace(/\\n/g,"\n")}\n    `,n+=r.je.FD.replace("${description}",e.description||"This is a general code review focusing on code quality improvements and best practices.").replace("${studentTask}",t||"Please show me the code you'd like me to review, and I'll provide specific suggestions for improvement.").replace(/\\n/g,"\n"),n+=r.je.lq.replace(/\\n/g,"\n"),n+=r.je.gp.replace("${level}",e.learning_goals||"intermediate").replace(/\\n/g,"\n"),n}}},2974:(e,t,n)=>{"use strict";n.a(e,(async(e,t)=>{try{n(5043);var r=n(4391),o=(n(9555),n(7391)),i=n(6469),s=n(579),a=e([o]);o=(a.then?(await a)():a)[0];r.createRoot(document.getElementById("root")).render((0,s.jsx)(o.A,{})),(0,i.A)(),t()}catch(l){t(l)}}))},5918:(e,t,n)=>{"use strict";n.d(t,{_:()=>r,h:()=>o});const r=new Map,o=(e,t)=>{const n=new Blob([`registerProcessor("${e}", ${t})`],{type:"application/javascript"});return URL.createObjectURL(n)}},4907:(e,t,n)=>{"use strict";n.d(t,{Ms:()=>i,es:()=>o});const r=new Map,o=(()=>{const e=new Promise((e=>{window.addEventListener("pointerdown",e,{once:!0}),window.addEventListener("keydown",e,{once:!0})}));return async t=>{try{const e=new Audio;if(e.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA",await e.play(),null!==t&&void 0!==t&&t.id&&r.has(t.id)){const e=r.get(t.id);if(e)return e}const n=new AudioContext(t);return null!==t&&void 0!==t&&t.id&&r.set(t.id,n),n}catch(n){if(await e,null!==t&&void 0!==t&&t.id&&r.has(t.id)){const e=r.get(t.id);if(e)return e}const o=new AudioContext(t);return null!==t&&void 0!==t&&t.id&&r.set(t.id,o),o}}})();function i(e){var t=atob(e),n=new Uint8Array(t.length);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n.buffer}},3297:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r="\n  class VolMeter extends AudioWorkletProcessor {\n    volume\n    updateIntervalInMS\n    nextUpdateFrame\n\n    constructor() {\n      super()\n      this.volume = 0\n      this.updateIntervalInMS = 25\n      this.nextUpdateFrame = this.updateIntervalInMS\n      this.port.onmessage = event => {\n        if (event.data.updateIntervalInMS) {\n          this.updateIntervalInMS = event.data.updateIntervalInMS\n        }\n      }\n    }\n\n    get intervalInFrames() {\n      return (this.updateIntervalInMS / 1000) * sampleRate\n    }\n\n    process(inputs) {\n      const input = inputs[0]\n\n      if (input.length > 0) {\n        const samples = input[0]\n        let sum = 0\n        let rms = 0\n\n        for (let i = 0; i < samples.length; ++i) {\n          sum += samples[i] * samples[i]\n        }\n\n        rms = Math.sqrt(sum / samples.length)\n        this.volume = Math.max(rms, this.volume * 0.7)\n\n        this.nextUpdateFrame -= samples.length\n        if (this.nextUpdateFrame < 0) {\n          this.nextUpdateFrame += this.intervalInFrames\n          this.port.postMessage({volume: this.volume})\n        }\n      }\n\n      return true\n    }\n  }"},6469:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,6453)).then((t=>{let{getCLS:n,getFID:r,getFCP:o,getLCP:i,getTTFB:s}=t;n(e),r(e),o(e),i(e),s(e)}))}},4630:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Headers:()=>s,Request:()=>a,Response:()=>l,default:()=>i,fetch:()=>o});var r=function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("unable to locate global object")}();const o=r.fetch,i=r.fetch.bind(r),s=r.Headers,a=r.Request,l=r.Response},9286:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(4630)),i=r(n(2611));t.default=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:"undefined"===typeof fetch?this.fetch=o.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=Object.assign({},this.headers),this.headers[e]=t,this}then(e,t){void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),"GET"!==this.method&&"HEAD"!==this.method&&(this.headers["Content-Type"]="application/json");let n=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then((async e=>{var t,n,r;let o=null,s=null,a=null,l=e.status,u=e.statusText;if(e.ok){if("HEAD"!==this.method){const t=await e.text();""===t||(s="text/csv"===this.headers.Accept||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?t:JSON.parse(t))}const r=null===(t=this.headers.Prefer)||void 0===t?void 0:t.match(/count=(exact|planned|estimated)/),i=null===(n=e.headers.get("content-range"))||void 0===n?void 0:n.split("/");r&&i&&i.length>1&&(a=parseInt(i[1])),this.isMaybeSingle&&"GET"===this.method&&Array.isArray(s)&&(s.length>1?(o={code:"PGRST116",details:`Results contain ${s.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},s=null,a=null,l=406,u="Not Acceptable"):s=1===s.length?s[0]:null)}else{const t=await e.text();try{o=JSON.parse(t),Array.isArray(o)&&404===e.status&&(s=[],o=null,l=200,u="OK")}catch(c){404===e.status&&""===t?(l=204,u="No Content"):o={message:t}}if(o&&this.isMaybeSingle&&(null===(r=null===o||void 0===o?void 0:o.details)||void 0===r?void 0:r.includes("0 rows"))&&(o=null,l=200,u="OK"),o&&this.shouldThrowOnError)throw new i.default(o)}return{error:o,data:s,count:a,status:l,statusText:u}}));return this.shouldThrowOnError||(n=n.catch((e=>{var t,n,r;return{error:{message:`${null!==(t=null===e||void 0===e?void 0:e.name)&&void 0!==t?t:"FetchError"}: ${null===e||void 0===e?void 0:e.message}`,details:`${null!==(n=null===e||void 0===e?void 0:e.stack)&&void 0!==n?n:""}`,hint:"",code:`${null!==(r=null===e||void 0===e?void 0:e.code)&&void 0!==r?r:""}`},data:null,count:null,status:0,statusText:""}}))),n.then(e,t)}returns(){return this}overrideTypes(){return this}}},1210:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(8829)),i=r(n(5736)),s=n(5745);class a{constructor(e){let{headers:t={},schema:n,fetch:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.url=e,this.headers=Object.assign(Object.assign({},s.DEFAULT_HEADERS),t),this.schemaName=n,this.fetch=r}from(e){const t=new URL(`${this.url}/${e}`);return new o.default(t,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new a(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{head:r=!1,get:o=!1,count:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=new URL(`${this.url}/rpc/${e}`);let l;r||o?(t=r?"HEAD":"GET",Object.entries(n).filter((e=>{let[t,n]=e;return void 0!==n})).map((e=>{let[t,n]=e;return[t,Array.isArray(n)?`{${n.join(",")}}`:`${n}`]})).forEach((e=>{let[t,n]=e;a.searchParams.append(t,n)}))):(t="POST",l=n);const u=Object.assign({},this.headers);return s&&(u.Prefer=`count=${s}`),new i.default({method:t,url:a,headers:u,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}}t.default=a},2611:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class n extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}}t.default=n},5736:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(7374));class i extends o.default{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}in(e,t){const n=Array.from(new Set(t)).map((e=>"string"===typeof e&&new RegExp("[,()]").test(e)?`"${e}"`:`${e}`)).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,t){return"string"===typeof t?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return"string"===typeof t?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return"string"===typeof t?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t){let{config:n,type:r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o="";"plain"===r?o="pl":"phrase"===r?o="ph":"websearch"===r&&(o="w");const i=void 0===n?"":`(${n})`;return this.url.searchParams.append(e,`${o}fts${i}.${t}`),this}match(e){return Object.entries(e).forEach((e=>{let[t,n]=e;this.url.searchParams.append(t,`eq.${n}`)})),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e){let{foreignTable:t,referencedTable:n=t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}}t.default=i},8829:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(5736));t.default=class{constructor(e,t){let{headers:n={},schema:r,fetch:o}=t;this.url=e,this.headers=n,this.schema=r,this.fetch=o}select(e){let{head:t=!1,count:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=t?"HEAD":"GET";let i=!1;const s=(null!==e&&void 0!==e?e:"*").split("").map((e=>/\s/.test(e)&&!i?"":('"'===e&&(i=!i),e))).join("");return this.url.searchParams.set("select",s),n&&(this.headers.Prefer=`count=${n}`),new o.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e){let{count:t,defaultToNull:n=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=[];if(this.headers.Prefer&&r.push(this.headers.Prefer),t&&r.push(`count=${t}`),n||r.push("missing=default"),this.headers.Prefer=r.join(","),Array.isArray(e)){const t=e.reduce(((e,t)=>e.concat(Object.keys(t))),[]);if(t.length>0){const e=[...new Set(t)].map((e=>`"${e}"`));this.url.searchParams.set("columns",e.join(","))}}return new o.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e){let{onConflict:t,ignoreDuplicates:n=!1,count:r,defaultToNull:i=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s=[`resolution=${n?"ignore":"merge"}-duplicates`];if(void 0!==t&&this.url.searchParams.set("on_conflict",t),this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),i||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(e)){const t=e.reduce(((e,t)=>e.concat(Object.keys(t))),[]);if(t.length>0){const e=[...new Set(t)].map((e=>`"${e}"`));this.url.searchParams.set("columns",e.join(","))}}return new o.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e){let{count:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=[];return this.headers.Prefer&&n.push(this.headers.Prefer),t&&n.push(`count=${t}`),this.headers.Prefer=n.join(","),new o.default({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete(){let{count:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=[];return e&&t.push(`count=${e}`),this.headers.Prefer&&t.unshift(this.headers.Prefer),this.headers.Prefer=t.join(","),new o.default({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}},7374:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(9286));class i extends o.default{select(e){let t=!1;const n=(null!==e&&void 0!==e?e:"*").split("").map((e=>/\s/.test(e)&&!t?"":('"'===e&&(t=!t),e))).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e){let{ascending:t=!0,nullsFirst:n,foreignTable:r,referencedTable:o=r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=o?`${o}.order`:"order",s=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${s?`${s},`:""}${e}.${t?"asc":"desc"}${void 0===n?"":n?".nullsfirst":".nullslast"}`),this}limit(e){let{foreignTable:t,referencedTable:n=t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r="undefined"===typeof n?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,t){let{foreignTable:n,referencedTable:r=n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o="undefined"===typeof r?"offset":`${r}.offset`,i="undefined"===typeof r?"limit":`${r}.limit`;return this.url.searchParams.set(o,`${e}`),this.url.searchParams.set(i,""+(t-e+1)),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return"GET"===this.method?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain(){let{analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:r=!1,wal:o=!1,format:i="text"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var s;const a=[e?"analyze":null,t?"verbose":null,n?"settings":null,r?"buffers":null,o?"wal":null].filter(Boolean).join("|"),l=null!==(s=this.headers.Accept)&&void 0!==s?s:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${i}; for="${l}"; options=${a};`,this}rollback(){var e;return(null!==(e=this.headers.Prefer)&&void 0!==e?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}t.default=i},5745:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_HEADERS=void 0;const r=n(400);t.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${r.version}`}},7980:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PostgrestError=t.PostgrestBuilder=t.PostgrestTransformBuilder=t.PostgrestFilterBuilder=t.PostgrestQueryBuilder=t.PostgrestClient=void 0;const o=r(n(1210));t.PostgrestClient=o.default;const i=r(n(8829));t.PostgrestQueryBuilder=i.default;const s=r(n(5736));t.PostgrestFilterBuilder=s.default;const a=r(n(7374));t.PostgrestTransformBuilder=a.default;const l=r(n(9286));t.PostgrestBuilder=l.default;const u=r(n(2611));t.PostgrestError=u.default,t.default={PostgrestClient:o.default,PostgrestQueryBuilder:i.default,PostgrestFilterBuilder:s.default,PostgrestTransformBuilder:a.default,PostgrestBuilder:l.default,PostgrestError:u.default}},400:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.version=void 0,t.version="0.0.0-automated"},3799:(e,t,n)=>{"use strict";n.d(t,{UU:()=>Ft});class r extends Error{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"FunctionsError",n=arguments.length>2?arguments[2]:void 0;super(e),this.name=t,this.context=n}}class o extends r{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class i extends r{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class s extends r{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var a;!function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"}(a||(a={}));var l=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(t){i(t)}}function a(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))};class u{constructor(e){let{headers:t={},customFetch:r,region:o=a.Any}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.url=e,this.headers=t,this.region=o,this.fetch=(e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Promise.resolve().then(n.bind(n,4630)).then((e=>{let{default:n}=e;return n(...t)}))}:fetch),function(){return t(...arguments)}})(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n;return l(this,void 0,void 0,(function*(){try{const{headers:r,method:a,body:l}=t;let u,c={},{region:d}=t;d||(d=this.region),d&&"any"!==d&&(c["x-region"]=d),l&&(r&&!Object.prototype.hasOwnProperty.call(r,"Content-Type")||!r)&&("undefined"!==typeof Blob&&l instanceof Blob||l instanceof ArrayBuffer?(c["Content-Type"]="application/octet-stream",u=l):"string"===typeof l?(c["Content-Type"]="text/plain",u=l):"undefined"!==typeof FormData&&l instanceof FormData?u=l:(c["Content-Type"]="application/json",u=JSON.stringify(l)));const f=yield this.fetch(`${this.url}/${e}`,{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},c),this.headers),r),body:u}).catch((e=>{throw new o(e)})),h=f.headers.get("x-relay-error");if(h&&"true"===h)throw new i(f);if(!f.ok)throw new s(f);let p,m=(null!==(n=f.headers.get("Content-Type"))&&void 0!==n?n:"text/plain").split(";")[0].trim();return p="application/json"===m?yield f.json():"application/octet-stream"===m?yield f.blob():"text/event-stream"===m?f:"multipart/form-data"===m?yield f.formData():yield f.text(),{data:p,error:null}}catch(r){return{data:null,error:r}}}))}}var c=n(7980);const{PostgrestClient:d,PostgrestQueryBuilder:f,PostgrestFilterBuilder:h,PostgrestTransformBuilder:p,PostgrestBuilder:m,PostgrestError:g}=c,v={"X-Client-Info":"realtime-js/2.11.2"};var y,b,w,x,_,k;!function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"}(y||(y={})),function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"}(b||(b={})),function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"}(w||(w={})),function(e){e.websocket="websocket"}(x||(x={})),function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"}(_||(_={}));class S{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t("string"===typeof e?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,t,n)}_decodeBroadcast(e,t,n){const r=t.getUint8(1),o=t.getUint8(2);let i=this.HEADER_LENGTH+2;const s=n.decode(e.slice(i,i+r));i+=r;const a=n.decode(e.slice(i,i+o));i+=o;return{ref:null,topic:s,event:a,payload:JSON.parse(n.decode(e.slice(i,e.byteLength)))}}}class C{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout((()=>{this.tries=this.tries+1,this.callback()}),this.timerCalc(this.tries+1))}}!function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"}(k||(k={}));const E=function(e,t){var n;const r=null!==(n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipTypes)&&void 0!==n?n:[];return Object.keys(t).reduce(((n,o)=>(n[o]=T(o,e,t,r),n)),{})},T=(e,t,n,r)=>{const o=t.find((t=>t.name===e)),i=null===o||void 0===o?void 0:o.type,s=n[e];return i&&!r.includes(i)?A(i,s):O(s)},A=(e,t)=>{if("_"===e.charAt(0)){const n=e.slice(1,e.length);return P(t,n)}switch(e){case k.bool:return I(t);case k.float4:case k.float8:case k.int2:case k.int4:case k.int8:case k.numeric:case k.oid:return N(t);case k.json:case k.jsonb:return R(t);case k.timestamp:return j(t);case k.abstime:case k.date:case k.daterange:case k.int4range:case k.int8range:case k.money:case k.reltime:case k.text:case k.time:case k.timestamptz:case k.timetz:case k.tsrange:case k.tstzrange:default:return O(t)}},O=e=>e,I=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},N=e=>{if("string"===typeof e){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},R=e=>{if("string"===typeof e)try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},P=(e,t)=>{if("string"!==typeof e)return e;const n=e.length-1,r=e[n];if("{"===e[0]&&"}"===r){let r;const i=e.slice(1,n);try{r=JSON.parse("["+i+"]")}catch(o){r=i?i.split(","):[]}return r.map((e=>A(t,e)))}return e},j=e=>"string"===typeof e?e.replace(" ","T"):e,L=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class D{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e4;this.channel=e,this.event=t,this.payload=n,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var n;return this._hasReceived(e)&&t(null===(n=this.receivedResp)||void 0===n?void 0:n.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);this.channel._on(this.refEvent,{},(e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)})),this.timeoutTimer=setTimeout((()=>{this.trigger("timeout",{})}),this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive(e){let{status:t,response:n}=e;this.recHooks.filter((e=>e.status===t)).forEach((e=>e.callback(n)))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var M,U,F,$;!function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"}(M||(M={}));class z{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(null===t||void 0===t?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},(e=>{const{onJoin:t,onLeave:n,onSync:r}=this.caller;this.joinRef=this.channel._joinRef(),this.state=z.syncState(this.state,e,t,n),this.pendingDiffs.forEach((e=>{this.state=z.syncDiff(this.state,e,t,n)})),this.pendingDiffs=[],r()})),this.channel._on(n.diff,{},(e=>{const{onJoin:t,onLeave:n,onSync:r}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(e):(this.state=z.syncDiff(this.state,e,t,n),r())})),this.onJoin(((e,t,n)=>{this.channel._trigger("presence",{event:"join",key:e,currentPresences:t,newPresences:n})})),this.onLeave(((e,t,n)=>{this.channel._trigger("presence",{event:"leave",key:e,currentPresences:t,leftPresences:n})})),this.onSync((()=>{this.channel._trigger("presence",{event:"sync"})}))}static syncState(e,t,n,r){const o=this.cloneDeep(e),i=this.transformState(t),s={},a={};return this.map(o,((e,t)=>{i[e]||(a[e]=t)})),this.map(i,((e,t)=>{const n=o[e];if(n){const r=t.map((e=>e.presence_ref)),o=n.map((e=>e.presence_ref)),i=t.filter((e=>o.indexOf(e.presence_ref)<0)),l=n.filter((e=>r.indexOf(e.presence_ref)<0));i.length>0&&(s[e]=i),l.length>0&&(a[e]=l)}else s[e]=t})),this.syncDiff(o,{joins:s,leaves:a},n,r)}static syncDiff(e,t,n,r){const{joins:o,leaves:i}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return n||(n=()=>{}),r||(r=()=>{}),this.map(o,((t,r)=>{var o;const i=null!==(o=e[t])&&void 0!==o?o:[];if(e[t]=this.cloneDeep(r),i.length>0){const n=e[t].map((e=>e.presence_ref)),r=i.filter((e=>n.indexOf(e.presence_ref)<0));e[t].unshift(...r)}n(t,i,r)})),this.map(i,((t,n)=>{let o=e[t];if(!o)return;const i=n.map((e=>e.presence_ref));o=o.filter((e=>i.indexOf(e.presence_ref)<0)),e[t]=o,r(t,o,n),0===o.length&&delete e[t]})),e}static map(e,t){return Object.getOwnPropertyNames(e).map((n=>t(n,e[n])))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce(((t,n)=>{const r=e[n];return t[n]="metas"in r?r.metas.map((e=>(e.presence_ref=e.phx_ref,delete e.phx_ref,delete e.phx_ref_prev,e))):r,t}),{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}!function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"}(U||(U={})),function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"}(F||(F={})),function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"}($||($={}));class B{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}},n=arguments.length>2?arguments[2]:void 0;this.topic=e,this.params=t,this.socket=n,this.bindings={},this.state=b.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new D(this,w.join,this.params,this.timeout),this.rejoinTimer=new C((()=>this._rejoinUntilConnected()),this.socket.reconnectAfterMs),this.joinPush.receive("ok",(()=>{this.state=b.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach((e=>e.send())),this.pushBuffer=[]})),this._onClose((()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=b.closed,this.socket._remove(this)})),this._onError((e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,e),this.state=b.errored,this.rejoinTimer.scheduleTimeout())})),this.joinPush.receive("timeout",(()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=b.errored,this.rejoinTimer.scheduleTimeout())})),this._on(w.reply,{},((e,t)=>{this._trigger(this._replyEventName(t),e)})),this.presence=new z(this),this.broadcastEndpointURL=L(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.timeout;var n,r;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:o,presence:i,private:s}}=this.params;this._onError((t=>null===e||void 0===e?void 0:e($.CHANNEL_ERROR,t))),this._onClose((()=>null===e||void 0===e?void 0:e($.CLOSED)));const a={},l={broadcast:o,presence:i,postgres_changes:null!==(r=null===(n=this.bindings.postgres_changes)||void 0===n?void 0:n.map((e=>e.filter)))&&void 0!==r?r:[],private:s};this.socket.accessTokenValue&&(a.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:l},a)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",(async t=>{let{postgres_changes:n}=t;var r;if(this.socket.setAuth(),void 0!==n){const t=this.bindings.postgres_changes,o=null!==(r=null===t||void 0===t?void 0:t.length)&&void 0!==r?r:0,i=[];for(let r=0;r<o;r++){const o=t[r],{filter:{event:s,schema:a,table:l,filter:u}}=o,c=n&&n[r];if(!c||c.event!==s||c.schema!==a||c.table!==l||c.filter!==u)return this.unsubscribe(),void(null===e||void 0===e||e($.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes")));i.push(Object.assign(Object.assign({},o),{id:c.id}))}return this.bindings.postgres_changes=i,void(e&&e($.SUBSCRIBED))}null===e||void 0===e||e($.SUBSCRIBED)})).receive("error",(t=>{null===e||void 0===e||e($.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(t).join(", ")||"error")))})).receive("timeout",(()=>{null===e||void 0===e||e($.TIMED_OUT)}))}return this}presenceState(){return this.presence.state}async track(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return await this.send({type:"presence",event:"untrack"},e)}on(e,t,n){return this._on(e,t,n)}async send(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n,r;if(this._canPush()||"broadcast"!==e.type)return new Promise((n=>{var r,o,i;const s=this._push(e.type,e,t.timeout||this.timeout);"broadcast"!==e.type||(null===(i=null===(o=null===(r=this.params)||void 0===r?void 0:r.config)||void 0===o?void 0:o.broadcast)||void 0===i?void 0:i.ack)||n("ok"),s.receive("ok",(()=>n("ok"))),s.receive("error",(()=>n("error"))),s.receive("timeout",(()=>n("timed out")))}));{const{event:i,payload:s}=e,a={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:s,private:this.private}]})};try{const e=await this._fetchWithTimeout(this.broadcastEndpointURL,a,null!==(n=t.timeout)&&void 0!==n?n:this.timeout);return await(null===(r=e.body)||void 0===r?void 0:r.cancel()),e.ok?"ok":"error"}catch(o){return"AbortError"===o.name?"timed out":"error"}}}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this.state=b.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(w.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise((n=>{const r=new D(this,w.leave,{},e);r.receive("ok",(()=>{t(),n("ok")})).receive("timeout",(()=>{t(),n("timed out")})).receive("error",(()=>{n("error")})),r.send(),this._canPush()||r.trigger("ok",{})}))}async _fetchWithTimeout(e,t,n){const r=new AbortController,o=setTimeout((()=>r.abort()),n),i=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:r.signal}));return clearTimeout(o),i}_push(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.timeout;if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new D(this,e,t,n);return this._canPush()?r.send():(r.startTimeout(),this.pushBuffer.push(r)),r}_onMessage(e,t,n){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,n){var r,o;const i=e.toLocaleLowerCase(),{close:s,error:a,leave:l,join:u}=w;if(n&&[s,a,l,u].indexOf(i)>=0&&n!==this._joinRef())return;let c=this._onMessage(i,t,n);if(t&&!c)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?null===(r=this.bindings.postgres_changes)||void 0===r||r.filter((e=>{var t,n,r;return"*"===(null===(t=e.filter)||void 0===t?void 0:t.event)||(null===(r=null===(n=e.filter)||void 0===n?void 0:n.event)||void 0===r?void 0:r.toLocaleLowerCase())===i})).map((e=>e.callback(c,n))):null===(o=this.bindings[i])||void 0===o||o.filter((e=>{var n,r,o,s,a,l;if(["broadcast","presence","postgres_changes"].includes(i)){if("id"in e){const i=e.id,s=null===(n=e.filter)||void 0===n?void 0:n.event;return i&&(null===(r=t.ids)||void 0===r?void 0:r.includes(i))&&("*"===s||(null===s||void 0===s?void 0:s.toLocaleLowerCase())===(null===(o=t.data)||void 0===o?void 0:o.type.toLocaleLowerCase()))}{const n=null===(a=null===(s=null===e||void 0===e?void 0:e.filter)||void 0===s?void 0:s.event)||void 0===a?void 0:a.toLocaleLowerCase();return"*"===n||n===(null===(l=null===t||void 0===t?void 0:t.event)||void 0===l?void 0:l.toLocaleLowerCase())}}return e.type.toLocaleLowerCase()===i})).map((e=>{if("object"===typeof c&&"ids"in c){const e=c.data,{schema:t,table:n,commit_timestamp:r,type:o,errors:i}=e,s={schema:t,table:n,commit_timestamp:r,eventType:o,new:{},old:{},errors:i};c=Object.assign(Object.assign({},s),this._getPayloadRecords(e))}e.callback(c,n)}))}_isClosed(){return this.state===b.closed}_isJoined(){return this.state===b.joined}_isJoining(){return this.state===b.joining}_isLeaving(){return this.state===b.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,n){const r=e.toLocaleLowerCase(),o={type:r,filter:t,callback:n};return this.bindings[r]?this.bindings[r].push(o):this.bindings[r]=[o],this}_off(e,t){const n=e.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter((e=>{var r;return!((null===(r=e.type)||void 0===r?void 0:r.toLocaleLowerCase())===n&&B.isEqual(e.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(w.close,{},e)}_onError(e){this._on(w.error,{},(t=>e(t)))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=b.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return"INSERT"!==e.type&&"UPDATE"!==e.type||(t.new=E(e.columns,e.record)),"UPDATE"!==e.type&&"DELETE"!==e.type||(t.old=E(e.columns,e.old_record)),t}}const q=()=>{},V="undefined"!==typeof WebSocket;class H{constructor(e,t){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=v,this.params={},this.timeout=1e4,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=q,this.conn=null,this.sendBuffer=[],this.serializer=new S,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Promise.resolve().then(n.bind(n,4630)).then((e=>{let{default:n}=e;return n(...t)}))}:fetch),function(){return t(...arguments)}},this.endPoint=`${e}/${x.websocket}`,this.httpEndpoint=L(e),(null===t||void 0===t?void 0:t.transport)?this.transport=t.transport:this.transport=null,(null===t||void 0===t?void 0:t.params)&&(this.params=t.params),(null===t||void 0===t?void 0:t.headers)&&(this.headers=Object.assign(Object.assign({},this.headers),t.headers)),(null===t||void 0===t?void 0:t.timeout)&&(this.timeout=t.timeout),(null===t||void 0===t?void 0:t.logger)&&(this.logger=t.logger),(null===t||void 0===t?void 0:t.heartbeatIntervalMs)&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);const o=null===(r=null===t||void 0===t?void 0:t.params)||void 0===r?void 0:r.apikey;if(o&&(this.accessTokenValue=o,this.apiKey=o),this.reconnectAfterMs=(null===t||void 0===t?void 0:t.reconnectAfterMs)?t.reconnectAfterMs:e=>[1e3,2e3,5e3,1e4][e-1]||1e4,this.encode=(null===t||void 0===t?void 0:t.encode)?t.encode:(e,t)=>t(JSON.stringify(e)),this.decode=(null===t||void 0===t?void 0:t.decode)?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new C((async()=>{this.disconnect(),this.connect()}),this.reconnectAfterMs),this.fetch=this._resolveFetch(null===t||void 0===t?void 0:t.fetch),null===t||void 0===t?void 0:t.worker){if("undefined"!==typeof window&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(null===t||void 0===t?void 0:t.worker)||!1,this.workerUrl=null===t||void 0===t?void 0:t.workerUrl}this.accessToken=(null===t||void 0===t?void 0:t.accessToken)||null}connect(){if(!this.conn)if(this.transport)this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});else{if(V)return this.conn=new WebSocket(this.endpointURL()),void this.setupConnection();this.conn=new W(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),n.e(198).then(n.t.bind(n,1198,23)).then((e=>{let{default:t}=e;this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()}))}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:"1.0.0"}))}disconnect(e,t){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,null!==t&&void 0!==t?t:""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return 0===this.channels.length&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map((e=>e.unsubscribe())));return this.disconnect(),e}log(e,t,n){this.logger(e,t,n)}connectionState(){switch(this.conn&&this.conn.readyState){case y.connecting:return _.Connecting;case y.open:return _.Open;case y.closing:return _.Closing;default:return _.Closed}}isConnected(){return this.connectionState()===_.Open}channel(e){const t=new B(`realtime:${e}`,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}},this);return this.channels.push(t),t}push(e){const{topic:t,event:n,payload:r,ref:o}=e,i=()=>{this.encode(e,(e=>{var t;null===(t=this.conn)||void 0===t||t.send(e)}))};this.log("push",`${t} ${n} (${o})`,r),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(){let e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(e){let n=null;try{n=JSON.parse(atob(e.split(".")[1]))}catch(t){}if(n&&n.exp){if(!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`)}this.accessTokenValue=e,this.channels.forEach((t=>{e&&t.updateJoinPayload({access_token:e}),t.joinedOnce&&t._isJoined()&&t._push(w.access_token,{access_token:e})}))}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef)return this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),void(null===(e=this.conn)||void 0===e||e.close(1e3,"hearbeat timeout"));this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach((e=>e())),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find((t=>t.topic===e&&(t._isJoined()||t._isJoining())));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter((t=>t._joinRef()!==e._joinRef()))}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,(e=>{let{topic:t,event:n,payload:r,ref:o}=e;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${r.status||""} ${t} ${n} ${o&&"("+o+")"||""}`,r),this.channels.filter((e=>e._isMember(t))).forEach((e=>e._trigger(n,r,o))),this.stateChangeCallbacks.message.forEach((t=>t(e)))}))}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=e=>{this.log("worker","worker error",e.message),this.workerRef.terminate()},this.workerRef.onmessage=e=>{"keepAlive"===e.data.event&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}else this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval((()=>this.sendHeartbeat()),this.heartbeatIntervalMs);this.stateChangeCallbacks.open.forEach((e=>e()))}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach((t=>t(e)))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach((t=>t(e)))}_triggerChanError(){this.channels.forEach((e=>e._trigger(w.error)))}_appendParams(e,t){if(0===Object.keys(t).length)return e;const n=e.match(/\?/)?"&":"?";return`${e}${n}${new URLSearchParams(t)}`}_workerObjectUrl(e){let t;if(e)t=e;else{const e=new Blob(['\n  addEventListener("message", (e) => {\n    if (e.data.event === "start") {\n      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);\n    }\n  });'],{type:"application/javascript"});t=URL.createObjectURL(e)}return t}}class W{constructor(e,t,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=y.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=n.close}}class G extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function J(e){return"object"===typeof e&&null!==e&&"__isStorageError"in e}class K extends G{constructor(e,t){super(e),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Y extends G{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var Z=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(t){i(t)}}function a(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))};const Q=e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Promise.resolve().then(n.bind(n,4630)).then((e=>{let{default:n}=e;return n(...t)}))}:fetch),function(){return t(...arguments)}},X=e=>{if(Array.isArray(e))return e.map((e=>X(e)));if("function"===typeof e||e!==Object(e))return e;const t={};return Object.entries(e).forEach((e=>{let[n,r]=e;const o=n.replace(/([-_][a-z])/gi,(e=>e.toUpperCase().replace(/[-_]/g,"")));t[o]=X(r)})),t};var ee=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(t){i(t)}}function a(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))};const te=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),ne=(e,t,r)=>ee(void 0,void 0,void 0,(function*(){const o=yield Z(void 0,void 0,void 0,(function*(){return"undefined"===typeof Response?(yield Promise.resolve().then(n.bind(n,4630))).Response:Response}));e instanceof o&&!(null===r||void 0===r?void 0:r.noResolveJson)?e.json().then((n=>{t(new K(te(n),e.status||500))})).catch((e=>{t(new Y(te(e),e))})):t(new Y(te(e),e))}));function re(e,t,n,r,o,i){return ee(this,void 0,void 0,(function*(){return new Promise(((s,a)=>{e(n,((e,t,n,r)=>{const o={method:e,headers:(null===t||void 0===t?void 0:t.headers)||{}};return"GET"===e?o:(o.headers=Object.assign({"Content-Type":"application/json"},null===t||void 0===t?void 0:t.headers),r&&(o.body=JSON.stringify(r)),Object.assign(Object.assign({},o),n))})(t,r,o,i)).then((e=>{if(!e.ok)throw e;return(null===r||void 0===r?void 0:r.noResolveJson)?e:e.json()})).then((e=>s(e))).catch((e=>ne(e,a,r)))}))}))}function oe(e,t,n,r){return ee(this,void 0,void 0,(function*(){return re(e,"GET",t,n,r)}))}function ie(e,t,n,r,o){return ee(this,void 0,void 0,(function*(){return re(e,"POST",t,r,o,n)}))}function se(e,t,n,r,o){return ee(this,void 0,void 0,(function*(){return re(e,"DELETE",t,r,o,n)}))}var ae=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(t){i(t)}}function a(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))};const le={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ue={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class ce{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;this.url=e,this.headers=t,this.bucketId=n,this.fetch=Q(r)}uploadOrUpdate(e,t,n,r){return ae(this,void 0,void 0,(function*(){try{let o;const i=Object.assign(Object.assign({},ue),r);let s=Object.assign(Object.assign({},this.headers),"POST"===e&&{"x-upsert":String(i.upsert)});const a=i.metadata;"undefined"!==typeof Blob&&n instanceof Blob?(o=new FormData,o.append("cacheControl",i.cacheControl),a&&o.append("metadata",this.encodeMetadata(a)),o.append("",n)):"undefined"!==typeof FormData&&n instanceof FormData?(o=n,o.append("cacheControl",i.cacheControl),a&&o.append("metadata",this.encodeMetadata(a))):(o=n,s["cache-control"]=`max-age=${i.cacheControl}`,s["content-type"]=i.contentType,a&&(s["x-metadata"]=this.toBase64(this.encodeMetadata(a)))),(null===r||void 0===r?void 0:r.headers)&&(s=Object.assign(Object.assign({},s),r.headers));const l=this._removeEmptyFolders(t),u=this._getFinalPath(l),c=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:e,body:o,headers:s},(null===i||void 0===i?void 0:i.duplex)?{duplex:i.duplex}:{})),d=yield c.json();if(c.ok)return{data:{path:l,id:d.Id,fullPath:d.Key},error:null};return{data:null,error:d}}catch(o){if(J(o))return{data:null,error:o};throw o}}))}upload(e,t,n){return ae(this,void 0,void 0,(function*(){return this.uploadOrUpdate("POST",e,t,n)}))}uploadToSignedUrl(e,t,n,r){return ae(this,void 0,void 0,(function*(){const o=this._removeEmptyFolders(e),i=this._getFinalPath(o),s=new URL(this.url+`/object/upload/sign/${i}`);s.searchParams.set("token",t);try{let e;const t=Object.assign({upsert:ue.upsert},r),i=Object.assign(Object.assign({},this.headers),{"x-upsert":String(t.upsert)});"undefined"!==typeof Blob&&n instanceof Blob?(e=new FormData,e.append("cacheControl",t.cacheControl),e.append("",n)):"undefined"!==typeof FormData&&n instanceof FormData?(e=n,e.append("cacheControl",t.cacheControl)):(e=n,i["cache-control"]=`max-age=${t.cacheControl}`,i["content-type"]=t.contentType);const a=yield this.fetch(s.toString(),{method:"PUT",body:e,headers:i}),l=yield a.json();if(a.ok)return{data:{path:o,fullPath:l.Key},error:null};return{data:null,error:l}}catch(a){if(J(a))return{data:null,error:a};throw a}}))}createSignedUploadUrl(e,t){return ae(this,void 0,void 0,(function*(){try{let n=this._getFinalPath(e);const r=Object.assign({},this.headers);(null===t||void 0===t?void 0:t.upsert)&&(r["x-upsert"]="true");const o=yield ie(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:r}),i=new URL(this.url+o.url),s=i.searchParams.get("token");if(!s)throw new G("No token returned by API");return{data:{signedUrl:i.toString(),path:e,token:s},error:null}}catch(n){if(J(n))return{data:null,error:n};throw n}}))}update(e,t,n){return ae(this,void 0,void 0,(function*(){return this.uploadOrUpdate("PUT",e,t,n)}))}move(e,t,n){return ae(this,void 0,void 0,(function*(){try{return{data:yield ie(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null===n||void 0===n?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(r){if(J(r))return{data:null,error:r};throw r}}))}copy(e,t,n){return ae(this,void 0,void 0,(function*(){try{return{data:{path:(yield ie(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null===n||void 0===n?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(r){if(J(r))return{data:null,error:r};throw r}}))}createSignedUrl(e,t,n){return ae(this,void 0,void 0,(function*(){try{let r=this._getFinalPath(e),o=yield ie(this.fetch,`${this.url}/object/sign/${r}`,Object.assign({expiresIn:t},(null===n||void 0===n?void 0:n.transform)?{transform:n.transform}:{}),{headers:this.headers});const i=(null===n||void 0===n?void 0:n.download)?`&download=${!0===n.download?"":n.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${i}`)},{data:o,error:null}}catch(r){if(J(r))return{data:null,error:r};throw r}}))}createSignedUrls(e,t,n){return ae(this,void 0,void 0,(function*(){try{const r=yield ie(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),o=(null===n||void 0===n?void 0:n.download)?`&download=${!0===n.download?"":n.download}`:"";return{data:r.map((e=>Object.assign(Object.assign({},e),{signedUrl:e.signedURL?encodeURI(`${this.url}${e.signedURL}${o}`):null}))),error:null}}catch(r){if(J(r))return{data:null,error:r};throw r}}))}download(e,t){return ae(this,void 0,void 0,(function*(){const n="undefined"!==typeof(null===t||void 0===t?void 0:t.transform)?"render/image/authenticated":"object",r=this.transformOptsToQueryString((null===t||void 0===t?void 0:t.transform)||{}),o=r?`?${r}`:"";try{const t=this._getFinalPath(e),r=yield oe(this.fetch,`${this.url}/${n}/${t}${o}`,{headers:this.headers,noResolveJson:!0});return{data:yield r.blob(),error:null}}catch(i){if(J(i))return{data:null,error:i};throw i}}))}info(e){return ae(this,void 0,void 0,(function*(){const t=this._getFinalPath(e);try{const e=yield oe(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:X(e),error:null}}catch(n){if(J(n))return{data:null,error:n};throw n}}))}exists(e){return ae(this,void 0,void 0,(function*(){const t=this._getFinalPath(e);try{return yield function(e,t,n,r){return ee(this,void 0,void 0,(function*(){return re(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)}))}(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(J(n)&&n instanceof Y){const e=n.originalError;if([400,404].includes(null===e||void 0===e?void 0:e.status))return{data:!1,error:n}}throw n}}))}getPublicUrl(e,t){const n=this._getFinalPath(e),r=[],o=(null===t||void 0===t?void 0:t.download)?`download=${!0===t.download?"":t.download}`:"";""!==o&&r.push(o);const i="undefined"!==typeof(null===t||void 0===t?void 0:t.transform)?"render/image":"object",s=this.transformOptsToQueryString((null===t||void 0===t?void 0:t.transform)||{});""!==s&&r.push(s);let a=r.join("&");return""!==a&&(a=`?${a}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${n}${a}`)}}}remove(e){return ae(this,void 0,void 0,(function*(){try{return{data:yield se(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(J(t))return{data:null,error:t};throw t}}))}list(e,t,n){return ae(this,void 0,void 0,(function*(){try{const r=Object.assign(Object.assign(Object.assign({},le),t),{prefix:e||""});return{data:yield ie(this.fetch,`${this.url}/object/list/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(J(r))return{data:null,error:r};throw r}}))}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return"undefined"!==typeof Buffer?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const de={"X-Client-Info":"storage-js/2.7.1"};var fe=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(t){i(t)}}function a(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))};class he{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;this.url=e,this.headers=Object.assign(Object.assign({},de),t),this.fetch=Q(n)}listBuckets(){return fe(this,void 0,void 0,(function*(){try{return{data:yield oe(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(J(e))return{data:null,error:e};throw e}}))}getBucket(e){return fe(this,void 0,void 0,(function*(){try{return{data:yield oe(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(J(t))return{data:null,error:t};throw t}}))}createBucket(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{public:!1};return fe(this,void 0,void 0,(function*(){try{return{data:yield ie(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(J(n))return{data:null,error:n};throw n}}))}updateBucket(e,t){return fe(this,void 0,void 0,(function*(){try{const n=yield function(e,t,n,r,o){return ee(this,void 0,void 0,(function*(){return re(e,"PUT",t,r,o,n)}))}(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers});return{data:n,error:null}}catch(n){if(J(n))return{data:null,error:n};throw n}}))}emptyBucket(e){return fe(this,void 0,void 0,(function*(){try{return{data:yield ie(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(J(t))return{data:null,error:t};throw t}}))}deleteBucket(e){return fe(this,void 0,void 0,(function*(){try{return{data:yield se(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(J(t))return{data:null,error:t};throw t}}))}}class pe extends he{constructor(e){super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},arguments.length>2?arguments[2]:void 0)}from(e){return new ce(this.url,this.headers,e,this.fetch)}}let me="";me="undefined"!==typeof Deno?"deno":"undefined"!==typeof document?"web":"undefined"!==typeof navigator&&"ReactNative"===navigator.product?"react-native":"node";const ge={headers:{"X-Client-Info":`supabase-js-${me}/2.49.4`}},ve={schema:"public"},ye={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},be={};var we=n(4630),xe=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(t){i(t)}}function a(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))};const _e=e=>{let t;return t=e||("undefined"===typeof fetch?we.default:fetch),function(){return t(...arguments)}},ke=(e,t,n)=>{const r=_e(n),o="undefined"===typeof Headers?we.Headers:Headers;return(n,i)=>xe(void 0,void 0,void 0,(function*(){var s;const a=null!==(s=yield t())&&void 0!==s?s:e;let l=new o(null===i||void 0===i?void 0:i.headers);return l.has("apikey")||l.set("apikey",e),l.has("Authorization")||l.set("Authorization",`Bearer ${a}`),r(n,Object.assign(Object.assign({},i),{headers:l}))}))};var Se=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(t){i(t)}}function a(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))};const Ce="2.69.1",Ee=3e4,Te=9e4,Ae={"X-Client-Info":`gotrue-js/${Ce}`},Oe="X-Supabase-Api-Version",Ie={timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"},Ne=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i;class Re extends Error{constructor(e,t,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=n}}function Pe(e){return"object"===typeof e&&null!==e&&"__isAuthError"in e}class je extends Re{constructor(e,t,n){super(e,t,n),this.name="AuthApiError",this.status=t,this.code=n}}class Le extends Re{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class De extends Re{constructor(e,t,n,r){super(e,n,r),this.name=t,this.status=n}}class Me extends De{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}class Ue extends De{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Fe extends De{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class $e extends De{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ze extends De{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Be extends De{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function qe(e){return Pe(e)&&"AuthRetryableFetchError"===e.name}class Ve extends De{constructor(e,t,n){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=n}}class He extends De{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const We="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Ge=" \t\n\r=".split(""),Je=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Ge.length;t+=1)e[Ge[t].charCodeAt(0)]=-2;for(let t=0;t<We.length;t+=1)e[We[t].charCodeAt(0)]=t;return e})();function Ke(e,t,n){const r=Je[e];if(!(r>-1)){if(-2===r)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8}function Ye(e){const t=[],n=e=>{t.push(String.fromCodePoint(e))},r={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},i=e=>{!function(e,t,n){if(0===t.utf8seq){if(e<=127)return void n(e);for(let n=1;n<6;n+=1)if(0===(e>>7-n&1)){t.utf8seq=n;break}if(2===t.utf8seq)t.codepoint=31&e;else if(3===t.utf8seq)t.codepoint=15&e;else{if(4!==t.utf8seq)throw new Error("Invalid UTF-8 sequence");t.codepoint=7&e}t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|63&e,t.utf8seq-=1,0===t.utf8seq&&n(t.codepoint)}}(e,r,n)};for(let s=0;s<e.length;s+=1)Ke(e.charCodeAt(s),o,i);return t.join("")}function Ze(e,t){if(!(e<=127)){if(e<=2047)return t(192|e>>6),void t(128|63&e);if(e<=65535)return t(224|e>>12),t(128|e>>6&63),void t(128|63&e);if(e<=1114111)return t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),void t(128|63&e);throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}t(e)}function Qe(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const t=1024*(r-55296)&65535;r=65536+(e.charCodeAt(n+1)-56320&65535|t),n+=1}Ze(r,t)}}function Xe(e){const t=[],n={queue:0,queuedBits:0},r=e=>{t.push(e)};for(let o=0;o<e.length;o+=1)Ke(e.charCodeAt(o),n,r);return new Uint8Array(t)}const et=()=>"undefined"!==typeof window&&"undefined"!==typeof document,tt={tested:!1,writable:!1},nt=()=>{if(!et())return!1;try{if("object"!==typeof globalThis.localStorage)return!1}catch(t){return!1}if(tt.tested)return tt.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),tt.tested=!0,tt.writable=!0}catch(t){tt.tested=!0,tt.writable=!1}return tt.writable};const rt=e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Promise.resolve().then(n.bind(n,4630)).then((e=>{let{default:n}=e;return n(...t)}))}:fetch),function(){return t(...arguments)}},ot=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},it=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch(r){return n}},st=async(e,t)=>{await e.removeItem(t)};class at{constructor(){this.promise=new at.promiseConstructor(((e,t)=>{this.resolve=e,this.reject=t}))}}function lt(e){const t=e.split(".");if(3!==t.length)throw new He("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!Ne.test(t[n]))throw new He("JWT not in base64url format");return{header:JSON.parse(Ye(t[0])),payload:JSON.parse(Ye(t[1])),signature:Xe(t[2]),raw:{header:t[0],payload:t[1]}}}function ut(e){return("0"+e.toString(16)).substr(-2)}async function ct(e){if(!("undefined"!==typeof crypto&&"undefined"!==typeof crypto.subtle&&"undefined"!==typeof TextEncoder))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const t=await async function(e){const t=(new TextEncoder).encode(e),n=await crypto.subtle.digest("SHA-256",t),r=new Uint8Array(n);return Array.from(r).map((e=>String.fromCharCode(e))).join("")}(e);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function dt(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=function(){const e=new Uint32Array(56);if("undefined"===typeof crypto){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",t=e.length;let n="";for(let r=0;r<56;r++)n+=e.charAt(Math.floor(Math.random()*t));return n}return crypto.getRandomValues(e),Array.from(e,ut).join("")}();let o=r;n&&(o+="/PASSWORD_RECOVERY"),await ot(e,`${t}-code-verifier`,o);const i=await ct(r);return[i,r===i?"plain":"s256"]}at.promiseConstructor=Promise;const ft=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;var ht=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};const pt=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),mt=[502,503,504];async function gt(e){var t,n;if(!("object"===typeof(n=e)&&null!==n&&"status"in n&&"ok"in n&&"json"in n&&"function"===typeof n.json))throw new Be(pt(e),0);if(mt.includes(e.status))throw new Be(pt(e),e.status);let r,o;try{r=await e.json()}catch(s){throw new Le(pt(s),s)}const i=function(e){const t=e.headers.get(Oe);if(!t)return null;if(!t.match(ft))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch(s){return null}}(e);if(i&&i.getTime()>=Ie.timestamp&&"object"===typeof r&&r&&"string"===typeof r.code?o=r.code:"object"===typeof r&&r&&"string"===typeof r.error_code&&(o=r.error_code),o){if("weak_password"===o)throw new Ve(pt(r),e.status,(null===(t=r.weak_password)||void 0===t?void 0:t.reasons)||[]);if("session_not_found"===o)throw new Me}else if("object"===typeof r&&r&&"object"===typeof r.weak_password&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce(((e,t)=>e&&"string"===typeof t),!0))throw new Ve(pt(r),e.status,r.weak_password.reasons);throw new je(pt(r),e.status||500,o)}async function vt(e,t,n,r){var o;const i=Object.assign({},null===r||void 0===r?void 0:r.headers);i[Oe]||(i[Oe]=Ie.name),(null===r||void 0===r?void 0:r.jwt)&&(i.Authorization=`Bearer ${r.jwt}`);const s=null!==(o=null===r||void 0===r?void 0:r.query)&&void 0!==o?o:{};(null===r||void 0===r?void 0:r.redirectTo)&&(s.redirect_to=r.redirectTo);const a=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",l=await async function(e,t,n,r,o,i){const s=((e,t,n,r)=>{const o={method:e,headers:(null===t||void 0===t?void 0:t.headers)||{}};return"GET"===e?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},null===t||void 0===t?void 0:t.headers),o.body=JSON.stringify(r),Object.assign(Object.assign({},o),n))})(t,r,o,i);let a;try{a=await e(n,Object.assign({},s))}catch(l){throw console.error(l),new Be(pt(l),0)}a.ok||await gt(a);if(null===r||void 0===r?void 0:r.noResolveJson)return a;try{return await a.json()}catch(l){await gt(l)}}(e,t,n+a,{headers:i,noResolveJson:null===r||void 0===r?void 0:r.noResolveJson},{},null===r||void 0===r?void 0:r.body);return(null===r||void 0===r?void 0:r.xform)?null===r||void 0===r?void 0:r.xform(l):{data:Object.assign({},l),error:null}}function yt(e){var t;let n=null;var r;(function(e){return e.access_token&&e.refresh_token&&e.expires_in})(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=(r=e.expires_in,Math.round(Date.now()/1e3)+r)));return{data:{session:n,user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function bt(e){const t=yt(e);return!t.error&&e.weak_password&&"object"===typeof e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&"string"===typeof e.weak_password.message&&e.weak_password.reasons.reduce(((e,t)=>e&&"string"===typeof t),!0)&&(t.data.weak_password=e.weak_password),t}function wt(e){var t;return{data:{user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function xt(e){return{data:e,error:null}}function _t(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:o,verification_type:i}=e,s=ht(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]);return{data:{properties:{action_link:t,email_otp:n,hashed_token:r,redirect_to:o,verification_type:i},user:Object.assign({},s)},error:null}}function kt(e){return e}var St=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};class Ct{constructor(e){let{url:t="",headers:n={},fetch:r}=e;this.url=t,this.headers=n,this.fetch=rt(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"global";try{return await vt(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Pe(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return await vt(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:wt})}catch(n){if(Pe(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:t}=e,n=St(e,["options"]),r=Object.assign(Object.assign({},n),t);return"newEmail"in n&&(r.new_email=null===n||void 0===n?void 0:n.newEmail,delete r.newEmail),await vt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:r,headers:this.headers,xform:_t,redirectTo:null===t||void 0===t?void 0:t.redirectTo})}catch(t){if(Pe(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await vt(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:wt})}catch(t){if(Pe(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,n,r,o,i,s,a;try{const l={nextPage:null,lastPage:0,total:0},u=await vt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:null!==(n=null===(t=null===e||void 0===e?void 0:e.page)||void 0===t?void 0:t.toString())&&void 0!==n?n:"",per_page:null!==(o=null===(r=null===e||void 0===e?void 0:e.perPage)||void 0===r?void 0:r.toString())&&void 0!==o?o:""},xform:kt});if(u.error)throw u.error;const c=await u.json(),d=null!==(i=u.headers.get("x-total-count"))&&void 0!==i?i:0,f=null!==(a=null===(s=u.headers.get("link"))||void 0===s?void 0:s.split(","))&&void 0!==a?a:[];return f.length>0&&(f.forEach((e=>{const t=parseInt(e.split(";")[0].split("=")[1].substring(0,1)),n=JSON.parse(e.split(";")[1].split("=")[1]);l[`${n}Page`]=t})),l.total=parseInt(d)),{data:Object.assign(Object.assign({},c),l),error:null}}catch(l){if(Pe(l))return{data:{users:[]},error:l};throw l}}async getUserById(e){try{return await vt(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:wt})}catch(t){if(Pe(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){try{return await vt(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:wt})}catch(n){if(Pe(n))return{data:{user:null},error:n};throw n}}async deleteUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{return await vt(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:wt})}catch(n){if(Pe(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){try{const{data:t,error:n}=await vt(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:e=>({data:{factors:e},error:null})});return{data:t,error:n}}catch(t){if(Pe(t))return{data:null,error:t};throw t}}async _deleteFactor(e){try{return{data:await vt(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(Pe(t))return{data:null,error:t};throw t}}}const Et={getItem:e=>nt()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{nt()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{nt()&&globalThis.localStorage.removeItem(e)}};function Tt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const At=!!(globalThis&&nt()&&globalThis.localStorage&&"true"===globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug"));class Ot extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class It extends Ot{}async function Nt(e,t,n){At&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout((()=>{r.abort(),At&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)}),t),await Promise.resolve().then((()=>globalThis.navigator.locks.request(e,0===t?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},(async r=>{if(!r){if(0===t)throw At&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new It(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(At)try{const e=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(e,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}At&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,r.name);try{return await n()}finally{At&&console.log("@supabase/gotrue-js: navigatorLock: released",e,r.name)}}))))}!function(){if("object"!==typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(e){"undefined"!==typeof self&&(self.globalThis=self)}}();const Rt={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Ae,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Pt(e,t,n){return await n()}class jt{constructor(e){var t,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=jt.nextInstanceID,jt.nextInstanceID+=1,this.instanceID>0&&et()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const r=Object.assign(Object.assign({},Rt),e);if(this.logDebugMessages=!!r.debug,"function"===typeof r.debug&&(this.logger=r.debug),this.persistSession=r.persistSession,this.storageKey=r.storageKey,this.autoRefreshToken=r.autoRefreshToken,this.admin=new Ct({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=rt(r.fetch),this.lock=r.lock||Pt,this.detectSessionInUrl=r.detectSessionInUrl,this.flowType=r.flowType,this.hasCustomAuthorizationHeader=r.hasCustomAuthorizationHeader,r.lock?this.lock=r.lock:et()&&(null===(t=null===globalThis||void 0===globalThis?void 0:globalThis.navigator)||void 0===t?void 0:t.locks)?this.lock=Nt:this.lock=Pt,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?r.storage?this.storage=r.storage:nt()?this.storage=Et:(this.memoryStorage={},this.storage=Tt(this.memoryStorage)):(this.memoryStorage={},this.storage=Tt(this.memoryStorage)),et()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}null===(n=this.broadcastChannel)||void 0===n||n.addEventListener("message",(async e=>{this._debug("received broadcast notification from other tab or client",e),await this._notifyAllSubscribers(e.data.event,e.data.session,!1)}))}this.initialize()}_debug(){if(this.logDebugMessages){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.logger(`GoTrueClient@${this.instanceID} (${Ce}) ${(new Date).toISOString()}`,...t)}return this}async initialize(){return this.initializePromise||(this.initializePromise=(async()=>await this._acquireLock(-1,(async()=>await this._initialize())))()),await this.initializePromise}async _initialize(){var e;try{const t=function(e){const t={},n=new URL(e);if(n.hash&&"#"===n.hash[0])try{new URLSearchParams(n.hash.substring(1)).forEach(((e,n)=>{t[n]=e}))}catch(r){}return n.searchParams.forEach(((e,n)=>{t[n]=e})),t}(window.location.href);let n="none";if(this._isImplicitGrantCallback(t)?n="implicit":await this._isPKCECallback(t)&&(n="pkce"),et()&&this.detectSessionInUrl&&"none"!==n){const{data:r,error:o}=await this._getSessionFromURL(t,n);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),function(e){return Pe(e)&&"AuthImplicitGrantRedirectError"===e.name}(o)){const t=null===(e=o.details)||void 0===e?void 0:e.code;if("identity_already_exists"===t||"identity_not_found"===t||"single_identity_not_deletable"===t)return{error:o}}return await this._removeSession(),{error:o}}const{session:i,redirectType:s}=r;return this._debug("#_initialize()","detected session in URL",i,"redirect type",s),await this._saveSession(i),setTimeout((async()=>{"recovery"===s?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)}),0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return Pe(t)?{error:t}:{error:new Le("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,n,r;try{const o=await vt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:null!==(n=null===(t=null===e||void 0===e?void 0:e.options)||void 0===t?void 0:t.data)&&void 0!==n?n:{},gotrue_meta_security:{captcha_token:null===(r=null===e||void 0===e?void 0:e.options)||void 0===r?void 0:r.captchaToken}},xform:yt}),{data:i,error:s}=o;if(s||!i)return{data:{user:null,session:null},error:s};const a=i.session,l=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:l,session:a},error:null}}catch(o){if(Pe(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(e){var t,n,r;try{let o;if("email"in e){const{email:n,password:r,options:i}=e;let s=null,a=null;"pkce"===this.flowType&&([s,a]=await dt(this.storage,this.storageKey)),o=await vt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:null===i||void 0===i?void 0:i.emailRedirectTo,body:{email:n,password:r,data:null!==(t=null===i||void 0===i?void 0:i.data)&&void 0!==t?t:{},gotrue_meta_security:{captcha_token:null===i||void 0===i?void 0:i.captchaToken},code_challenge:s,code_challenge_method:a},xform:yt})}else{if(!("phone"in e))throw new Fe("You must provide either an email or phone number and a password");{const{phone:t,password:i,options:s}=e;o=await vt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:t,password:i,data:null!==(n=null===s||void 0===s?void 0:s.data)&&void 0!==n?n:{},channel:null!==(r=null===s||void 0===s?void 0:s.channel)&&void 0!==r?r:"sms",gotrue_meta_security:{captcha_token:null===s||void 0===s?void 0:s.captchaToken}},xform:yt})}}const{data:i,error:s}=o;if(s||!i)return{data:{user:null,session:null},error:s};const a=i.session,l=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:l,session:a},error:null}}catch(o){if(Pe(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(e){try{let t;if("email"in e){const{email:n,password:r,options:o}=e;t=await vt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:n,password:r,gotrue_meta_security:{captcha_token:null===o||void 0===o?void 0:o.captchaToken}},xform:bt})}else{if(!("phone"in e))throw new Fe("You must provide either an email or phone number and a password");{const{phone:n,password:r,options:o}=e;t=await vt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:n,password:r,gotrue_meta_security:{captcha_token:null===o||void 0===o?void 0:o.captchaToken}},xform:bt})}}const{data:n,error:r}=t;return r?{data:{user:null,session:null},error:r}:n&&n.session&&n.user?(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:r}):{data:{user:null,session:null},error:new Ue}}catch(t){if(Pe(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,n,r,o;return await this._handleProviderSignIn(e.provider,{redirectTo:null===(t=e.options)||void 0===t?void 0:t.redirectTo,scopes:null===(n=e.options)||void 0===n?void 0:n.scopes,queryParams:null===(r=e.options)||void 0===r?void 0:r.queryParams,skipBrowserRedirect:null===(o=e.options)||void 0===o?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,(async()=>this._exchangeCodeForSession(e)))}async _exchangeCodeForSession(e){const t=await it(this.storage,`${this.storageKey}-code-verifier`),[n,r]=(null!==t&&void 0!==t?t:"").split("/");try{const{data:t,error:o}=await vt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:yt});if(await st(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return t&&t.session&&t.user?(t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),{data:Object.assign(Object.assign({},t),{redirectType:null!==r&&void 0!==r?r:null}),error:o}):{data:{user:null,session:null,redirectType:null},error:new Ue}}catch(o){if(Pe(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(e){try{const{options:t,provider:n,token:r,access_token:o,nonce:i}=e,s=await vt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:r,access_token:o,nonce:i,gotrue_meta_security:{captcha_token:null===t||void 0===t?void 0:t.captchaToken}},xform:yt}),{data:a,error:l}=s;return l?{data:{user:null,session:null},error:l}:a&&a.session&&a.user?(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:a,error:l}):{data:{user:null,session:null},error:new Ue}}catch(t){if(Pe(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,n,r,o,i;try{if("email"in e){const{email:r,options:o}=e;let i=null,s=null;"pkce"===this.flowType&&([i,s]=await dt(this.storage,this.storageKey));const{error:a}=await vt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:r,data:null!==(t=null===o||void 0===o?void 0:o.data)&&void 0!==t?t:{},create_user:null===(n=null===o||void 0===o?void 0:o.shouldCreateUser)||void 0===n||n,gotrue_meta_security:{captcha_token:null===o||void 0===o?void 0:o.captchaToken},code_challenge:i,code_challenge_method:s},redirectTo:null===o||void 0===o?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:a}}if("phone"in e){const{phone:t,options:n}=e,{data:s,error:a}=await vt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:t,data:null!==(r=null===n||void 0===n?void 0:n.data)&&void 0!==r?r:{},create_user:null===(o=null===n||void 0===n?void 0:n.shouldCreateUser)||void 0===o||o,gotrue_meta_security:{captcha_token:null===n||void 0===n?void 0:n.captchaToken},channel:null!==(i=null===n||void 0===n?void 0:n.channel)&&void 0!==i?i:"sms"}});return{data:{user:null,session:null,messageId:null===s||void 0===s?void 0:s.message_id},error:a}}throw new Fe("You must provide either an email or phone number.")}catch(s){if(Pe(s))return{data:{user:null,session:null},error:s};throw s}}async verifyOtp(e){var t,n;try{let r,o;"options"in e&&(r=null===(t=e.options)||void 0===t?void 0:t.redirectTo,o=null===(n=e.options)||void 0===n?void 0:n.captchaToken);const{data:i,error:s}=await vt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:r,xform:yt});if(s)throw s;if(!i)throw new Error("An error occurred on token verification.");const a=i.session,l=i.user;return(null===a||void 0===a?void 0:a.access_token)&&(await this._saveSession(a),await this._notifyAllSubscribers("recovery"==e.type?"PASSWORD_RECOVERY":"SIGNED_IN",a)),{data:{user:l,session:a},error:null}}catch(r){if(Pe(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithSSO(e){var t,n,r;try{let o=null,i=null;return"pkce"===this.flowType&&([o,i]=await dt(this.storage,this.storageKey)),await vt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:null!==(n=null===(t=e.options)||void 0===t?void 0:t.redirectTo)&&void 0!==n?n:void 0}),(null===(r=null===e||void 0===e?void 0:e.options)||void 0===r?void 0:r.captchaToken)?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:i}),headers:this.headers,xform:xt})}catch(o){if(Pe(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._reauthenticate()))}async _reauthenticate(){try{return await this._useSession((async e=>{const{data:{session:t},error:n}=e;if(n)throw n;if(!t)throw new Me;const{error:r}=await vt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:r}}))}catch(e){if(Pe(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:n,type:r,options:o}=e,{error:i}=await vt(this.fetch,"POST",t,{headers:this.headers,body:{email:n,type:r,gotrue_meta_security:{captcha_token:null===o||void 0===o?void 0:o.captchaToken}},redirectTo:null===o||void 0===o?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:i}}if("phone"in e){const{phone:n,type:r,options:o}=e,{data:i,error:s}=await vt(this.fetch,"POST",t,{headers:this.headers,body:{phone:n,type:r,gotrue_meta_security:{captcha_token:null===o||void 0===o?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:null===i||void 0===i?void 0:i.message_id},error:s}}throw new Fe("You must provide either an email or phone number and a type")}catch(t){if(Pe(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){await this.initializePromise;return await this._acquireLock(-1,(async()=>this._useSession((async e=>e))))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const e=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await e,await t()))();return this.pendingInLock.push((async()=>{try{await n}catch(e){}})()),n}return await this.lock(`lock:${this.storageKey}`,e,(async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const e=t();for(this.pendingInLock.push((async()=>{try{await e}catch(t){}})()),await e;this.pendingInLock.length;){const e=[...this.pendingInLock];await Promise.all(e),this.pendingInLock.splice(0,e.length)}return await e}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}}))}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",(new Error).stack);try{let e=null;const t=await it(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),null!==t&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=!!e.expires_at&&1e3*e.expires_at-Date.now()<Te;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.storage.isServer){let t=this.suppressGetSessionWarning;e=new Proxy(e,{get:(e,n,r)=>(t||"user"!==n||(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t=!0,this.suppressGetSessionWarning=!0),Reflect.get(e,n,r))})}return{data:{session:e},error:null}}const{session:r,error:o}=await this._callRefreshToken(e.refresh_token);return o?{data:{session:null},error:o}:{data:{session:r},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;return await this._acquireLock(-1,(async()=>await this._getUser()))}async _getUser(e){try{return e?await vt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:wt}):await this._useSession((async e=>{var t,n,r;const{data:o,error:i}=e;if(i)throw i;return(null===(t=o.session)||void 0===t?void 0:t.access_token)||this.hasCustomAuthorizationHeader?await vt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:null!==(r=null===(n=o.session)||void 0===n?void 0:n.access_token)&&void 0!==r?r:void 0,xform:wt}):{data:{user:null},error:new Me}}))}catch(t){if(Pe(t))return function(e){return Pe(e)&&"AuthSessionMissingError"===e.name}(t)&&(await this._removeSession(),await st(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:t};throw t}}async updateUser(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._updateUser(e,t)))}async _updateUser(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return await this._useSession((async n=>{const{data:r,error:o}=n;if(o)throw o;if(!r.session)throw new Me;const i=r.session;let s=null,a=null;"pkce"===this.flowType&&null!=e.email&&([s,a]=await dt(this.storage,this.storageKey));const{data:l,error:u}=await vt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:null===t||void 0===t?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:s,code_challenge_method:a}),jwt:i.access_token,xform:wt});if(u)throw u;return i.user=l.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}}))}catch(n){if(Pe(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._setSession(e)))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Me;const t=Date.now()/1e3;let n=t,r=!0,o=null;const{payload:i}=lt(e.access_token);if(i.exp&&(n=i.exp,r=n<=t),r){const{session:t,error:n}=await this._callRefreshToken(e.refresh_token);if(n)return{data:{user:null,session:null},error:n};if(!t)return{data:{user:null,session:null},error:null};o=t}else{const{data:r,error:i}=await this._getUser(e.access_token);if(i)throw i;o={access_token:e.access_token,refresh_token:e.refresh_token,user:r.user,token_type:"bearer",expires_in:n-t,expires_at:n},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(t){if(Pe(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._refreshSession(e)))}async _refreshSession(e){try{return await this._useSession((async t=>{var n;if(!e){const{data:r,error:o}=t;if(o)throw o;e=null!==(n=r.session)&&void 0!==n?n:void 0}if(!(null===e||void 0===e?void 0:e.refresh_token))throw new Me;const{session:r,error:o}=await this._callRefreshToken(e.refresh_token);return o?{data:{user:null,session:null},error:o}:r?{data:{user:r.user,session:r},error:null}:{data:{user:null,session:null},error:null}}))}catch(t){if(Pe(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e,t){try{if(!et())throw new $e("No browser detected.");if(e.error||e.error_description||e.error_code)throw new $e(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if("pkce"===this.flowType)throw new ze("Not a valid PKCE flow url.");break;case"pkce":if("implicit"===this.flowType)throw new $e("Not a valid implicit grant flow url.")}if("pkce"===t){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new ze("No code detected.");const{data:t,error:n}=await this._exchangeCodeForSession(e.code);if(n)throw n;const r=new URL(window.location.href);return r.searchParams.delete("code"),window.history.replaceState(window.history.state,"",r.toString()),{data:{session:t.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:r,access_token:o,refresh_token:i,expires_in:s,expires_at:a,token_type:l}=e;if(!o||!s||!i||!l)throw new $e("No session defined in URL");const u=Math.round(Date.now()/1e3),c=parseInt(s);let d=u+c;a&&(d=parseInt(a));const f=d-u;1e3*f<=Ee&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${c}s`);const h=d-c;u-h>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",h,d,u):u-h<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",h,d,u);const{data:p,error:m}=await this._getUser(o);if(m)throw m;const g={provider_token:n,provider_refresh_token:r,access_token:o,expires_in:c,expires_at:d,refresh_token:i,token_type:l,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:e.type},error:null}}catch(n){if(Pe(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return Boolean(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await it(this.storage,`${this.storageKey}-code-verifier`);return!(!e.code||!t)}async signOut(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{scope:"global"};return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._signOut(e)))}async _signOut(){let{scope:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{scope:"global"};return await this._useSession((async t=>{var n;const{data:r,error:o}=t;if(o)return{error:o};const i=null===(n=r.session)||void 0===n?void 0:n.access_token;if(i){const{error:t}=await this.admin.signOut(i,e);if(t&&(!function(e){return Pe(e)&&"AuthApiError"===e.name}(t)||404!==t.status&&401!==t.status&&403!==t.status))return{error:t}}return"others"!==e&&(await this._removeSession(),await st(this.storage,`${this.storageKey}-code-verifier`)),{error:null}}))}onAuthStateChange(e){const t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){const t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})),n={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,n),(async()=>{await this.initializePromise,await this._acquireLock(-1,(async()=>{this._emitInitialSession(t)}))})(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession((async t=>{var n,r;try{const{data:{session:r},error:o}=t;if(o)throw o;await(null===(n=this.stateChangeEmitters.get(e))||void 0===n?void 0:n.callback("INITIAL_SESSION",r)),this._debug("INITIAL_SESSION","callback id",e,"session",r)}catch(o){await(null===(r=this.stateChangeEmitters.get(e))||void 0===r?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}}))}async resetPasswordForEmail(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=null,r=null;"pkce"===this.flowType&&([n,r]=await dt(this.storage,this.storageKey,!0));try{return await vt(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:r,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(o){if(Pe(o))return{data:null,error:o};throw o}}async getUserIdentities(){var e;try{const{data:t,error:n}=await this.getUser();if(n)throw n;return{data:{identities:null!==(e=t.user.identities)&&void 0!==e?e:[]},error:null}}catch(t){if(Pe(t))return{data:null,error:t};throw t}}async linkIdentity(e){var t;try{const{data:n,error:r}=await this._useSession((async t=>{var n,r,o,i,s;const{data:a,error:l}=t;if(l)throw l;const u=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:null===(n=e.options)||void 0===n?void 0:n.redirectTo,scopes:null===(r=e.options)||void 0===r?void 0:r.scopes,queryParams:null===(o=e.options)||void 0===o?void 0:o.queryParams,skipBrowserRedirect:!0});return await vt(this.fetch,"GET",u,{headers:this.headers,jwt:null!==(s=null===(i=a.session)||void 0===i?void 0:i.access_token)&&void 0!==s?s:void 0})}));if(r)throw r;return et()&&!(null===(t=e.options)||void 0===t?void 0:t.skipBrowserRedirect)&&window.location.assign(null===n||void 0===n?void 0:n.url),{data:{provider:e.provider,url:null===n||void 0===n?void 0:n.url},error:null}}catch(n){if(Pe(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession((async t=>{var n,r;const{data:o,error:i}=t;if(i)throw i;return await vt(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:null!==(r=null===(n=o.session)||void 0===n?void 0:n.access_token)&&void 0!==r?r:void 0})}))}catch(t){if(Pe(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const o=Date.now();return await(n=async n=>(n>0&&await async function(e){return await new Promise((t=>{setTimeout((()=>t(null)),e)}))}(200*Math.pow(2,n-1)),this._debug(t,"refreshing attempt",n),await vt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:yt})),r=(e,t)=>{const n=200*Math.pow(2,e);return t&&qe(t)&&Date.now()+n-o<Ee},new Promise(((e,t)=>{(async()=>{for(let i=0;i<1/0;i++)try{const t=await n(i);if(!r(i,null,t))return void e(t)}catch(o){if(!r(i,o))return void t(o)}})()})))}catch(o){if(this._debug(t,"error",o),Pe(o))return{data:{session:null,user:null},error:o};throw o}finally{this._debug(t,"end")}var n,r}_isValidSession(e){return"object"===typeof e&&null!==e&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",n),et()&&!t.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e;const t="#_recoverAndRefresh()";this._debug(t,"begin");try{const n=await it(this.storage,this.storageKey);if(this._debug(t,"session from storage",n),!this._isValidSession(n))return this._debug(t,"session is not valid"),void(null!==n&&await this._removeSession());const r=1e3*(null!==(e=n.expires_at)&&void 0!==e?e:1/0)-Date.now()<Te;if(this._debug(t,`session has${r?"":" not"} expired with margin of 90000s`),r){if(this.autoRefreshToken&&n.refresh_token){const{error:e}=await this._callRefreshToken(n.refresh_token);e&&(console.error(e),qe(e)||(this._debug(t,"refresh failed with a non-retryable error, removing the session",e),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){return this._debug(t,"error",n),void console.error(n)}finally{this._debug(t,"end")}}async _callRefreshToken(e){var t,n;if(!e)throw new Me;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{this.refreshingDeferred=new at;const{data:t,error:n}=await this._refreshAccessToken(e);if(n)throw n;if(!t.session)throw new Me;await this._saveSession(t.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",t.session);const r={session:t.session,error:null};return this.refreshingDeferred.resolve(r),r}catch(o){if(this._debug(r,"error",o),Pe(o)){const e={session:null,error:o};return qe(o)||await this._removeSession(),null===(t=this.refreshingDeferred)||void 0===t||t.resolve(e),e}throw null===(n=this.refreshingDeferred)||void 0===n||n.reject(o),o}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=`#_notifyAllSubscribers(${e})`;this._debug(r,"begin",t,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:t});const r=[],o=Array.from(this.stateChangeEmitters.values()).map((async n=>{try{await n.callback(e,t)}catch(o){r.push(o)}}));if(await Promise.all(o),r.length>0){for(let e=0;e<r.length;e+=1)console.error(r[e]);throw r[0]}}finally{this._debug(r,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await ot(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await st(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&et()&&(null===window||void 0===window?void 0:window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval((()=>this._autoRefreshTokenTick()),Ee);this.autoRefreshTicker=e,e&&"object"===typeof e&&"function"===typeof e.unref?e.unref():"undefined"!==typeof Deno&&"function"===typeof Deno.unrefTimer&&Deno.unrefTimer(e),setTimeout((async()=>{await this.initializePromise,await this._autoRefreshTokenTick()}),0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,(async()=>{try{const t=Date.now();try{return await this._useSession((async e=>{const{data:{session:n}}=e;if(!n||!n.refresh_token||!n.expires_at)return void this._debug("#_autoRefreshTokenTick()","no session");const r=Math.floor((1e3*n.expires_at-t)/Ee);this._debug("#_autoRefreshTokenTick()",`access token expires in ${r} ticks, a tick lasts 30000ms, refresh threshold is 3 ticks`),r<=3&&await this._callRefreshToken(n.refresh_token)}))}catch(e){console.error("Auto refresh tick failed with error. This is likely a transient error.",e)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}))}catch(e){if(!(e.isAcquireTimeout||e instanceof Ot))throw e;this._debug("auto refresh token tick lock not available")}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!et()||!(null===window||void 0===window?void 0:window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),null===window||void 0===window||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,(async()=>{"visible"===document.visibilityState?await this._recoverAndRefresh():this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting")})))):"hidden"===document.visibilityState&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,n){const r=[`provider=${encodeURIComponent(t)}`];if((null===n||void 0===n?void 0:n.redirectTo)&&r.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),(null===n||void 0===n?void 0:n.scopes)&&r.push(`scopes=${encodeURIComponent(n.scopes)}`),"pkce"===this.flowType){const[e,t]=await dt(this.storage,this.storageKey),n=new URLSearchParams({code_challenge:`${encodeURIComponent(e)}`,code_challenge_method:`${encodeURIComponent(t)}`});r.push(n.toString())}if(null===n||void 0===n?void 0:n.queryParams){const e=new URLSearchParams(n.queryParams);r.push(e.toString())}return(null===n||void 0===n?void 0:n.skipBrowserRedirect)&&r.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${r.join("&")}`}async _unenroll(e){try{return await this._useSession((async t=>{var n;const{data:r,error:o}=t;return o?{data:null,error:o}:await vt(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:null===(n=null===r||void 0===r?void 0:r.session)||void 0===n?void 0:n.access_token})}))}catch(t){if(Pe(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession((async t=>{var n,r;const{data:o,error:i}=t;if(i)return{data:null,error:i};const s=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},"phone"===e.factorType?{phone:e.phone}:{issuer:e.issuer}),{data:a,error:l}=await vt(this.fetch,"POST",`${this.url}/factors`,{body:s,headers:this.headers,jwt:null===(n=null===o||void 0===o?void 0:o.session)||void 0===n?void 0:n.access_token});return l?{data:null,error:l}:("totp"===e.factorType&&(null===(r=null===a||void 0===a?void 0:a.totp)||void 0===r?void 0:r.qr_code)&&(a.totp.qr_code=`data:image/svg+xml;utf-8,${a.totp.qr_code}`),{data:a,error:null})}))}catch(t){if(Pe(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,(async()=>{try{return await this._useSession((async t=>{var n;const{data:r,error:o}=t;if(o)return{data:null,error:o};const{data:i,error:s}=await vt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:null===(n=null===r||void 0===r?void 0:r.session)||void 0===n?void 0:n.access_token});return s?{data:null,error:s}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),{data:i,error:s})}))}catch(t){if(Pe(t))return{data:null,error:t};throw t}}))}async _challenge(e){return this._acquireLock(-1,(async()=>{try{return await this._useSession((async t=>{var n;const{data:r,error:o}=t;return o?{data:null,error:o}:await vt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:null===(n=null===r||void 0===r?void 0:r.session)||void 0===n?void 0:n.access_token})}))}catch(t){if(Pe(t))return{data:null,error:t};throw t}}))}async _challengeAndVerify(e){const{data:t,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const n=(null===e||void 0===e?void 0:e.factors)||[],r=n.filter((e=>"totp"===e.factor_type&&"verified"===e.status)),o=n.filter((e=>"phone"===e.factor_type&&"verified"===e.status));return{data:{all:n,totp:r,phone:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,(async()=>await this._useSession((async e=>{var t,n;const{data:{session:r},error:o}=e;if(o)return{data:null,error:o};if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=lt(r.access_token);let s=null;i.aal&&(s=i.aal);let a=s;(null!==(n=null===(t=r.user.factors)||void 0===t?void 0:t.filter((e=>"verified"===e.status)))&&void 0!==n?n:[]).length>0&&(a="aal2");return{data:{currentLevel:s,nextLevel:a,currentAuthenticationMethods:i.amr||[]},error:null}}))))}async fetchJwk(e){let t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{keys:[]}).keys.find((t=>t.kid===e));if(t)return t;if(t=this.jwks.keys.find((t=>t.kid===e)),t&&this.jwks_cached_at+6e5>Date.now())return t;const{data:n,error:r}=await vt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(r)throw r;if(!n.keys||0===n.keys.length)throw new He("JWKS is empty");if(this.jwks=n,this.jwks_cached_at=Date.now(),t=n.keys.find((t=>t.kid===e)),!t)throw new He("No matching signing key found in JWKS");return t}async getClaims(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{keys:[]};try{let n=e;if(!n){const{data:e,error:t}=await this.getSession();if(t||!e.session)return{data:null,error:t};n=e.session.access_token}const{header:r,payload:o,signature:i,raw:{header:s,payload:a}}=lt(n);if(function(e){if(!e)throw new Error("Missing exp claim");if(e<=Math.floor(Date.now()/1e3))throw new Error("JWT has expired")}(o.exp),!r.kid||"HS256"===r.alg||!("crypto"in globalThis)||!("subtle"in globalThis.crypto)){const{error:e}=await this.getUser(n);if(e)throw e;return{data:{claims:o,header:r,signature:i},error:null}}const l=function(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}(r.alg),u=await this.fetchJwk(r.kid,t),c=await crypto.subtle.importKey("jwk",u,l,!0,["verify"]);if(!await crypto.subtle.verify(l,c,i,function(e){const t=[];return Qe(e,(e=>t.push(e))),new Uint8Array(t)}(`${s}.${a}`)))throw new He("Invalid JWT signature");return{data:{claims:o,header:r,signature:i},error:null}}catch(n){if(Pe(n))return{data:null,error:n};throw n}}}jt.nextInstanceID=0;const Lt=jt;class Dt extends Lt{constructor(e){super(e)}}var Mt=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(t){i(t)}}function a(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))};class Ut{constructor(e,t,n){var r,o,i;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const s=e.replace(/\/$/,"");this.realtimeUrl=`${s}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${s}/auth/v1`,this.storageUrl=`${s}/storage/v1`,this.functionsUrl=`${s}/functions/v1`;const a=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,l=function(e,t){const{db:n,auth:r,realtime:o,global:i}=e,{db:s,auth:a,realtime:l,global:u}=t,c={db:Object.assign(Object.assign({},s),n),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},l),o),global:Object.assign(Object.assign({},u),i),accessToken:()=>Se(this,void 0,void 0,(function*(){return""}))};return e.accessToken?c.accessToken=e.accessToken:delete c.accessToken,c}(null!==n&&void 0!==n?n:{},{db:ve,realtime:be,auth:Object.assign(Object.assign({},ye),{storageKey:a}),global:ge});this.storageKey=null!==(r=l.auth.storageKey)&&void 0!==r?r:"",this.headers=null!==(o=l.global.headers)&&void 0!==o?o:{},l.accessToken?(this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(e,t)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(t)} is not possible`)}})):this.auth=this._initSupabaseAuthClient(null!==(i=l.auth)&&void 0!==i?i:{},this.headers,l.global.fetch),this.fetch=ke(t,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.rest=new d(`${s}/rest/v1`,{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),l.accessToken||this._listenForAuthEvents()}get functions(){return new u(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new pe(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.rest.rpc(e,t,n)}channel(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}};return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return Mt(this,void 0,void 0,(function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return null!==(t=null===(e=n.session)||void 0===e?void 0:e.access_token)&&void 0!==t?t:null}))}_initSupabaseAuthClient(e,t,n){let{autoRefreshToken:r,persistSession:o,detectSessionInUrl:i,storage:s,storageKey:a,flowType:l,lock:u,debug:c}=e;const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Dt({url:this.authUrl,headers:Object.assign(Object.assign({},d),t),storageKey:a,autoRefreshToken:r,persistSession:o,detectSessionInUrl:i,storage:s,flowType:l,lock:u,debug:c,fetch:n,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new H(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},null===e||void 0===e?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange(((e,t)=>{this._handleTokenChanged(e,"CLIENT",null===t||void 0===t?void 0:t.access_token)}))}_handleTokenChanged(e,t,n){"TOKEN_REFRESHED"!==e&&"SIGNED_IN"!==e||this.changedAccessToken===n?"SIGNED_OUT"===e&&(this.realtime.setAuth(),"STORAGE"==t&&this.auth.signOut(),this.changedAccessToken=void 0):this.changedAccessToken=n}}const Ft=(e,t,n)=>new Ut(e,t,n)},7283:e=>{"use strict";var t=Object.prototype.hasOwnProperty,n="~";function r(){}function o(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function i(e,t,r,i,s){if("function"!==typeof r)throw new TypeError("The listener must be a function");var a=new o(r,i||e,s),l=n?n+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],a]:e._events[l].push(a):(e._events[l]=a,e._eventsCount++),e}function s(e,t){0===--e._eventsCount?e._events=new r:delete e._events[t]}function a(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),a.prototype.eventNames=function(){var e,r,o=[];if(0===this._eventsCount)return o;for(r in e=this._events)t.call(e,r)&&o.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?o.concat(Object.getOwnPropertySymbols(e)):o},a.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var o=0,i=r.length,s=new Array(i);o<i;o++)s[o]=r[o].fn;return s},a.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},a.prototype.emit=function(e,t,r,o,i,s){var a=n?n+e:e;if(!this._events[a])return!1;var l,u,c=this._events[a],d=arguments.length;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),d){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,t),!0;case 3:return c.fn.call(c.context,t,r),!0;case 4:return c.fn.call(c.context,t,r,o),!0;case 5:return c.fn.call(c.context,t,r,o,i),!0;case 6:return c.fn.call(c.context,t,r,o,i,s),!0}for(u=1,l=new Array(d-1);u<d;u++)l[u-1]=arguments[u];c.fn.apply(c.context,l)}else{var f,h=c.length;for(u=0;u<h;u++)switch(c[u].once&&this.removeListener(e,c[u].fn,void 0,!0),d){case 1:c[u].fn.call(c[u].context);break;case 2:c[u].fn.call(c[u].context,t);break;case 3:c[u].fn.call(c[u].context,t,r);break;case 4:c[u].fn.call(c[u].context,t,r,o);break;default:if(!l)for(f=1,l=new Array(d-1);f<d;f++)l[f-1]=arguments[f];c[u].fn.apply(c[u].context,l)}}return!0},a.prototype.on=function(e,t,n){return i(this,e,t,n,!1)},a.prototype.once=function(e,t,n){return i(this,e,t,n,!0)},a.prototype.removeListener=function(e,t,r,o){var i=n?n+e:e;if(!this._events[i])return this;if(!t)return s(this,i),this;var a=this._events[i];if(a.fn)a.fn!==t||o&&!a.once||r&&a.context!==r||s(this,i);else{for(var l=0,u=[],c=a.length;l<c;l++)(a[l].fn!==t||o&&!a[l].once||r&&a[l].context!==r)&&u.push(a[l]);u.length?this._events[i]=1===u.length?u[0]:u:s(this,i)}return this},a.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&s(this,t)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,e.exports=a},7284:e=>{"use strict";var t,n="object"===typeof Reflect?Reflect:null,r=n&&"function"===typeof n.apply?n.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};t=n&&"function"===typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var o=Number.isNaN||function(e){return e!==e};function i(){i.init.call(this)}e.exports=i,e.exports.once=function(e,t){return new Promise((function(n,r){function o(n){e.removeListener(t,i),r(n)}function i(){"function"===typeof e.removeListener&&e.removeListener("error",o),n([].slice.call(arguments))}m(e,t,i,{once:!0}),"error"!==t&&function(e,t,n){"function"===typeof e.on&&m(e,"error",t,n)}(e,o,{once:!0})}))},i.EventEmitter=i,i.prototype._events=void 0,i.prototype._eventsCount=0,i.prototype._maxListeners=void 0;var s=10;function a(e){if("function"!==typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function l(e){return void 0===e._maxListeners?i.defaultMaxListeners:e._maxListeners}function u(e,t,n,r){var o,i,s,u;if(a(n),void 0===(i=e._events)?(i=e._events=Object.create(null),e._eventsCount=0):(void 0!==i.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),i=e._events),s=i[t]),void 0===s)s=i[t]=n,++e._eventsCount;else if("function"===typeof s?s=i[t]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),(o=l(e))>0&&s.length>o&&!s.warned){s.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=s.length,u=c,console&&console.warn&&console.warn(u)}return e}function c(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},o=c.bind(r);return o.listener=n,r.wrapFn=o,o}function f(e,t,n){var r=e._events;if(void 0===r)return[];var o=r[t];return void 0===o?[]:"function"===typeof o?n?[o.listener||o]:[o]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(o):p(o,o.length)}function h(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"===typeof n)return 1;if(void 0!==n)return n.length}return 0}function p(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function m(e,t,n,r){if("function"===typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!==typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function o(i){r.once&&e.removeEventListener(t,o),n(i)}))}}Object.defineProperty(i,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(e){if("number"!==typeof e||e<0||o(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");s=e}}),i.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},i.prototype.setMaxListeners=function(e){if("number"!==typeof e||e<0||o(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},i.prototype.getMaxListeners=function(){return l(this)},i.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var o="error"===e,i=this._events;if(void 0!==i)o=o&&void 0===i.error;else if(!o)return!1;if(o){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var l=i[e];if(void 0===l)return!1;if("function"===typeof l)r(l,this,t);else{var u=l.length,c=p(l,u);for(n=0;n<u;++n)r(c[n],this,t)}return!0},i.prototype.addListener=function(e,t){return u(this,e,t,!1)},i.prototype.on=i.prototype.addListener,i.prototype.prependListener=function(e,t){return u(this,e,t,!0)},i.prototype.once=function(e,t){return a(t),this.on(e,d(this,e,t)),this},i.prototype.prependOnceListener=function(e,t){return a(t),this.prependListener(e,d(this,e,t)),this},i.prototype.removeListener=function(e,t){var n,r,o,i,s;if(a(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0===--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!==typeof n){for(o=-1,i=n.length-1;i>=0;i--)if(n[i]===t||n[i].listener===t){s=n[i].listener,o=i;break}if(o<0)return this;0===o?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,o),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,s||t)}return this},i.prototype.off=i.prototype.removeListener,i.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0===--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var o,i=Object.keys(n);for(r=0;r<i.length;++r)"removeListener"!==(o=i[r])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"===typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},i.prototype.listeners=function(e){return f(this,e,!0)},i.prototype.rawListeners=function(e){return f(this,e,!1)},i.listenerCount=function(e,t){return"function"===typeof e.listenerCount?e.listenerCount(t):h.call(e,t)},i.prototype.listenerCount=h,i.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},3240:e=>{"use strict";var t=Object.prototype.hasOwnProperty,n=Object.prototype.toString,r=Object.defineProperty,o=Object.getOwnPropertyDescriptor,i=function(e){return"function"===typeof Array.isArray?Array.isArray(e):"[object Array]"===n.call(e)},s=function(e){if(!e||"[object Object]"!==n.call(e))return!1;var r,o=t.call(e,"constructor"),i=e.constructor&&e.constructor.prototype&&t.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!o&&!i)return!1;for(r in e);return"undefined"===typeof r||t.call(e,r)},a=function(e,t){r&&"__proto__"===t.name?r(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},l=function(e,n){if("__proto__"===n){if(!t.call(e,n))return;if(o)return o(e,n).value}return e[n]};e.exports=function e(){var t,n,r,o,u,c,d=arguments[0],f=1,h=arguments.length,p=!1;for("boolean"===typeof d&&(p=d,d=arguments[1]||{},f=2),(null==d||"object"!==typeof d&&"function"!==typeof d)&&(d={});f<h;++f)if(null!=(t=arguments[f]))for(n in t)r=l(d,n),d!==(o=l(t,n))&&(p&&o&&(s(o)||(u=i(o)))?(u?(u=!1,c=r&&i(r)?r:[]):c=r&&s(r)?r:{},a(d,{name:n,newValue:e(p,c,o)})):"undefined"!==typeof o&&a(d,{name:n,newValue:o}));return d}},4403:e=>{var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,n=/\n/g,r=/^\s*/,o=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,s=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,a=/^[;\s]*/,l=/^\s+|\s+$/g,u="";function c(e){return e?e.replace(l,u):u}e.exports=function(e,l){if("string"!==typeof e)throw new TypeError("First argument must be a string");if(!e)return[];l=l||{};var d=1,f=1;function h(e){var t=e.match(n);t&&(d+=t.length);var r=e.lastIndexOf("\n");f=~r?e.length-r:f+e.length}function p(){var e={line:d,column:f};return function(t){return t.position=new m(e),b(),t}}function m(e){this.start=e,this.end={line:d,column:f},this.source=l.source}m.prototype.content=e;var g=[];function v(t){var n=new Error(l.source+":"+d+":"+f+": "+t);if(n.reason=t,n.filename=l.source,n.line=d,n.column=f,n.source=e,!l.silent)throw n;g.push(n)}function y(t){var n=t.exec(e);if(n){var r=n[0];return h(r),e=e.slice(r.length),n}}function b(){y(r)}function w(e){var t;for(e=e||[];t=x();)!1!==t&&e.push(t);return e}function x(){var t=p();if("/"==e.charAt(0)&&"*"==e.charAt(1)){for(var n=2;u!=e.charAt(n)&&("*"!=e.charAt(n)||"/"!=e.charAt(n+1));)++n;if(n+=2,u===e.charAt(n-1))return v("End of comment missing");var r=e.slice(2,n-2);return f+=2,h(r),e=e.slice(n),f+=2,t({type:"comment",comment:r})}}function _(){var e=p(),n=y(o);if(n){if(x(),!y(i))return v("property missing ':'");var r=y(s),l=e({type:"declaration",property:c(n[0].replace(t,u)),value:r?c(r[0].replace(t,u)):u});return y(a),l}}return b(),function(){var e,t=[];for(w(t);e=_();)!1!==e&&(t.push(e),w(t));return t}()}},3536:function(e,t,n){var r;e=n.nmd(e),function(){var o,i="Expected a function",s="__lodash_hash_undefined__",a="__lodash_placeholder__",l=16,u=32,c=64,d=128,f=256,h=1/0,p=9007199254740991,m=NaN,g=4294967295,v=[["ary",d],["bind",1],["bindKey",2],["curry",8],["curryRight",l],["flip",512],["partial",u],["partialRight",c],["rearg",f]],y="[object Arguments]",b="[object Array]",w="[object Boolean]",x="[object Date]",_="[object Error]",k="[object Function]",S="[object GeneratorFunction]",C="[object Map]",E="[object Number]",T="[object Object]",A="[object Promise]",O="[object RegExp]",I="[object Set]",N="[object String]",R="[object Symbol]",P="[object WeakMap]",j="[object ArrayBuffer]",L="[object DataView]",D="[object Float32Array]",M="[object Float64Array]",U="[object Int8Array]",F="[object Int16Array]",$="[object Int32Array]",z="[object Uint8Array]",B="[object Uint8ClampedArray]",q="[object Uint16Array]",V="[object Uint32Array]",H=/\b__p \+= '';/g,W=/\b(__p \+=) '' \+/g,G=/(__e\(.*?\)|\b__t\)) \+\n'';/g,J=/&(?:amp|lt|gt|quot|#39);/g,K=/[&<>"']/g,Y=RegExp(J.source),Z=RegExp(K.source),Q=/<%-([\s\S]+?)%>/g,X=/<%([\s\S]+?)%>/g,ee=/<%=([\s\S]+?)%>/g,te=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ne=/^\w*$/,re=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,oe=/[\\^$.*+?()[\]{}|]/g,ie=RegExp(oe.source),se=/^\s+/,ae=/\s/,le=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ue=/\{\n\/\* \[wrapped with (.+)\] \*/,ce=/,? & /,de=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,fe=/[()=,{}\[\]\/\s]/,he=/\\(\\)?/g,pe=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,me=/\w*$/,ge=/^[-+]0x[0-9a-f]+$/i,ve=/^0b[01]+$/i,ye=/^\[object .+?Constructor\]$/,be=/^0o[0-7]+$/i,we=/^(?:0|[1-9]\d*)$/,xe=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,_e=/($^)/,ke=/['\n\r\u2028\u2029\\]/g,Se="\\ud800-\\udfff",Ce="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Ee="\\u2700-\\u27bf",Te="a-z\\xdf-\\xf6\\xf8-\\xff",Ae="A-Z\\xc0-\\xd6\\xd8-\\xde",Oe="\\ufe0e\\ufe0f",Ie="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ne="['\u2019]",Re="["+Se+"]",Pe="["+Ie+"]",je="["+Ce+"]",Le="\\d+",De="["+Ee+"]",Me="["+Te+"]",Ue="[^"+Se+Ie+Le+Ee+Te+Ae+"]",Fe="\\ud83c[\\udffb-\\udfff]",$e="[^"+Se+"]",ze="(?:\\ud83c[\\udde6-\\uddff]){2}",Be="[\\ud800-\\udbff][\\udc00-\\udfff]",qe="["+Ae+"]",Ve="\\u200d",He="(?:"+Me+"|"+Ue+")",We="(?:"+qe+"|"+Ue+")",Ge="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",Je="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",Ke="(?:"+je+"|"+Fe+")"+"?",Ye="["+Oe+"]?",Ze=Ye+Ke+("(?:"+Ve+"(?:"+[$e,ze,Be].join("|")+")"+Ye+Ke+")*"),Qe="(?:"+[De,ze,Be].join("|")+")"+Ze,Xe="(?:"+[$e+je+"?",je,ze,Be,Re].join("|")+")",et=RegExp(Ne,"g"),tt=RegExp(je,"g"),nt=RegExp(Fe+"(?="+Fe+")|"+Xe+Ze,"g"),rt=RegExp([qe+"?"+Me+"+"+Ge+"(?="+[Pe,qe,"$"].join("|")+")",We+"+"+Je+"(?="+[Pe,qe+He,"$"].join("|")+")",qe+"?"+He+"+"+Ge,qe+"+"+Je,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Le,Qe].join("|"),"g"),ot=RegExp("["+Ve+Se+Ce+Oe+"]"),it=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,st=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],at=-1,lt={};lt[D]=lt[M]=lt[U]=lt[F]=lt[$]=lt[z]=lt[B]=lt[q]=lt[V]=!0,lt[y]=lt[b]=lt[j]=lt[w]=lt[L]=lt[x]=lt[_]=lt[k]=lt[C]=lt[E]=lt[T]=lt[O]=lt[I]=lt[N]=lt[P]=!1;var ut={};ut[y]=ut[b]=ut[j]=ut[L]=ut[w]=ut[x]=ut[D]=ut[M]=ut[U]=ut[F]=ut[$]=ut[C]=ut[E]=ut[T]=ut[O]=ut[I]=ut[N]=ut[R]=ut[z]=ut[B]=ut[q]=ut[V]=!0,ut[_]=ut[k]=ut[P]=!1;var ct={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},dt=parseFloat,ft=parseInt,ht="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,pt="object"==typeof self&&self&&self.Object===Object&&self,mt=ht||pt||Function("return this")(),gt=t&&!t.nodeType&&t,vt=gt&&e&&!e.nodeType&&e,yt=vt&&vt.exports===gt,bt=yt&&ht.process,wt=function(){try{var e=vt&&vt.require&&vt.require("util").types;return e||bt&&bt.binding&&bt.binding("util")}catch(t){}}(),xt=wt&&wt.isArrayBuffer,_t=wt&&wt.isDate,kt=wt&&wt.isMap,St=wt&&wt.isRegExp,Ct=wt&&wt.isSet,Et=wt&&wt.isTypedArray;function Tt(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function At(e,t,n,r){for(var o=-1,i=null==e?0:e.length;++o<i;){var s=e[o];t(r,s,n(s),e)}return r}function Ot(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function It(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function Nt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function Rt(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var s=e[n];t(s,n,e)&&(i[o++]=s)}return i}function Pt(e,t){return!!(null==e?0:e.length)&&qt(e,t,0)>-1}function jt(e,t,n){for(var r=-1,o=null==e?0:e.length;++r<o;)if(n(t,e[r]))return!0;return!1}function Lt(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}function Dt(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}function Mt(e,t,n,r){var o=-1,i=null==e?0:e.length;for(r&&i&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);return n}function Ut(e,t,n,r){var o=null==e?0:e.length;for(r&&o&&(n=e[--o]);o--;)n=t(n,e[o],o,e);return n}function Ft(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var $t=Gt("length");function zt(e,t,n){var r;return n(e,(function(e,n,o){if(t(e,n,o))return r=n,!1})),r}function Bt(e,t,n,r){for(var o=e.length,i=n+(r?1:-1);r?i--:++i<o;)if(t(e[i],i,e))return i;return-1}function qt(e,t,n){return t===t?function(e,t,n){var r=n-1,o=e.length;for(;++r<o;)if(e[r]===t)return r;return-1}(e,t,n):Bt(e,Ht,n)}function Vt(e,t,n,r){for(var o=n-1,i=e.length;++o<i;)if(r(e[o],t))return o;return-1}function Ht(e){return e!==e}function Wt(e,t){var n=null==e?0:e.length;return n?Yt(e,t)/n:m}function Gt(e){return function(t){return null==t?o:t[e]}}function Jt(e){return function(t){return null==e?o:e[t]}}function Kt(e,t,n,r,o){return o(e,(function(e,o,i){n=r?(r=!1,e):t(n,e,o,i)})),n}function Yt(e,t){for(var n,r=-1,i=e.length;++r<i;){var s=t(e[r]);s!==o&&(n=n===o?s:n+s)}return n}function Zt(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Qt(e){return e?e.slice(0,gn(e)+1).replace(se,""):e}function Xt(e){return function(t){return e(t)}}function en(e,t){return Lt(t,(function(t){return e[t]}))}function tn(e,t){return e.has(t)}function nn(e,t){for(var n=-1,r=e.length;++n<r&&qt(t,e[n],0)>-1;);return n}function rn(e,t){for(var n=e.length;n--&&qt(t,e[n],0)>-1;);return n}var on=Jt({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),sn=Jt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function an(e){return"\\"+ct[e]}function ln(e){return ot.test(e)}function un(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function cn(e,t){return function(n){return e(t(n))}}function dn(e,t){for(var n=-1,r=e.length,o=0,i=[];++n<r;){var s=e[n];s!==t&&s!==a||(e[n]=a,i[o++]=n)}return i}function fn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function hn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function pn(e){return ln(e)?function(e){var t=nt.lastIndex=0;for(;nt.test(e);)++t;return t}(e):$t(e)}function mn(e){return ln(e)?function(e){return e.match(nt)||[]}(e):function(e){return e.split("")}(e)}function gn(e){for(var t=e.length;t--&&ae.test(e.charAt(t)););return t}var vn=Jt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var yn=function e(t){var n=(t=null==t?mt:yn.defaults(mt.Object(),t,yn.pick(mt,st))).Array,r=t.Date,ae=t.Error,Se=t.Function,Ce=t.Math,Ee=t.Object,Te=t.RegExp,Ae=t.String,Oe=t.TypeError,Ie=n.prototype,Ne=Se.prototype,Re=Ee.prototype,Pe=t["__core-js_shared__"],je=Ne.toString,Le=Re.hasOwnProperty,De=0,Me=function(){var e=/[^.]+$/.exec(Pe&&Pe.keys&&Pe.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Ue=Re.toString,Fe=je.call(Ee),$e=mt._,ze=Te("^"+je.call(Le).replace(oe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Be=yt?t.Buffer:o,qe=t.Symbol,Ve=t.Uint8Array,He=Be?Be.allocUnsafe:o,We=cn(Ee.getPrototypeOf,Ee),Ge=Ee.create,Je=Re.propertyIsEnumerable,Ke=Ie.splice,Ye=qe?qe.isConcatSpreadable:o,Ze=qe?qe.iterator:o,Qe=qe?qe.toStringTag:o,Xe=function(){try{var e=fi(Ee,"defineProperty");return e({},"",{}),e}catch(t){}}(),nt=t.clearTimeout!==mt.clearTimeout&&t.clearTimeout,ot=r&&r.now!==mt.Date.now&&r.now,ct=t.setTimeout!==mt.setTimeout&&t.setTimeout,ht=Ce.ceil,pt=Ce.floor,gt=Ee.getOwnPropertySymbols,vt=Be?Be.isBuffer:o,bt=t.isFinite,wt=Ie.join,$t=cn(Ee.keys,Ee),Jt=Ce.max,bn=Ce.min,wn=r.now,xn=t.parseInt,_n=Ce.random,kn=Ie.reverse,Sn=fi(t,"DataView"),Cn=fi(t,"Map"),En=fi(t,"Promise"),Tn=fi(t,"Set"),An=fi(t,"WeakMap"),On=fi(Ee,"create"),In=An&&new An,Nn={},Rn=Ui(Sn),Pn=Ui(Cn),jn=Ui(En),Ln=Ui(Tn),Dn=Ui(An),Mn=qe?qe.prototype:o,Un=Mn?Mn.valueOf:o,Fn=Mn?Mn.toString:o;function $n(e){if(ta(e)&&!Vs(e)&&!(e instanceof Vn)){if(e instanceof qn)return e;if(Le.call(e,"__wrapped__"))return Fi(e)}return new qn(e)}var zn=function(){function e(){}return function(t){if(!ea(t))return{};if(Ge)return Ge(t);e.prototype=t;var n=new e;return e.prototype=o,n}}();function Bn(){}function qn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=o}function Vn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=g,this.__views__=[]}function Hn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Wn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Gn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Jn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Gn;++t<n;)this.add(e[t])}function Kn(e){var t=this.__data__=new Wn(e);this.size=t.size}function Yn(e,t){var n=Vs(e),r=!n&&qs(e),o=!n&&!r&&Js(e),i=!n&&!r&&!o&&ua(e),s=n||r||o||i,a=s?Zt(e.length,Ae):[],l=a.length;for(var u in e)!t&&!Le.call(e,u)||s&&("length"==u||o&&("offset"==u||"parent"==u)||i&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||bi(u,l))||a.push(u);return a}function Zn(e){var t=e.length;return t?e[Jr(0,t-1)]:o}function Qn(e,t){return Li(Io(e),ar(t,0,e.length))}function Xn(e){return Li(Io(e))}function er(e,t,n){(n!==o&&!$s(e[t],n)||n===o&&!(t in e))&&ir(e,t,n)}function tr(e,t,n){var r=e[t];Le.call(e,t)&&$s(r,n)&&(n!==o||t in e)||ir(e,t,n)}function nr(e,t){for(var n=e.length;n--;)if($s(e[n][0],t))return n;return-1}function rr(e,t,n,r){return fr(e,(function(e,o,i){t(r,e,n(e),i)})),r}function or(e,t){return e&&No(t,Na(t),e)}function ir(e,t,n){"__proto__"==t&&Xe?Xe(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function sr(e,t){for(var r=-1,i=t.length,s=n(i),a=null==e;++r<i;)s[r]=a?o:Ea(e,t[r]);return s}function ar(e,t,n){return e===e&&(n!==o&&(e=e<=n?e:n),t!==o&&(e=e>=t?e:t)),e}function lr(e,t,n,r,i,s){var a,l=1&t,u=2&t,c=4&t;if(n&&(a=i?n(e,r,i,s):n(e)),a!==o)return a;if(!ea(e))return e;var d=Vs(e);if(d){if(a=function(e){var t=e.length,n=new e.constructor(t);t&&"string"==typeof e[0]&&Le.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!l)return Io(e,a)}else{var f=mi(e),h=f==k||f==S;if(Js(e))return So(e,l);if(f==T||f==y||h&&!i){if(a=u||h?{}:vi(e),!l)return u?function(e,t){return No(e,pi(e),t)}(e,function(e,t){return e&&No(t,Ra(t),e)}(a,e)):function(e,t){return No(e,hi(e),t)}(e,or(a,e))}else{if(!ut[f])return i?e:{};a=function(e,t,n){var r=e.constructor;switch(t){case j:return Co(e);case w:case x:return new r(+e);case L:return function(e,t){var n=t?Co(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case D:case M:case U:case F:case $:case z:case B:case q:case V:return Eo(e,n);case C:return new r;case E:case N:return new r(e);case O:return function(e){var t=new e.constructor(e.source,me.exec(e));return t.lastIndex=e.lastIndex,t}(e);case I:return new r;case R:return o=e,Un?Ee(Un.call(o)):{}}var o}(e,f,l)}}s||(s=new Kn);var p=s.get(e);if(p)return p;s.set(e,a),sa(e)?e.forEach((function(r){a.add(lr(r,t,n,r,e,s))})):na(e)&&e.forEach((function(r,o){a.set(o,lr(r,t,n,o,e,s))}));var m=d?o:(c?u?ii:oi:u?Ra:Na)(e);return Ot(m||e,(function(r,o){m&&(r=e[o=r]),tr(a,o,lr(r,t,n,o,e,s))})),a}function ur(e,t,n){var r=n.length;if(null==e)return!r;for(e=Ee(e);r--;){var i=n[r],s=t[i],a=e[i];if(a===o&&!(i in e)||!s(a))return!1}return!0}function cr(e,t,n){if("function"!=typeof e)throw new Oe(i);return Ni((function(){e.apply(o,n)}),t)}function dr(e,t,n,r){var o=-1,i=Pt,s=!0,a=e.length,l=[],u=t.length;if(!a)return l;n&&(t=Lt(t,Xt(n))),r?(i=jt,s=!1):t.length>=200&&(i=tn,s=!1,t=new Jn(t));e:for(;++o<a;){var c=e[o],d=null==n?c:n(c);if(c=r||0!==c?c:0,s&&d===d){for(var f=u;f--;)if(t[f]===d)continue e;l.push(c)}else i(t,d,r)||l.push(c)}return l}$n.templateSettings={escape:Q,evaluate:X,interpolate:ee,variable:"",imports:{_:$n}},$n.prototype=Bn.prototype,$n.prototype.constructor=$n,qn.prototype=zn(Bn.prototype),qn.prototype.constructor=qn,Vn.prototype=zn(Bn.prototype),Vn.prototype.constructor=Vn,Hn.prototype.clear=function(){this.__data__=On?On(null):{},this.size=0},Hn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Hn.prototype.get=function(e){var t=this.__data__;if(On){var n=t[e];return n===s?o:n}return Le.call(t,e)?t[e]:o},Hn.prototype.has=function(e){var t=this.__data__;return On?t[e]!==o:Le.call(t,e)},Hn.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=On&&t===o?s:t,this},Wn.prototype.clear=function(){this.__data__=[],this.size=0},Wn.prototype.delete=function(e){var t=this.__data__,n=nr(t,e);return!(n<0)&&(n==t.length-1?t.pop():Ke.call(t,n,1),--this.size,!0)},Wn.prototype.get=function(e){var t=this.__data__,n=nr(t,e);return n<0?o:t[n][1]},Wn.prototype.has=function(e){return nr(this.__data__,e)>-1},Wn.prototype.set=function(e,t){var n=this.__data__,r=nr(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Gn.prototype.clear=function(){this.size=0,this.__data__={hash:new Hn,map:new(Cn||Wn),string:new Hn}},Gn.prototype.delete=function(e){var t=ci(this,e).delete(e);return this.size-=t?1:0,t},Gn.prototype.get=function(e){return ci(this,e).get(e)},Gn.prototype.has=function(e){return ci(this,e).has(e)},Gn.prototype.set=function(e,t){var n=ci(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Jn.prototype.add=Jn.prototype.push=function(e){return this.__data__.set(e,s),this},Jn.prototype.has=function(e){return this.__data__.has(e)},Kn.prototype.clear=function(){this.__data__=new Wn,this.size=0},Kn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Kn.prototype.get=function(e){return this.__data__.get(e)},Kn.prototype.has=function(e){return this.__data__.has(e)},Kn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Wn){var r=n.__data__;if(!Cn||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Gn(r)}return n.set(e,t),this.size=n.size,this};var fr=jo(wr),hr=jo(xr,!0);function pr(e,t){var n=!0;return fr(e,(function(e,r,o){return n=!!t(e,r,o)})),n}function mr(e,t,n){for(var r=-1,i=e.length;++r<i;){var s=e[r],a=t(s);if(null!=a&&(l===o?a===a&&!la(a):n(a,l)))var l=a,u=s}return u}function gr(e,t){var n=[];return fr(e,(function(e,r,o){t(e,r,o)&&n.push(e)})),n}function vr(e,t,n,r,o){var i=-1,s=e.length;for(n||(n=yi),o||(o=[]);++i<s;){var a=e[i];t>0&&n(a)?t>1?vr(a,t-1,n,r,o):Dt(o,a):r||(o[o.length]=a)}return o}var yr=Lo(),br=Lo(!0);function wr(e,t){return e&&yr(e,t,Na)}function xr(e,t){return e&&br(e,t,Na)}function _r(e,t){return Rt(t,(function(t){return Zs(e[t])}))}function kr(e,t){for(var n=0,r=(t=wo(t,e)).length;null!=e&&n<r;)e=e[Mi(t[n++])];return n&&n==r?e:o}function Sr(e,t,n){var r=t(e);return Vs(e)?r:Dt(r,n(e))}function Cr(e){return null==e?e===o?"[object Undefined]":"[object Null]":Qe&&Qe in Ee(e)?function(e){var t=Le.call(e,Qe),n=e[Qe];try{e[Qe]=o;var r=!0}catch(s){}var i=Ue.call(e);r&&(t?e[Qe]=n:delete e[Qe]);return i}(e):function(e){return Ue.call(e)}(e)}function Er(e,t){return e>t}function Tr(e,t){return null!=e&&Le.call(e,t)}function Ar(e,t){return null!=e&&t in Ee(e)}function Or(e,t,r){for(var i=r?jt:Pt,s=e[0].length,a=e.length,l=a,u=n(a),c=1/0,d=[];l--;){var f=e[l];l&&t&&(f=Lt(f,Xt(t))),c=bn(f.length,c),u[l]=!r&&(t||s>=120&&f.length>=120)?new Jn(l&&f):o}f=e[0];var h=-1,p=u[0];e:for(;++h<s&&d.length<c;){var m=f[h],g=t?t(m):m;if(m=r||0!==m?m:0,!(p?tn(p,g):i(d,g,r))){for(l=a;--l;){var v=u[l];if(!(v?tn(v,g):i(e[l],g,r)))continue e}p&&p.push(g),d.push(m)}}return d}function Ir(e,t,n){var r=null==(e=Ai(e,t=wo(t,e)))?e:e[Mi(Yi(t))];return null==r?o:Tt(r,e,n)}function Nr(e){return ta(e)&&Cr(e)==y}function Rr(e,t,n,r,i){return e===t||(null==e||null==t||!ta(e)&&!ta(t)?e!==e&&t!==t:function(e,t,n,r,i,s){var a=Vs(e),l=Vs(t),u=a?b:mi(e),c=l?b:mi(t),d=(u=u==y?T:u)==T,f=(c=c==y?T:c)==T,h=u==c;if(h&&Js(e)){if(!Js(t))return!1;a=!0,d=!1}if(h&&!d)return s||(s=new Kn),a||ua(e)?ni(e,t,n,r,i,s):function(e,t,n,r,o,i,s){switch(n){case L:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case j:return!(e.byteLength!=t.byteLength||!i(new Ve(e),new Ve(t)));case w:case x:case E:return $s(+e,+t);case _:return e.name==t.name&&e.message==t.message;case O:case N:return e==t+"";case C:var a=un;case I:var l=1&r;if(a||(a=fn),e.size!=t.size&&!l)return!1;var u=s.get(e);if(u)return u==t;r|=2,s.set(e,t);var c=ni(a(e),a(t),r,o,i,s);return s.delete(e),c;case R:if(Un)return Un.call(e)==Un.call(t)}return!1}(e,t,u,n,r,i,s);if(!(1&n)){var p=d&&Le.call(e,"__wrapped__"),m=f&&Le.call(t,"__wrapped__");if(p||m){var g=p?e.value():e,v=m?t.value():t;return s||(s=new Kn),i(g,v,n,r,s)}}if(!h)return!1;return s||(s=new Kn),function(e,t,n,r,i,s){var a=1&n,l=oi(e),u=l.length,c=oi(t),d=c.length;if(u!=d&&!a)return!1;var f=u;for(;f--;){var h=l[f];if(!(a?h in t:Le.call(t,h)))return!1}var p=s.get(e),m=s.get(t);if(p&&m)return p==t&&m==e;var g=!0;s.set(e,t),s.set(t,e);var v=a;for(;++f<u;){var y=e[h=l[f]],b=t[h];if(r)var w=a?r(b,y,h,t,e,s):r(y,b,h,e,t,s);if(!(w===o?y===b||i(y,b,n,r,s):w)){g=!1;break}v||(v="constructor"==h)}if(g&&!v){var x=e.constructor,_=t.constructor;x==_||!("constructor"in e)||!("constructor"in t)||"function"==typeof x&&x instanceof x&&"function"==typeof _&&_ instanceof _||(g=!1)}return s.delete(e),s.delete(t),g}(e,t,n,r,i,s)}(e,t,n,r,Rr,i))}function Pr(e,t,n,r){var i=n.length,s=i,a=!r;if(null==e)return!s;for(e=Ee(e);i--;){var l=n[i];if(a&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++i<s;){var u=(l=n[i])[0],c=e[u],d=l[1];if(a&&l[2]){if(c===o&&!(u in e))return!1}else{var f=new Kn;if(r)var h=r(c,d,u,e,t,f);if(!(h===o?Rr(d,c,3,r,f):h))return!1}}return!0}function jr(e){return!(!ea(e)||(t=e,Me&&Me in t))&&(Zs(e)?ze:ye).test(Ui(e));var t}function Lr(e){return"function"==typeof e?e:null==e?rl:"object"==typeof e?Vs(e)?zr(e[0],e[1]):$r(e):fl(e)}function Dr(e){if(!Si(e))return $t(e);var t=[];for(var n in Ee(e))Le.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Mr(e){if(!ea(e))return function(e){var t=[];if(null!=e)for(var n in Ee(e))t.push(n);return t}(e);var t=Si(e),n=[];for(var r in e)("constructor"!=r||!t&&Le.call(e,r))&&n.push(r);return n}function Ur(e,t){return e<t}function Fr(e,t){var r=-1,o=Ws(e)?n(e.length):[];return fr(e,(function(e,n,i){o[++r]=t(e,n,i)})),o}function $r(e){var t=di(e);return 1==t.length&&t[0][2]?Ei(t[0][0],t[0][1]):function(n){return n===e||Pr(n,e,t)}}function zr(e,t){return xi(e)&&Ci(t)?Ei(Mi(e),t):function(n){var r=Ea(n,e);return r===o&&r===t?Ta(n,e):Rr(t,r,3)}}function Br(e,t,n,r,i){e!==t&&yr(t,(function(s,a){if(i||(i=new Kn),ea(s))!function(e,t,n,r,i,s,a){var l=Oi(e,n),u=Oi(t,n),c=a.get(u);if(c)return void er(e,n,c);var d=s?s(l,u,n+"",e,t,a):o,f=d===o;if(f){var h=Vs(u),p=!h&&Js(u),m=!h&&!p&&ua(u);d=u,h||p||m?Vs(l)?d=l:Gs(l)?d=Io(l):p?(f=!1,d=So(u,!0)):m?(f=!1,d=Eo(u,!0)):d=[]:oa(u)||qs(u)?(d=l,qs(l)?d=va(l):ea(l)&&!Zs(l)||(d=vi(u))):f=!1}f&&(a.set(u,d),i(d,u,r,s,a),a.delete(u));er(e,n,d)}(e,t,a,n,Br,r,i);else{var l=r?r(Oi(e,a),s,a+"",e,t,i):o;l===o&&(l=s),er(e,a,l)}}),Ra)}function qr(e,t){var n=e.length;if(n)return bi(t+=t<0?n:0,n)?e[t]:o}function Vr(e,t,n){t=t.length?Lt(t,(function(e){return Vs(e)?function(t){return kr(t,1===e.length?e[0]:e)}:e})):[rl];var r=-1;t=Lt(t,Xt(ui()));var o=Fr(e,(function(e,n,o){var i=Lt(t,(function(t){return t(e)}));return{criteria:i,index:++r,value:e}}));return function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(o,(function(e,t){return function(e,t,n){var r=-1,o=e.criteria,i=t.criteria,s=o.length,a=n.length;for(;++r<s;){var l=To(o[r],i[r]);if(l)return r>=a?l:l*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)}))}function Hr(e,t,n){for(var r=-1,o=t.length,i={};++r<o;){var s=t[r],a=kr(e,s);n(a,s)&&Xr(i,wo(s,e),a)}return i}function Wr(e,t,n,r){var o=r?Vt:qt,i=-1,s=t.length,a=e;for(e===t&&(t=Io(t)),n&&(a=Lt(e,Xt(n)));++i<s;)for(var l=0,u=t[i],c=n?n(u):u;(l=o(a,c,l,r))>-1;)a!==e&&Ke.call(a,l,1),Ke.call(e,l,1);return e}function Gr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var o=t[n];if(n==r||o!==i){var i=o;bi(o)?Ke.call(e,o,1):fo(e,o)}}return e}function Jr(e,t){return e+pt(_n()*(t-e+1))}function Kr(e,t){var n="";if(!e||t<1||t>p)return n;do{t%2&&(n+=e),(t=pt(t/2))&&(e+=e)}while(t);return n}function Yr(e,t){return Ri(Ti(e,t,rl),e+"")}function Zr(e){return Zn($a(e))}function Qr(e,t){var n=$a(e);return Li(n,ar(t,0,n.length))}function Xr(e,t,n,r){if(!ea(e))return e;for(var i=-1,s=(t=wo(t,e)).length,a=s-1,l=e;null!=l&&++i<s;){var u=Mi(t[i]),c=n;if("__proto__"===u||"constructor"===u||"prototype"===u)return e;if(i!=a){var d=l[u];(c=r?r(d,u,l):o)===o&&(c=ea(d)?d:bi(t[i+1])?[]:{})}tr(l,u,c),l=l[u]}return e}var eo=In?function(e,t){return In.set(e,t),e}:rl,to=Xe?function(e,t){return Xe(e,"toString",{configurable:!0,enumerable:!1,value:el(t),writable:!0})}:rl;function no(e){return Li($a(e))}function ro(e,t,r){var o=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(r=r>i?i:r)<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var s=n(i);++o<i;)s[o]=e[o+t];return s}function oo(e,t){var n;return fr(e,(function(e,r,o){return!(n=t(e,r,o))})),!!n}function io(e,t,n){var r=0,o=null==e?r:e.length;if("number"==typeof t&&t===t&&o<=2147483647){for(;r<o;){var i=r+o>>>1,s=e[i];null!==s&&!la(s)&&(n?s<=t:s<t)?r=i+1:o=i}return o}return so(e,t,rl,n)}function so(e,t,n,r){var i=0,s=null==e?0:e.length;if(0===s)return 0;for(var a=(t=n(t))!==t,l=null===t,u=la(t),c=t===o;i<s;){var d=pt((i+s)/2),f=n(e[d]),h=f!==o,p=null===f,m=f===f,g=la(f);if(a)var v=r||m;else v=c?m&&(r||h):l?m&&h&&(r||!p):u?m&&h&&!p&&(r||!g):!p&&!g&&(r?f<=t:f<t);v?i=d+1:s=d}return bn(s,4294967294)}function ao(e,t){for(var n=-1,r=e.length,o=0,i=[];++n<r;){var s=e[n],a=t?t(s):s;if(!n||!$s(a,l)){var l=a;i[o++]=0===s?0:s}}return i}function lo(e){return"number"==typeof e?e:la(e)?m:+e}function uo(e){if("string"==typeof e)return e;if(Vs(e))return Lt(e,uo)+"";if(la(e))return Fn?Fn.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function co(e,t,n){var r=-1,o=Pt,i=e.length,s=!0,a=[],l=a;if(n)s=!1,o=jt;else if(i>=200){var u=t?null:Yo(e);if(u)return fn(u);s=!1,o=tn,l=new Jn}else l=t?[]:a;e:for(;++r<i;){var c=e[r],d=t?t(c):c;if(c=n||0!==c?c:0,s&&d===d){for(var f=l.length;f--;)if(l[f]===d)continue e;t&&l.push(d),a.push(c)}else o(l,d,n)||(l!==a&&l.push(d),a.push(c))}return a}function fo(e,t){return null==(e=Ai(e,t=wo(t,e)))||delete e[Mi(Yi(t))]}function ho(e,t,n,r){return Xr(e,t,n(kr(e,t)),r)}function po(e,t,n,r){for(var o=e.length,i=r?o:-1;(r?i--:++i<o)&&t(e[i],i,e););return n?ro(e,r?0:i,r?i+1:o):ro(e,r?i+1:0,r?o:i)}function mo(e,t){var n=e;return n instanceof Vn&&(n=n.value()),Mt(t,(function(e,t){return t.func.apply(t.thisArg,Dt([e],t.args))}),n)}function go(e,t,r){var o=e.length;if(o<2)return o?co(e[0]):[];for(var i=-1,s=n(o);++i<o;)for(var a=e[i],l=-1;++l<o;)l!=i&&(s[i]=dr(s[i]||a,e[l],t,r));return co(vr(s,1),t,r)}function vo(e,t,n){for(var r=-1,i=e.length,s=t.length,a={};++r<i;){var l=r<s?t[r]:o;n(a,e[r],l)}return a}function yo(e){return Gs(e)?e:[]}function bo(e){return"function"==typeof e?e:rl}function wo(e,t){return Vs(e)?e:xi(e,t)?[e]:Di(ya(e))}var xo=Yr;function _o(e,t,n){var r=e.length;return n=n===o?r:n,!t&&n>=r?e:ro(e,t,n)}var ko=nt||function(e){return mt.clearTimeout(e)};function So(e,t){if(t)return e.slice();var n=e.length,r=He?He(n):new e.constructor(n);return e.copy(r),r}function Co(e){var t=new e.constructor(e.byteLength);return new Ve(t).set(new Ve(e)),t}function Eo(e,t){var n=t?Co(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function To(e,t){if(e!==t){var n=e!==o,r=null===e,i=e===e,s=la(e),a=t!==o,l=null===t,u=t===t,c=la(t);if(!l&&!c&&!s&&e>t||s&&a&&u&&!l&&!c||r&&a&&u||!n&&u||!i)return 1;if(!r&&!s&&!c&&e<t||c&&n&&i&&!r&&!s||l&&n&&i||!a&&i||!u)return-1}return 0}function Ao(e,t,r,o){for(var i=-1,s=e.length,a=r.length,l=-1,u=t.length,c=Jt(s-a,0),d=n(u+c),f=!o;++l<u;)d[l]=t[l];for(;++i<a;)(f||i<s)&&(d[r[i]]=e[i]);for(;c--;)d[l++]=e[i++];return d}function Oo(e,t,r,o){for(var i=-1,s=e.length,a=-1,l=r.length,u=-1,c=t.length,d=Jt(s-l,0),f=n(d+c),h=!o;++i<d;)f[i]=e[i];for(var p=i;++u<c;)f[p+u]=t[u];for(;++a<l;)(h||i<s)&&(f[p+r[a]]=e[i++]);return f}function Io(e,t){var r=-1,o=e.length;for(t||(t=n(o));++r<o;)t[r]=e[r];return t}function No(e,t,n,r){var i=!n;n||(n={});for(var s=-1,a=t.length;++s<a;){var l=t[s],u=r?r(n[l],e[l],l,n,e):o;u===o&&(u=e[l]),i?ir(n,l,u):tr(n,l,u)}return n}function Ro(e,t){return function(n,r){var o=Vs(n)?At:rr,i=t?t():{};return o(n,e,ui(r,2),i)}}function Po(e){return Yr((function(t,n){var r=-1,i=n.length,s=i>1?n[i-1]:o,a=i>2?n[2]:o;for(s=e.length>3&&"function"==typeof s?(i--,s):o,a&&wi(n[0],n[1],a)&&(s=i<3?o:s,i=1),t=Ee(t);++r<i;){var l=n[r];l&&e(t,l,r,s)}return t}))}function jo(e,t){return function(n,r){if(null==n)return n;if(!Ws(n))return e(n,r);for(var o=n.length,i=t?o:-1,s=Ee(n);(t?i--:++i<o)&&!1!==r(s[i],i,s););return n}}function Lo(e){return function(t,n,r){for(var o=-1,i=Ee(t),s=r(t),a=s.length;a--;){var l=s[e?a:++o];if(!1===n(i[l],l,i))break}return t}}function Do(e){return function(t){var n=ln(t=ya(t))?mn(t):o,r=n?n[0]:t.charAt(0),i=n?_o(n,1).join(""):t.slice(1);return r[e]()+i}}function Mo(e){return function(t){return Mt(Za(qa(t).replace(et,"")),e,"")}}function Uo(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=zn(e.prototype),r=e.apply(n,t);return ea(r)?r:n}}function Fo(e){return function(t,n,r){var i=Ee(t);if(!Ws(t)){var s=ui(n,3);t=Na(t),n=function(e){return s(i[e],e,i)}}var a=e(t,n,r);return a>-1?i[s?t[a]:a]:o}}function $o(e){return ri((function(t){var n=t.length,r=n,s=qn.prototype.thru;for(e&&t.reverse();r--;){var a=t[r];if("function"!=typeof a)throw new Oe(i);if(s&&!l&&"wrapper"==ai(a))var l=new qn([],!0)}for(r=l?r:n;++r<n;){var u=ai(a=t[r]),c="wrapper"==u?si(a):o;l=c&&_i(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?l[ai(c[0])].apply(l,c[3]):1==a.length&&_i(a)?l[u]():l.thru(a)}return function(){var e=arguments,r=e[0];if(l&&1==e.length&&Vs(r))return l.plant(r).value();for(var o=0,i=n?t[o].apply(this,e):r;++o<n;)i=t[o].call(this,i);return i}}))}function zo(e,t,r,i,s,a,l,u,c,f){var h=t&d,p=1&t,m=2&t,g=24&t,v=512&t,y=m?o:Uo(e);return function d(){for(var b=arguments.length,w=n(b),x=b;x--;)w[x]=arguments[x];if(g)var _=li(d),k=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}(w,_);if(i&&(w=Ao(w,i,s,g)),a&&(w=Oo(w,a,l,g)),b-=k,g&&b<f){var S=dn(w,_);return Jo(e,t,zo,d.placeholder,r,w,S,u,c,f-b)}var C=p?r:this,E=m?C[e]:e;return b=w.length,u?w=function(e,t){var n=e.length,r=bn(t.length,n),i=Io(e);for(;r--;){var s=t[r];e[r]=bi(s,n)?i[s]:o}return e}(w,u):v&&b>1&&w.reverse(),h&&c<b&&(w.length=c),this&&this!==mt&&this instanceof d&&(E=y||Uo(E)),E.apply(C,w)}}function Bo(e,t){return function(n,r){return function(e,t,n,r){return wr(e,(function(e,o,i){t(r,n(e),o,i)})),r}(n,e,t(r),{})}}function qo(e,t){return function(n,r){var i;if(n===o&&r===o)return t;if(n!==o&&(i=n),r!==o){if(i===o)return r;"string"==typeof n||"string"==typeof r?(n=uo(n),r=uo(r)):(n=lo(n),r=lo(r)),i=e(n,r)}return i}}function Vo(e){return ri((function(t){return t=Lt(t,Xt(ui())),Yr((function(n){var r=this;return e(t,(function(e){return Tt(e,r,n)}))}))}))}function Ho(e,t){var n=(t=t===o?" ":uo(t)).length;if(n<2)return n?Kr(t,e):t;var r=Kr(t,ht(e/pn(t)));return ln(t)?_o(mn(r),0,e).join(""):r.slice(0,e)}function Wo(e){return function(t,r,i){return i&&"number"!=typeof i&&wi(t,r,i)&&(r=i=o),t=ha(t),r===o?(r=t,t=0):r=ha(r),function(e,t,r,o){for(var i=-1,s=Jt(ht((t-e)/(r||1)),0),a=n(s);s--;)a[o?s:++i]=e,e+=r;return a}(t,r,i=i===o?t<r?1:-1:ha(i),e)}}function Go(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=ga(t),n=ga(n)),e(t,n)}}function Jo(e,t,n,r,i,s,a,l,d,f){var h=8&t;t|=h?u:c,4&(t&=~(h?c:u))||(t&=-4);var p=[e,t,i,h?s:o,h?a:o,h?o:s,h?o:a,l,d,f],m=n.apply(o,p);return _i(e)&&Ii(m,p),m.placeholder=r,Pi(m,e,t)}function Ko(e){var t=Ce[e];return function(e,n){if(e=ga(e),(n=null==n?0:bn(pa(n),292))&&bt(e)){var r=(ya(e)+"e").split("e");return+((r=(ya(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var Yo=Tn&&1/fn(new Tn([,-0]))[1]==h?function(e){return new Tn(e)}:ll;function Zo(e){return function(t){var n=mi(t);return n==C?un(t):n==I?hn(t):function(e,t){return Lt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Qo(e,t,r,s,h,p,m,g){var v=2&t;if(!v&&"function"!=typeof e)throw new Oe(i);var y=s?s.length:0;if(y||(t&=-97,s=h=o),m=m===o?m:Jt(pa(m),0),g=g===o?g:pa(g),y-=h?h.length:0,t&c){var b=s,w=h;s=h=o}var x=v?o:si(e),_=[e,t,r,s,h,b,w,p,m,g];if(x&&function(e,t){var n=e[1],r=t[1],o=n|r,i=o<131,s=r==d&&8==n||r==d&&n==f&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!i&&!s)return e;1&r&&(e[2]=t[2],o|=1&n?0:4);var l=t[3];if(l){var u=e[3];e[3]=u?Ao(u,l,t[4]):l,e[4]=u?dn(e[3],a):t[4]}(l=t[5])&&(u=e[5],e[5]=u?Oo(u,l,t[6]):l,e[6]=u?dn(e[5],a):t[6]);(l=t[7])&&(e[7]=l);r&d&&(e[8]=null==e[8]?t[8]:bn(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=o}(_,x),e=_[0],t=_[1],r=_[2],s=_[3],h=_[4],!(g=_[9]=_[9]===o?v?0:e.length:Jt(_[9]-y,0))&&24&t&&(t&=-25),t&&1!=t)k=8==t||t==l?function(e,t,r){var i=Uo(e);return function s(){for(var a=arguments.length,l=n(a),u=a,c=li(s);u--;)l[u]=arguments[u];var d=a<3&&l[0]!==c&&l[a-1]!==c?[]:dn(l,c);return(a-=d.length)<r?Jo(e,t,zo,s.placeholder,o,l,d,o,o,r-a):Tt(this&&this!==mt&&this instanceof s?i:e,this,l)}}(e,t,g):t!=u&&33!=t||h.length?zo.apply(o,_):function(e,t,r,o){var i=1&t,s=Uo(e);return function t(){for(var a=-1,l=arguments.length,u=-1,c=o.length,d=n(c+l),f=this&&this!==mt&&this instanceof t?s:e;++u<c;)d[u]=o[u];for(;l--;)d[u++]=arguments[++a];return Tt(f,i?r:this,d)}}(e,t,r,s);else var k=function(e,t,n){var r=1&t,o=Uo(e);return function t(){return(this&&this!==mt&&this instanceof t?o:e).apply(r?n:this,arguments)}}(e,t,r);return Pi((x?eo:Ii)(k,_),e,t)}function Xo(e,t,n,r){return e===o||$s(e,Re[n])&&!Le.call(r,n)?t:e}function ei(e,t,n,r,i,s){return ea(e)&&ea(t)&&(s.set(t,e),Br(e,t,o,ei,s),s.delete(t)),e}function ti(e){return oa(e)?o:e}function ni(e,t,n,r,i,s){var a=1&n,l=e.length,u=t.length;if(l!=u&&!(a&&u>l))return!1;var c=s.get(e),d=s.get(t);if(c&&d)return c==t&&d==e;var f=-1,h=!0,p=2&n?new Jn:o;for(s.set(e,t),s.set(t,e);++f<l;){var m=e[f],g=t[f];if(r)var v=a?r(g,m,f,t,e,s):r(m,g,f,e,t,s);if(v!==o){if(v)continue;h=!1;break}if(p){if(!Ft(t,(function(e,t){if(!tn(p,t)&&(m===e||i(m,e,n,r,s)))return p.push(t)}))){h=!1;break}}else if(m!==g&&!i(m,g,n,r,s)){h=!1;break}}return s.delete(e),s.delete(t),h}function ri(e){return Ri(Ti(e,o,Hi),e+"")}function oi(e){return Sr(e,Na,hi)}function ii(e){return Sr(e,Ra,pi)}var si=In?function(e){return In.get(e)}:ll;function ai(e){for(var t=e.name+"",n=Nn[t],r=Le.call(Nn,t)?n.length:0;r--;){var o=n[r],i=o.func;if(null==i||i==e)return o.name}return t}function li(e){return(Le.call($n,"placeholder")?$n:e).placeholder}function ui(){var e=$n.iteratee||ol;return e=e===ol?Lr:e,arguments.length?e(arguments[0],arguments[1]):e}function ci(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function di(e){for(var t=Na(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,Ci(o)]}return t}function fi(e,t){var n=function(e,t){return null==e?o:e[t]}(e,t);return jr(n)?n:o}var hi=gt?function(e){return null==e?[]:(e=Ee(e),Rt(gt(e),(function(t){return Je.call(e,t)})))}:ml,pi=gt?function(e){for(var t=[];e;)Dt(t,hi(e)),e=We(e);return t}:ml,mi=Cr;function gi(e,t,n){for(var r=-1,o=(t=wo(t,e)).length,i=!1;++r<o;){var s=Mi(t[r]);if(!(i=null!=e&&n(e,s)))break;e=e[s]}return i||++r!=o?i:!!(o=null==e?0:e.length)&&Xs(o)&&bi(s,o)&&(Vs(e)||qs(e))}function vi(e){return"function"!=typeof e.constructor||Si(e)?{}:zn(We(e))}function yi(e){return Vs(e)||qs(e)||!!(Ye&&e&&e[Ye])}function bi(e,t){var n=typeof e;return!!(t=null==t?p:t)&&("number"==n||"symbol"!=n&&we.test(e))&&e>-1&&e%1==0&&e<t}function wi(e,t,n){if(!ea(n))return!1;var r=typeof t;return!!("number"==r?Ws(n)&&bi(t,n.length):"string"==r&&t in n)&&$s(n[t],e)}function xi(e,t){if(Vs(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!la(e))||(ne.test(e)||!te.test(e)||null!=t&&e in Ee(t))}function _i(e){var t=ai(e),n=$n[t];if("function"!=typeof n||!(t in Vn.prototype))return!1;if(e===n)return!0;var r=si(n);return!!r&&e===r[0]}(Sn&&mi(new Sn(new ArrayBuffer(1)))!=L||Cn&&mi(new Cn)!=C||En&&mi(En.resolve())!=A||Tn&&mi(new Tn)!=I||An&&mi(new An)!=P)&&(mi=function(e){var t=Cr(e),n=t==T?e.constructor:o,r=n?Ui(n):"";if(r)switch(r){case Rn:return L;case Pn:return C;case jn:return A;case Ln:return I;case Dn:return P}return t});var ki=Pe?Zs:gl;function Si(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Re)}function Ci(e){return e===e&&!ea(e)}function Ei(e,t){return function(n){return null!=n&&(n[e]===t&&(t!==o||e in Ee(n)))}}function Ti(e,t,r){return t=Jt(t===o?e.length-1:t,0),function(){for(var o=arguments,i=-1,s=Jt(o.length-t,0),a=n(s);++i<s;)a[i]=o[t+i];i=-1;for(var l=n(t+1);++i<t;)l[i]=o[i];return l[t]=r(a),Tt(e,this,l)}}function Ai(e,t){return t.length<2?e:kr(e,ro(t,0,-1))}function Oi(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]}var Ii=ji(eo),Ni=ct||function(e,t){return mt.setTimeout(e,t)},Ri=ji(to);function Pi(e,t,n){var r=t+"";return Ri(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(le,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return Ot(v,(function(n){var r="_."+n[0];t&n[1]&&!Pt(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(ue);return t?t[1].split(ce):[]}(r),n)))}function ji(e){var t=0,n=0;return function(){var r=wn(),i=16-(r-n);if(n=r,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(o,arguments)}}function Li(e,t){var n=-1,r=e.length,i=r-1;for(t=t===o?r:t;++n<t;){var s=Jr(n,i),a=e[s];e[s]=e[n],e[n]=a}return e.length=t,e}var Di=function(e){var t=js(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(re,(function(e,n,r,o){t.push(r?o.replace(he,"$1"):n||e)})),t}));function Mi(e){if("string"==typeof e||la(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Ui(e){if(null!=e){try{return je.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function Fi(e){if(e instanceof Vn)return e.clone();var t=new qn(e.__wrapped__,e.__chain__);return t.__actions__=Io(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var $i=Yr((function(e,t){return Gs(e)?dr(e,vr(t,1,Gs,!0)):[]})),zi=Yr((function(e,t){var n=Yi(t);return Gs(n)&&(n=o),Gs(e)?dr(e,vr(t,1,Gs,!0),ui(n,2)):[]})),Bi=Yr((function(e,t){var n=Yi(t);return Gs(n)&&(n=o),Gs(e)?dr(e,vr(t,1,Gs,!0),o,n):[]}));function qi(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=null==n?0:pa(n);return o<0&&(o=Jt(r+o,0)),Bt(e,ui(t,3),o)}function Vi(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r-1;return n!==o&&(i=pa(n),i=n<0?Jt(r+i,0):bn(i,r-1)),Bt(e,ui(t,3),i,!0)}function Hi(e){return(null==e?0:e.length)?vr(e,1):[]}function Wi(e){return e&&e.length?e[0]:o}var Gi=Yr((function(e){var t=Lt(e,yo);return t.length&&t[0]===e[0]?Or(t):[]})),Ji=Yr((function(e){var t=Yi(e),n=Lt(e,yo);return t===Yi(n)?t=o:n.pop(),n.length&&n[0]===e[0]?Or(n,ui(t,2)):[]})),Ki=Yr((function(e){var t=Yi(e),n=Lt(e,yo);return(t="function"==typeof t?t:o)&&n.pop(),n.length&&n[0]===e[0]?Or(n,o,t):[]}));function Yi(e){var t=null==e?0:e.length;return t?e[t-1]:o}var Zi=Yr(Qi);function Qi(e,t){return e&&e.length&&t&&t.length?Wr(e,t):e}var Xi=ri((function(e,t){var n=null==e?0:e.length,r=sr(e,t);return Gr(e,Lt(t,(function(e){return bi(e,n)?+e:e})).sort(To)),r}));function es(e){return null==e?e:kn.call(e)}var ts=Yr((function(e){return co(vr(e,1,Gs,!0))})),ns=Yr((function(e){var t=Yi(e);return Gs(t)&&(t=o),co(vr(e,1,Gs,!0),ui(t,2))})),rs=Yr((function(e){var t=Yi(e);return t="function"==typeof t?t:o,co(vr(e,1,Gs,!0),o,t)}));function os(e){if(!e||!e.length)return[];var t=0;return e=Rt(e,(function(e){if(Gs(e))return t=Jt(e.length,t),!0})),Zt(t,(function(t){return Lt(e,Gt(t))}))}function is(e,t){if(!e||!e.length)return[];var n=os(e);return null==t?n:Lt(n,(function(e){return Tt(t,o,e)}))}var ss=Yr((function(e,t){return Gs(e)?dr(e,t):[]})),as=Yr((function(e){return go(Rt(e,Gs))})),ls=Yr((function(e){var t=Yi(e);return Gs(t)&&(t=o),go(Rt(e,Gs),ui(t,2))})),us=Yr((function(e){var t=Yi(e);return t="function"==typeof t?t:o,go(Rt(e,Gs),o,t)})),cs=Yr(os);var ds=Yr((function(e){var t=e.length,n=t>1?e[t-1]:o;return n="function"==typeof n?(e.pop(),n):o,is(e,n)}));function fs(e){var t=$n(e);return t.__chain__=!0,t}function hs(e,t){return t(e)}var ps=ri((function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,i=function(t){return sr(t,e)};return!(t>1||this.__actions__.length)&&r instanceof Vn&&bi(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:hs,args:[i],thisArg:o}),new qn(r,this.__chain__).thru((function(e){return t&&!e.length&&e.push(o),e}))):this.thru(i)}));var ms=Ro((function(e,t,n){Le.call(e,n)?++e[n]:ir(e,n,1)}));var gs=Fo(qi),vs=Fo(Vi);function ys(e,t){return(Vs(e)?Ot:fr)(e,ui(t,3))}function bs(e,t){return(Vs(e)?It:hr)(e,ui(t,3))}var ws=Ro((function(e,t,n){Le.call(e,n)?e[n].push(t):ir(e,n,[t])}));var xs=Yr((function(e,t,r){var o=-1,i="function"==typeof t,s=Ws(e)?n(e.length):[];return fr(e,(function(e){s[++o]=i?Tt(t,e,r):Ir(e,t,r)})),s})),_s=Ro((function(e,t,n){ir(e,n,t)}));function ks(e,t){return(Vs(e)?Lt:Fr)(e,ui(t,3))}var Ss=Ro((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]}));var Cs=Yr((function(e,t){if(null==e)return[];var n=t.length;return n>1&&wi(e,t[0],t[1])?t=[]:n>2&&wi(t[0],t[1],t[2])&&(t=[t[0]]),Vr(e,vr(t,1),[])})),Es=ot||function(){return mt.Date.now()};function Ts(e,t,n){return t=n?o:t,t=e&&null==t?e.length:t,Qo(e,d,o,o,o,o,t)}function As(e,t){var n;if("function"!=typeof t)throw new Oe(i);return e=pa(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=o),n}}var Os=Yr((function(e,t,n){var r=1;if(n.length){var o=dn(n,li(Os));r|=u}return Qo(e,r,t,n,o)})),Is=Yr((function(e,t,n){var r=3;if(n.length){var o=dn(n,li(Is));r|=u}return Qo(t,r,e,n,o)}));function Ns(e,t,n){var r,s,a,l,u,c,d=0,f=!1,h=!1,p=!0;if("function"!=typeof e)throw new Oe(i);function m(t){var n=r,i=s;return r=s=o,d=t,l=e.apply(i,n)}function g(e){var n=e-c;return c===o||n>=t||n<0||h&&e-d>=a}function v(){var e=Es();if(g(e))return y(e);u=Ni(v,function(e){var n=t-(e-c);return h?bn(n,a-(e-d)):n}(e))}function y(e){return u=o,p&&r?m(e):(r=s=o,l)}function b(){var e=Es(),n=g(e);if(r=arguments,s=this,c=e,n){if(u===o)return function(e){return d=e,u=Ni(v,t),f?m(e):l}(c);if(h)return ko(u),u=Ni(v,t),m(c)}return u===o&&(u=Ni(v,t)),l}return t=ga(t)||0,ea(n)&&(f=!!n.leading,a=(h="maxWait"in n)?Jt(ga(n.maxWait)||0,t):a,p="trailing"in n?!!n.trailing:p),b.cancel=function(){u!==o&&ko(u),d=0,r=c=s=u=o},b.flush=function(){return u===o?l:y(Es())},b}var Rs=Yr((function(e,t){return cr(e,1,t)})),Ps=Yr((function(e,t,n){return cr(e,ga(t)||0,n)}));function js(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Oe(i);var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var s=e.apply(this,r);return n.cache=i.set(o,s)||i,s};return n.cache=new(js.Cache||Gn),n}function Ls(e){if("function"!=typeof e)throw new Oe(i);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}js.Cache=Gn;var Ds=xo((function(e,t){var n=(t=1==t.length&&Vs(t[0])?Lt(t[0],Xt(ui())):Lt(vr(t,1),Xt(ui()))).length;return Yr((function(r){for(var o=-1,i=bn(r.length,n);++o<i;)r[o]=t[o].call(this,r[o]);return Tt(e,this,r)}))})),Ms=Yr((function(e,t){var n=dn(t,li(Ms));return Qo(e,u,o,t,n)})),Us=Yr((function(e,t){var n=dn(t,li(Us));return Qo(e,c,o,t,n)})),Fs=ri((function(e,t){return Qo(e,f,o,o,o,t)}));function $s(e,t){return e===t||e!==e&&t!==t}var zs=Go(Er),Bs=Go((function(e,t){return e>=t})),qs=Nr(function(){return arguments}())?Nr:function(e){return ta(e)&&Le.call(e,"callee")&&!Je.call(e,"callee")},Vs=n.isArray,Hs=xt?Xt(xt):function(e){return ta(e)&&Cr(e)==j};function Ws(e){return null!=e&&Xs(e.length)&&!Zs(e)}function Gs(e){return ta(e)&&Ws(e)}var Js=vt||gl,Ks=_t?Xt(_t):function(e){return ta(e)&&Cr(e)==x};function Ys(e){if(!ta(e))return!1;var t=Cr(e);return t==_||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!oa(e)}function Zs(e){if(!ea(e))return!1;var t=Cr(e);return t==k||t==S||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Qs(e){return"number"==typeof e&&e==pa(e)}function Xs(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=p}function ea(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function ta(e){return null!=e&&"object"==typeof e}var na=kt?Xt(kt):function(e){return ta(e)&&mi(e)==C};function ra(e){return"number"==typeof e||ta(e)&&Cr(e)==E}function oa(e){if(!ta(e)||Cr(e)!=T)return!1;var t=We(e);if(null===t)return!0;var n=Le.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&je.call(n)==Fe}var ia=St?Xt(St):function(e){return ta(e)&&Cr(e)==O};var sa=Ct?Xt(Ct):function(e){return ta(e)&&mi(e)==I};function aa(e){return"string"==typeof e||!Vs(e)&&ta(e)&&Cr(e)==N}function la(e){return"symbol"==typeof e||ta(e)&&Cr(e)==R}var ua=Et?Xt(Et):function(e){return ta(e)&&Xs(e.length)&&!!lt[Cr(e)]};var ca=Go(Ur),da=Go((function(e,t){return e<=t}));function fa(e){if(!e)return[];if(Ws(e))return aa(e)?mn(e):Io(e);if(Ze&&e[Ze])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Ze]());var t=mi(e);return(t==C?un:t==I?fn:$a)(e)}function ha(e){return e?(e=ga(e))===h||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0}function pa(e){var t=ha(e),n=t%1;return t===t?n?t-n:t:0}function ma(e){return e?ar(pa(e),0,g):0}function ga(e){if("number"==typeof e)return e;if(la(e))return m;if(ea(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=ea(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Qt(e);var n=ve.test(e);return n||be.test(e)?ft(e.slice(2),n?2:8):ge.test(e)?m:+e}function va(e){return No(e,Ra(e))}function ya(e){return null==e?"":uo(e)}var ba=Po((function(e,t){if(Si(t)||Ws(t))No(t,Na(t),e);else for(var n in t)Le.call(t,n)&&tr(e,n,t[n])})),wa=Po((function(e,t){No(t,Ra(t),e)})),xa=Po((function(e,t,n,r){No(t,Ra(t),e,r)})),_a=Po((function(e,t,n,r){No(t,Na(t),e,r)})),ka=ri(sr);var Sa=Yr((function(e,t){e=Ee(e);var n=-1,r=t.length,i=r>2?t[2]:o;for(i&&wi(t[0],t[1],i)&&(r=1);++n<r;)for(var s=t[n],a=Ra(s),l=-1,u=a.length;++l<u;){var c=a[l],d=e[c];(d===o||$s(d,Re[c])&&!Le.call(e,c))&&(e[c]=s[c])}return e})),Ca=Yr((function(e){return e.push(o,ei),Tt(ja,o,e)}));function Ea(e,t,n){var r=null==e?o:kr(e,t);return r===o?n:r}function Ta(e,t){return null!=e&&gi(e,t,Ar)}var Aa=Bo((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Ue.call(t)),e[t]=n}),el(rl)),Oa=Bo((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Ue.call(t)),Le.call(e,t)?e[t].push(n):e[t]=[n]}),ui),Ia=Yr(Ir);function Na(e){return Ws(e)?Yn(e):Dr(e)}function Ra(e){return Ws(e)?Yn(e,!0):Mr(e)}var Pa=Po((function(e,t,n){Br(e,t,n)})),ja=Po((function(e,t,n,r){Br(e,t,n,r)})),La=ri((function(e,t){var n={};if(null==e)return n;var r=!1;t=Lt(t,(function(t){return t=wo(t,e),r||(r=t.length>1),t})),No(e,ii(e),n),r&&(n=lr(n,7,ti));for(var o=t.length;o--;)fo(n,t[o]);return n}));var Da=ri((function(e,t){return null==e?{}:function(e,t){return Hr(e,t,(function(t,n){return Ta(e,n)}))}(e,t)}));function Ma(e,t){if(null==e)return{};var n=Lt(ii(e),(function(e){return[e]}));return t=ui(t),Hr(e,n,(function(e,n){return t(e,n[0])}))}var Ua=Zo(Na),Fa=Zo(Ra);function $a(e){return null==e?[]:en(e,Na(e))}var za=Mo((function(e,t,n){return t=t.toLowerCase(),e+(n?Ba(t):t)}));function Ba(e){return Ya(ya(e).toLowerCase())}function qa(e){return(e=ya(e))&&e.replace(xe,on).replace(tt,"")}var Va=Mo((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Ha=Mo((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),Wa=Do("toLowerCase");var Ga=Mo((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));var Ja=Mo((function(e,t,n){return e+(n?" ":"")+Ya(t)}));var Ka=Mo((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Ya=Do("toUpperCase");function Za(e,t,n){return e=ya(e),(t=n?o:t)===o?function(e){return it.test(e)}(e)?function(e){return e.match(rt)||[]}(e):function(e){return e.match(de)||[]}(e):e.match(t)||[]}var Qa=Yr((function(e,t){try{return Tt(e,o,t)}catch(n){return Ys(n)?n:new ae(n)}})),Xa=ri((function(e,t){return Ot(t,(function(t){t=Mi(t),ir(e,t,Os(e[t],e))})),e}));function el(e){return function(){return e}}var tl=$o(),nl=$o(!0);function rl(e){return e}function ol(e){return Lr("function"==typeof e?e:lr(e,1))}var il=Yr((function(e,t){return function(n){return Ir(n,e,t)}})),sl=Yr((function(e,t){return function(n){return Ir(e,n,t)}}));function al(e,t,n){var r=Na(t),o=_r(t,r);null!=n||ea(t)&&(o.length||!r.length)||(n=t,t=e,e=this,o=_r(t,Na(t)));var i=!(ea(n)&&"chain"in n)||!!n.chain,s=Zs(e);return Ot(o,(function(n){var r=t[n];e[n]=r,s&&(e.prototype[n]=function(){var t=this.__chain__;if(i||t){var n=e(this.__wrapped__);return(n.__actions__=Io(this.__actions__)).push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,Dt([this.value()],arguments))})})),e}function ll(){}var ul=Vo(Lt),cl=Vo(Nt),dl=Vo(Ft);function fl(e){return xi(e)?Gt(Mi(e)):function(e){return function(t){return kr(t,e)}}(e)}var hl=Wo(),pl=Wo(!0);function ml(){return[]}function gl(){return!1}var vl=qo((function(e,t){return e+t}),0),yl=Ko("ceil"),bl=qo((function(e,t){return e/t}),1),wl=Ko("floor");var xl=qo((function(e,t){return e*t}),1),_l=Ko("round"),kl=qo((function(e,t){return e-t}),0);return $n.after=function(e,t){if("function"!=typeof t)throw new Oe(i);return e=pa(e),function(){if(--e<1)return t.apply(this,arguments)}},$n.ary=Ts,$n.assign=ba,$n.assignIn=wa,$n.assignInWith=xa,$n.assignWith=_a,$n.at=ka,$n.before=As,$n.bind=Os,$n.bindAll=Xa,$n.bindKey=Is,$n.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Vs(e)?e:[e]},$n.chain=fs,$n.chunk=function(e,t,r){t=(r?wi(e,t,r):t===o)?1:Jt(pa(t),0);var i=null==e?0:e.length;if(!i||t<1)return[];for(var s=0,a=0,l=n(ht(i/t));s<i;)l[a++]=ro(e,s,s+=t);return l},$n.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,o=[];++t<n;){var i=e[t];i&&(o[r++]=i)}return o},$n.concat=function(){var e=arguments.length;if(!e)return[];for(var t=n(e-1),r=arguments[0],o=e;o--;)t[o-1]=arguments[o];return Dt(Vs(r)?Io(r):[r],vr(t,1))},$n.cond=function(e){var t=null==e?0:e.length,n=ui();return e=t?Lt(e,(function(e){if("function"!=typeof e[1])throw new Oe(i);return[n(e[0]),e[1]]})):[],Yr((function(n){for(var r=-1;++r<t;){var o=e[r];if(Tt(o[0],this,n))return Tt(o[1],this,n)}}))},$n.conforms=function(e){return function(e){var t=Na(e);return function(n){return ur(n,e,t)}}(lr(e,1))},$n.constant=el,$n.countBy=ms,$n.create=function(e,t){var n=zn(e);return null==t?n:or(n,t)},$n.curry=function e(t,n,r){var i=Qo(t,8,o,o,o,o,o,n=r?o:n);return i.placeholder=e.placeholder,i},$n.curryRight=function e(t,n,r){var i=Qo(t,l,o,o,o,o,o,n=r?o:n);return i.placeholder=e.placeholder,i},$n.debounce=Ns,$n.defaults=Sa,$n.defaultsDeep=Ca,$n.defer=Rs,$n.delay=Ps,$n.difference=$i,$n.differenceBy=zi,$n.differenceWith=Bi,$n.drop=function(e,t,n){var r=null==e?0:e.length;return r?ro(e,(t=n||t===o?1:pa(t))<0?0:t,r):[]},$n.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?ro(e,0,(t=r-(t=n||t===o?1:pa(t)))<0?0:t):[]},$n.dropRightWhile=function(e,t){return e&&e.length?po(e,ui(t,3),!0,!0):[]},$n.dropWhile=function(e,t){return e&&e.length?po(e,ui(t,3),!0):[]},$n.fill=function(e,t,n,r){var i=null==e?0:e.length;return i?(n&&"number"!=typeof n&&wi(e,t,n)&&(n=0,r=i),function(e,t,n,r){var i=e.length;for((n=pa(n))<0&&(n=-n>i?0:i+n),(r=r===o||r>i?i:pa(r))<0&&(r+=i),r=n>r?0:ma(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},$n.filter=function(e,t){return(Vs(e)?Rt:gr)(e,ui(t,3))},$n.flatMap=function(e,t){return vr(ks(e,t),1)},$n.flatMapDeep=function(e,t){return vr(ks(e,t),h)},$n.flatMapDepth=function(e,t,n){return n=n===o?1:pa(n),vr(ks(e,t),n)},$n.flatten=Hi,$n.flattenDeep=function(e){return(null==e?0:e.length)?vr(e,h):[]},$n.flattenDepth=function(e,t){return(null==e?0:e.length)?vr(e,t=t===o?1:pa(t)):[]},$n.flip=function(e){return Qo(e,512)},$n.flow=tl,$n.flowRight=nl,$n.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var o=e[t];r[o[0]]=o[1]}return r},$n.functions=function(e){return null==e?[]:_r(e,Na(e))},$n.functionsIn=function(e){return null==e?[]:_r(e,Ra(e))},$n.groupBy=ws,$n.initial=function(e){return(null==e?0:e.length)?ro(e,0,-1):[]},$n.intersection=Gi,$n.intersectionBy=Ji,$n.intersectionWith=Ki,$n.invert=Aa,$n.invertBy=Oa,$n.invokeMap=xs,$n.iteratee=ol,$n.keyBy=_s,$n.keys=Na,$n.keysIn=Ra,$n.map=ks,$n.mapKeys=function(e,t){var n={};return t=ui(t,3),wr(e,(function(e,r,o){ir(n,t(e,r,o),e)})),n},$n.mapValues=function(e,t){var n={};return t=ui(t,3),wr(e,(function(e,r,o){ir(n,r,t(e,r,o))})),n},$n.matches=function(e){return $r(lr(e,1))},$n.matchesProperty=function(e,t){return zr(e,lr(t,1))},$n.memoize=js,$n.merge=Pa,$n.mergeWith=ja,$n.method=il,$n.methodOf=sl,$n.mixin=al,$n.negate=Ls,$n.nthArg=function(e){return e=pa(e),Yr((function(t){return qr(t,e)}))},$n.omit=La,$n.omitBy=function(e,t){return Ma(e,Ls(ui(t)))},$n.once=function(e){return As(2,e)},$n.orderBy=function(e,t,n,r){return null==e?[]:(Vs(t)||(t=null==t?[]:[t]),Vs(n=r?o:n)||(n=null==n?[]:[n]),Vr(e,t,n))},$n.over=ul,$n.overArgs=Ds,$n.overEvery=cl,$n.overSome=dl,$n.partial=Ms,$n.partialRight=Us,$n.partition=Ss,$n.pick=Da,$n.pickBy=Ma,$n.property=fl,$n.propertyOf=function(e){return function(t){return null==e?o:kr(e,t)}},$n.pull=Zi,$n.pullAll=Qi,$n.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Wr(e,t,ui(n,2)):e},$n.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?Wr(e,t,o,n):e},$n.pullAt=Xi,$n.range=hl,$n.rangeRight=pl,$n.rearg=Fs,$n.reject=function(e,t){return(Vs(e)?Rt:gr)(e,Ls(ui(t,3)))},$n.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,o=[],i=e.length;for(t=ui(t,3);++r<i;){var s=e[r];t(s,r,e)&&(n.push(s),o.push(r))}return Gr(e,o),n},$n.rest=function(e,t){if("function"!=typeof e)throw new Oe(i);return Yr(e,t=t===o?t:pa(t))},$n.reverse=es,$n.sampleSize=function(e,t,n){return t=(n?wi(e,t,n):t===o)?1:pa(t),(Vs(e)?Qn:Qr)(e,t)},$n.set=function(e,t,n){return null==e?e:Xr(e,t,n)},$n.setWith=function(e,t,n,r){return r="function"==typeof r?r:o,null==e?e:Xr(e,t,n,r)},$n.shuffle=function(e){return(Vs(e)?Xn:no)(e)},$n.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&wi(e,t,n)?(t=0,n=r):(t=null==t?0:pa(t),n=n===o?r:pa(n)),ro(e,t,n)):[]},$n.sortBy=Cs,$n.sortedUniq=function(e){return e&&e.length?ao(e):[]},$n.sortedUniqBy=function(e,t){return e&&e.length?ao(e,ui(t,2)):[]},$n.split=function(e,t,n){return n&&"number"!=typeof n&&wi(e,t,n)&&(t=n=o),(n=n===o?g:n>>>0)?(e=ya(e))&&("string"==typeof t||null!=t&&!ia(t))&&!(t=uo(t))&&ln(e)?_o(mn(e),0,n):e.split(t,n):[]},$n.spread=function(e,t){if("function"!=typeof e)throw new Oe(i);return t=null==t?0:Jt(pa(t),0),Yr((function(n){var r=n[t],o=_o(n,0,t);return r&&Dt(o,r),Tt(e,this,o)}))},$n.tail=function(e){var t=null==e?0:e.length;return t?ro(e,1,t):[]},$n.take=function(e,t,n){return e&&e.length?ro(e,0,(t=n||t===o?1:pa(t))<0?0:t):[]},$n.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?ro(e,(t=r-(t=n||t===o?1:pa(t)))<0?0:t,r):[]},$n.takeRightWhile=function(e,t){return e&&e.length?po(e,ui(t,3),!1,!0):[]},$n.takeWhile=function(e,t){return e&&e.length?po(e,ui(t,3)):[]},$n.tap=function(e,t){return t(e),e},$n.throttle=function(e,t,n){var r=!0,o=!0;if("function"!=typeof e)throw new Oe(i);return ea(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),Ns(e,t,{leading:r,maxWait:t,trailing:o})},$n.thru=hs,$n.toArray=fa,$n.toPairs=Ua,$n.toPairsIn=Fa,$n.toPath=function(e){return Vs(e)?Lt(e,Mi):la(e)?[e]:Io(Di(ya(e)))},$n.toPlainObject=va,$n.transform=function(e,t,n){var r=Vs(e),o=r||Js(e)||ua(e);if(t=ui(t,4),null==n){var i=e&&e.constructor;n=o?r?new i:[]:ea(e)&&Zs(i)?zn(We(e)):{}}return(o?Ot:wr)(e,(function(e,r,o){return t(n,e,r,o)})),n},$n.unary=function(e){return Ts(e,1)},$n.union=ts,$n.unionBy=ns,$n.unionWith=rs,$n.uniq=function(e){return e&&e.length?co(e):[]},$n.uniqBy=function(e,t){return e&&e.length?co(e,ui(t,2)):[]},$n.uniqWith=function(e,t){return t="function"==typeof t?t:o,e&&e.length?co(e,o,t):[]},$n.unset=function(e,t){return null==e||fo(e,t)},$n.unzip=os,$n.unzipWith=is,$n.update=function(e,t,n){return null==e?e:ho(e,t,bo(n))},$n.updateWith=function(e,t,n,r){return r="function"==typeof r?r:o,null==e?e:ho(e,t,bo(n),r)},$n.values=$a,$n.valuesIn=function(e){return null==e?[]:en(e,Ra(e))},$n.without=ss,$n.words=Za,$n.wrap=function(e,t){return Ms(bo(t),e)},$n.xor=as,$n.xorBy=ls,$n.xorWith=us,$n.zip=cs,$n.zipObject=function(e,t){return vo(e||[],t||[],tr)},$n.zipObjectDeep=function(e,t){return vo(e||[],t||[],Xr)},$n.zipWith=ds,$n.entries=Ua,$n.entriesIn=Fa,$n.extend=wa,$n.extendWith=xa,al($n,$n),$n.add=vl,$n.attempt=Qa,$n.camelCase=za,$n.capitalize=Ba,$n.ceil=yl,$n.clamp=function(e,t,n){return n===o&&(n=t,t=o),n!==o&&(n=(n=ga(n))===n?n:0),t!==o&&(t=(t=ga(t))===t?t:0),ar(ga(e),t,n)},$n.clone=function(e){return lr(e,4)},$n.cloneDeep=function(e){return lr(e,5)},$n.cloneDeepWith=function(e,t){return lr(e,5,t="function"==typeof t?t:o)},$n.cloneWith=function(e,t){return lr(e,4,t="function"==typeof t?t:o)},$n.conformsTo=function(e,t){return null==t||ur(e,t,Na(t))},$n.deburr=qa,$n.defaultTo=function(e,t){return null==e||e!==e?t:e},$n.divide=bl,$n.endsWith=function(e,t,n){e=ya(e),t=uo(t);var r=e.length,i=n=n===o?r:ar(pa(n),0,r);return(n-=t.length)>=0&&e.slice(n,i)==t},$n.eq=$s,$n.escape=function(e){return(e=ya(e))&&Z.test(e)?e.replace(K,sn):e},$n.escapeRegExp=function(e){return(e=ya(e))&&ie.test(e)?e.replace(oe,"\\$&"):e},$n.every=function(e,t,n){var r=Vs(e)?Nt:pr;return n&&wi(e,t,n)&&(t=o),r(e,ui(t,3))},$n.find=gs,$n.findIndex=qi,$n.findKey=function(e,t){return zt(e,ui(t,3),wr)},$n.findLast=vs,$n.findLastIndex=Vi,$n.findLastKey=function(e,t){return zt(e,ui(t,3),xr)},$n.floor=wl,$n.forEach=ys,$n.forEachRight=bs,$n.forIn=function(e,t){return null==e?e:yr(e,ui(t,3),Ra)},$n.forInRight=function(e,t){return null==e?e:br(e,ui(t,3),Ra)},$n.forOwn=function(e,t){return e&&wr(e,ui(t,3))},$n.forOwnRight=function(e,t){return e&&xr(e,ui(t,3))},$n.get=Ea,$n.gt=zs,$n.gte=Bs,$n.has=function(e,t){return null!=e&&gi(e,t,Tr)},$n.hasIn=Ta,$n.head=Wi,$n.identity=rl,$n.includes=function(e,t,n,r){e=Ws(e)?e:$a(e),n=n&&!r?pa(n):0;var o=e.length;return n<0&&(n=Jt(o+n,0)),aa(e)?n<=o&&e.indexOf(t,n)>-1:!!o&&qt(e,t,n)>-1},$n.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=null==n?0:pa(n);return o<0&&(o=Jt(r+o,0)),qt(e,t,o)},$n.inRange=function(e,t,n){return t=ha(t),n===o?(n=t,t=0):n=ha(n),function(e,t,n){return e>=bn(t,n)&&e<Jt(t,n)}(e=ga(e),t,n)},$n.invoke=Ia,$n.isArguments=qs,$n.isArray=Vs,$n.isArrayBuffer=Hs,$n.isArrayLike=Ws,$n.isArrayLikeObject=Gs,$n.isBoolean=function(e){return!0===e||!1===e||ta(e)&&Cr(e)==w},$n.isBuffer=Js,$n.isDate=Ks,$n.isElement=function(e){return ta(e)&&1===e.nodeType&&!oa(e)},$n.isEmpty=function(e){if(null==e)return!0;if(Ws(e)&&(Vs(e)||"string"==typeof e||"function"==typeof e.splice||Js(e)||ua(e)||qs(e)))return!e.length;var t=mi(e);if(t==C||t==I)return!e.size;if(Si(e))return!Dr(e).length;for(var n in e)if(Le.call(e,n))return!1;return!0},$n.isEqual=function(e,t){return Rr(e,t)},$n.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:o)?n(e,t):o;return r===o?Rr(e,t,o,n):!!r},$n.isError=Ys,$n.isFinite=function(e){return"number"==typeof e&&bt(e)},$n.isFunction=Zs,$n.isInteger=Qs,$n.isLength=Xs,$n.isMap=na,$n.isMatch=function(e,t){return e===t||Pr(e,t,di(t))},$n.isMatchWith=function(e,t,n){return n="function"==typeof n?n:o,Pr(e,t,di(t),n)},$n.isNaN=function(e){return ra(e)&&e!=+e},$n.isNative=function(e){if(ki(e))throw new ae("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return jr(e)},$n.isNil=function(e){return null==e},$n.isNull=function(e){return null===e},$n.isNumber=ra,$n.isObject=ea,$n.isObjectLike=ta,$n.isPlainObject=oa,$n.isRegExp=ia,$n.isSafeInteger=function(e){return Qs(e)&&e>=-9007199254740991&&e<=p},$n.isSet=sa,$n.isString=aa,$n.isSymbol=la,$n.isTypedArray=ua,$n.isUndefined=function(e){return e===o},$n.isWeakMap=function(e){return ta(e)&&mi(e)==P},$n.isWeakSet=function(e){return ta(e)&&"[object WeakSet]"==Cr(e)},$n.join=function(e,t){return null==e?"":wt.call(e,t)},$n.kebabCase=Va,$n.last=Yi,$n.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r;return n!==o&&(i=(i=pa(n))<0?Jt(r+i,0):bn(i,r-1)),t===t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,i):Bt(e,Ht,i,!0)},$n.lowerCase=Ha,$n.lowerFirst=Wa,$n.lt=ca,$n.lte=da,$n.max=function(e){return e&&e.length?mr(e,rl,Er):o},$n.maxBy=function(e,t){return e&&e.length?mr(e,ui(t,2),Er):o},$n.mean=function(e){return Wt(e,rl)},$n.meanBy=function(e,t){return Wt(e,ui(t,2))},$n.min=function(e){return e&&e.length?mr(e,rl,Ur):o},$n.minBy=function(e,t){return e&&e.length?mr(e,ui(t,2),Ur):o},$n.stubArray=ml,$n.stubFalse=gl,$n.stubObject=function(){return{}},$n.stubString=function(){return""},$n.stubTrue=function(){return!0},$n.multiply=xl,$n.nth=function(e,t){return e&&e.length?qr(e,pa(t)):o},$n.noConflict=function(){return mt._===this&&(mt._=$e),this},$n.noop=ll,$n.now=Es,$n.pad=function(e,t,n){e=ya(e);var r=(t=pa(t))?pn(e):0;if(!t||r>=t)return e;var o=(t-r)/2;return Ho(pt(o),n)+e+Ho(ht(o),n)},$n.padEnd=function(e,t,n){e=ya(e);var r=(t=pa(t))?pn(e):0;return t&&r<t?e+Ho(t-r,n):e},$n.padStart=function(e,t,n){e=ya(e);var r=(t=pa(t))?pn(e):0;return t&&r<t?Ho(t-r,n)+e:e},$n.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),xn(ya(e).replace(se,""),t||0)},$n.random=function(e,t,n){if(n&&"boolean"!=typeof n&&wi(e,t,n)&&(t=n=o),n===o&&("boolean"==typeof t?(n=t,t=o):"boolean"==typeof e&&(n=e,e=o)),e===o&&t===o?(e=0,t=1):(e=ha(e),t===o?(t=e,e=0):t=ha(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var i=_n();return bn(e+i*(t-e+dt("1e-"+((i+"").length-1))),t)}return Jr(e,t)},$n.reduce=function(e,t,n){var r=Vs(e)?Mt:Kt,o=arguments.length<3;return r(e,ui(t,4),n,o,fr)},$n.reduceRight=function(e,t,n){var r=Vs(e)?Ut:Kt,o=arguments.length<3;return r(e,ui(t,4),n,o,hr)},$n.repeat=function(e,t,n){return t=(n?wi(e,t,n):t===o)?1:pa(t),Kr(ya(e),t)},$n.replace=function(){var e=arguments,t=ya(e[0]);return e.length<3?t:t.replace(e[1],e[2])},$n.result=function(e,t,n){var r=-1,i=(t=wo(t,e)).length;for(i||(i=1,e=o);++r<i;){var s=null==e?o:e[Mi(t[r])];s===o&&(r=i,s=n),e=Zs(s)?s.call(e):s}return e},$n.round=_l,$n.runInContext=e,$n.sample=function(e){return(Vs(e)?Zn:Zr)(e)},$n.size=function(e){if(null==e)return 0;if(Ws(e))return aa(e)?pn(e):e.length;var t=mi(e);return t==C||t==I?e.size:Dr(e).length},$n.snakeCase=Ga,$n.some=function(e,t,n){var r=Vs(e)?Ft:oo;return n&&wi(e,t,n)&&(t=o),r(e,ui(t,3))},$n.sortedIndex=function(e,t){return io(e,t)},$n.sortedIndexBy=function(e,t,n){return so(e,t,ui(n,2))},$n.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=io(e,t);if(r<n&&$s(e[r],t))return r}return-1},$n.sortedLastIndex=function(e,t){return io(e,t,!0)},$n.sortedLastIndexBy=function(e,t,n){return so(e,t,ui(n,2),!0)},$n.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=io(e,t,!0)-1;if($s(e[n],t))return n}return-1},$n.startCase=Ja,$n.startsWith=function(e,t,n){return e=ya(e),n=null==n?0:ar(pa(n),0,e.length),t=uo(t),e.slice(n,n+t.length)==t},$n.subtract=kl,$n.sum=function(e){return e&&e.length?Yt(e,rl):0},$n.sumBy=function(e,t){return e&&e.length?Yt(e,ui(t,2)):0},$n.template=function(e,t,n){var r=$n.templateSettings;n&&wi(e,t,n)&&(t=o),e=ya(e),t=xa({},t,r,Xo);var i,s,a=xa({},t.imports,r.imports,Xo),l=Na(a),u=en(a,l),c=0,d=t.interpolate||_e,f="__p += '",h=Te((t.escape||_e).source+"|"+d.source+"|"+(d===ee?pe:_e).source+"|"+(t.evaluate||_e).source+"|$","g"),p="//# sourceURL="+(Le.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++at+"]")+"\n";e.replace(h,(function(t,n,r,o,a,l){return r||(r=o),f+=e.slice(c,l).replace(ke,an),n&&(i=!0,f+="' +\n__e("+n+") +\n'"),a&&(s=!0,f+="';\n"+a+";\n__p += '"),r&&(f+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=l+t.length,t})),f+="';\n";var m=Le.call(t,"variable")&&t.variable;if(m){if(fe.test(m))throw new ae("Invalid `variable` option passed into `_.template`")}else f="with (obj) {\n"+f+"\n}\n";f=(s?f.replace(H,""):f).replace(W,"$1").replace(G,"$1;"),f="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var g=Qa((function(){return Se(l,p+"return "+f).apply(o,u)}));if(g.source=f,Ys(g))throw g;return g},$n.times=function(e,t){if((e=pa(e))<1||e>p)return[];var n=g,r=bn(e,g);t=ui(t),e-=g;for(var o=Zt(r,t);++n<e;)t(n);return o},$n.toFinite=ha,$n.toInteger=pa,$n.toLength=ma,$n.toLower=function(e){return ya(e).toLowerCase()},$n.toNumber=ga,$n.toSafeInteger=function(e){return e?ar(pa(e),-9007199254740991,p):0===e?e:0},$n.toString=ya,$n.toUpper=function(e){return ya(e).toUpperCase()},$n.trim=function(e,t,n){if((e=ya(e))&&(n||t===o))return Qt(e);if(!e||!(t=uo(t)))return e;var r=mn(e),i=mn(t);return _o(r,nn(r,i),rn(r,i)+1).join("")},$n.trimEnd=function(e,t,n){if((e=ya(e))&&(n||t===o))return e.slice(0,gn(e)+1);if(!e||!(t=uo(t)))return e;var r=mn(e);return _o(r,0,rn(r,mn(t))+1).join("")},$n.trimStart=function(e,t,n){if((e=ya(e))&&(n||t===o))return e.replace(se,"");if(!e||!(t=uo(t)))return e;var r=mn(e);return _o(r,nn(r,mn(t))).join("")},$n.truncate=function(e,t){var n=30,r="...";if(ea(t)){var i="separator"in t?t.separator:i;n="length"in t?pa(t.length):n,r="omission"in t?uo(t.omission):r}var s=(e=ya(e)).length;if(ln(e)){var a=mn(e);s=a.length}if(n>=s)return e;var l=n-pn(r);if(l<1)return r;var u=a?_o(a,0,l).join(""):e.slice(0,l);if(i===o)return u+r;if(a&&(l+=u.length-l),ia(i)){if(e.slice(l).search(i)){var c,d=u;for(i.global||(i=Te(i.source,ya(me.exec(i))+"g")),i.lastIndex=0;c=i.exec(d);)var f=c.index;u=u.slice(0,f===o?l:f)}}else if(e.indexOf(uo(i),l)!=l){var h=u.lastIndexOf(i);h>-1&&(u=u.slice(0,h))}return u+r},$n.unescape=function(e){return(e=ya(e))&&Y.test(e)?e.replace(J,vn):e},$n.uniqueId=function(e){var t=++De;return ya(e)+t},$n.upperCase=Ka,$n.upperFirst=Ya,$n.each=ys,$n.eachRight=bs,$n.first=Wi,al($n,function(){var e={};return wr($n,(function(t,n){Le.call($n.prototype,n)||(e[n]=t)})),e}(),{chain:!1}),$n.VERSION="4.17.21",Ot(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){$n[e].placeholder=$n})),Ot(["drop","take"],(function(e,t){Vn.prototype[e]=function(n){n=n===o?1:Jt(pa(n),0);var r=this.__filtered__&&!t?new Vn(this):this.clone();return r.__filtered__?r.__takeCount__=bn(n,r.__takeCount__):r.__views__.push({size:bn(n,g),type:e+(r.__dir__<0?"Right":"")}),r},Vn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),Ot(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;Vn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:ui(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),Ot(["head","last"],(function(e,t){var n="take"+(t?"Right":"");Vn.prototype[e]=function(){return this[n](1).value()[0]}})),Ot(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");Vn.prototype[e]=function(){return this.__filtered__?new Vn(this):this[n](1)}})),Vn.prototype.compact=function(){return this.filter(rl)},Vn.prototype.find=function(e){return this.filter(e).head()},Vn.prototype.findLast=function(e){return this.reverse().find(e)},Vn.prototype.invokeMap=Yr((function(e,t){return"function"==typeof e?new Vn(this):this.map((function(n){return Ir(n,e,t)}))})),Vn.prototype.reject=function(e){return this.filter(Ls(ui(e)))},Vn.prototype.slice=function(e,t){e=pa(e);var n=this;return n.__filtered__&&(e>0||t<0)?new Vn(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==o&&(n=(t=pa(t))<0?n.dropRight(-t):n.take(t-e)),n)},Vn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Vn.prototype.toArray=function(){return this.take(g)},wr(Vn.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),i=$n[r?"take"+("last"==t?"Right":""):t],s=r||/^find/.test(t);i&&($n.prototype[t]=function(){var t=this.__wrapped__,a=r?[1]:arguments,l=t instanceof Vn,u=a[0],c=l||Vs(t),d=function(e){var t=i.apply($n,Dt([e],a));return r&&f?t[0]:t};c&&n&&"function"==typeof u&&1!=u.length&&(l=c=!1);var f=this.__chain__,h=!!this.__actions__.length,p=s&&!f,m=l&&!h;if(!s&&c){t=m?t:new Vn(this);var g=e.apply(t,a);return g.__actions__.push({func:hs,args:[d],thisArg:o}),new qn(g,f)}return p&&m?e.apply(this,a):(g=this.thru(d),p?r?g.value()[0]:g.value():g)})})),Ot(["pop","push","shift","sort","splice","unshift"],(function(e){var t=Ie[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);$n.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var o=this.value();return t.apply(Vs(o)?o:[],e)}return this[n]((function(n){return t.apply(Vs(n)?n:[],e)}))}})),wr(Vn.prototype,(function(e,t){var n=$n[t];if(n){var r=n.name+"";Le.call(Nn,r)||(Nn[r]=[]),Nn[r].push({name:t,func:n})}})),Nn[zo(o,2).name]=[{name:"wrapper",func:o}],Vn.prototype.clone=function(){var e=new Vn(this.__wrapped__);return e.__actions__=Io(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Io(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Io(this.__views__),e},Vn.prototype.reverse=function(){if(this.__filtered__){var e=new Vn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Vn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Vs(e),r=t<0,o=n?e.length:0,i=function(e,t,n){var r=-1,o=n.length;for(;++r<o;){var i=n[r],s=i.size;switch(i.type){case"drop":e+=s;break;case"dropRight":t-=s;break;case"take":t=bn(t,e+s);break;case"takeRight":e=Jt(e,t-s)}}return{start:e,end:t}}(0,o,this.__views__),s=i.start,a=i.end,l=a-s,u=r?a:s-1,c=this.__iteratees__,d=c.length,f=0,h=bn(l,this.__takeCount__);if(!n||!r&&o==l&&h==l)return mo(e,this.__actions__);var p=[];e:for(;l--&&f<h;){for(var m=-1,g=e[u+=t];++m<d;){var v=c[m],y=v.iteratee,b=v.type,w=y(g);if(2==b)g=w;else if(!w){if(1==b)continue e;break e}}p[f++]=g}return p},$n.prototype.at=ps,$n.prototype.chain=function(){return fs(this)},$n.prototype.commit=function(){return new qn(this.value(),this.__chain__)},$n.prototype.next=function(){this.__values__===o&&(this.__values__=fa(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?o:this.__values__[this.__index__++]}},$n.prototype.plant=function(e){for(var t,n=this;n instanceof Bn;){var r=Fi(n);r.__index__=0,r.__values__=o,t?i.__wrapped__=r:t=r;var i=r;n=n.__wrapped__}return i.__wrapped__=e,t},$n.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Vn){var t=e;return this.__actions__.length&&(t=new Vn(this)),(t=t.reverse()).__actions__.push({func:hs,args:[es],thisArg:o}),new qn(t,this.__chain__)}return this.thru(es)},$n.prototype.toJSON=$n.prototype.valueOf=$n.prototype.value=function(){return mo(this.__wrapped__,this.__actions__)},$n.prototype.first=$n.prototype.head,Ze&&($n.prototype[Ze]=function(){return this}),$n}();mt._=yn,(r=function(){return yn}.call(t,n,t,e))===o||(e.exports=r)}.call(this)},2730:(e,t,n)=>{"use strict";var r=n(5043),o=n(8853);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function l(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(a[e]=t,e=0;e<t.length;e++)s.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},p={};function m(e,t,n,r,o,i,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var o=g.hasOwnProperty(t)?g[t]:null;(null!==o?0!==o.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,o,r)&&(n=null),r||null===o?function(e){return!!d.call(p,e)||!d.call(h,e)&&(f.test(e)?p[e]=!0:(h[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=null===n?3!==o.type&&"":n:(t=o.attributeName,r=o.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(o=o.type)||4===o&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=Symbol.for("react.element"),_=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),T=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var P=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var j=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=j&&e[j]||e["@@iterator"])?e:null}var D,M=Object.assign;function U(e){if(void 0===D)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);D=t&&t[1]||""}return"\n"+D+e}var F=!1;function $(e,t){if(!e||F)return"";F=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var o=u.stack.split("\n"),i=r.stack.split("\n"),s=o.length-1,a=i.length-1;1<=s&&0<=a&&o[s]!==i[a];)a--;for(;1<=s&&0<=a;s--,a--)if(o[s]!==i[a]){if(1!==s||1!==a)do{if(s--,0>--a||o[s]!==i[a]){var l="\n"+o[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=s&&0<=a);break}}}finally{F=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?U(e):""}function z(e){switch(e.tag){case 5:return U(e.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return e=$(e.type,!1);case 11:return e=$(e.type.render,!1);case 1:return e=$(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case k:return"Fragment";case _:return"Portal";case C:return"Profiler";case S:return"StrictMode";case O:return"Suspense";case I:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case A:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case N:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function V(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function J(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function K(e,t){var n=t.checked;return M({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=V(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Z(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function Q(e,t){Z(e,t);var n=V(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,V(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function X(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&J(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+V(n),t=null,o=0;o<e.length;o++){if(e[o].value===n)return e[o].selected=!0,void(r&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(i(91));return M({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function oe(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(i(92));if(te(n)){if(1<n.length)throw Error(i(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:V(n)}}function ie(e,t){var n=V(t.value),r=V(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ue,ce,de=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ue=ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function fe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),o=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}Object.keys(he).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]}))}));var ve=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(i(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(i(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(i(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function xe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var _e=null,ke=null,Se=null;function Ce(e){if(e=wo(e)){if("function"!==typeof _e)throw Error(i(280));var t=e.stateNode;t&&(t=_o(t),_e(e.stateNode,e.type,t))}}function Ee(e){ke?Se?Se.push(e):Se=[e]:ke=e}function Te(){if(ke){var e=ke,t=Se;if(Se=ke=null,Ce(e),t)for(e=0;e<t.length;e++)Ce(t[e])}}function Ae(e,t){return e(t)}function Oe(){}var Ie=!1;function Ne(e,t,n){if(Ie)return e(t,n);Ie=!0;try{return Ae(e,t,n)}finally{Ie=!1,(null!==ke||null!==Se)&&(Oe(),Te())}}function Re(e,t){var n=e.stateNode;if(null===n)return null;var r=_o(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(i(231,t,typeof n));return n}var Pe=!1;if(c)try{var je={};Object.defineProperty(je,"passive",{get:function(){Pe=!0}}),window.addEventListener("test",je,je),window.removeEventListener("test",je,je)}catch(ce){Pe=!1}function Le(e,t,n,r,o,i,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var De=!1,Me=null,Ue=!1,Fe=null,$e={onError:function(e){De=!0,Me=e}};function ze(e,t,n,r,o,i,s,a,l){De=!1,Me=null,Le.apply($e,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ve(e){if(Be(e)!==e)throw Error(i(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(null===o)break;var s=o.alternate;if(null===s){if(null!==(r=o.return)){n=r;continue}break}if(o.child===s.child){for(s=o.child;s;){if(s===n)return Ve(o),e;if(s===r)return Ve(o),t;s=s.sibling}throw Error(i(188))}if(n.return!==r.return)n=o,r=s;else{for(var a=!1,l=o.child;l;){if(l===n){a=!0,n=o,r=s;break}if(l===r){a=!0,r=o,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,r=o;break}if(l===r){a=!0,r=s,n=o;break}l=l.sibling}if(!a)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(e))?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var Ge=o.unstable_scheduleCallback,Je=o.unstable_cancelCallback,Ke=o.unstable_shouldYield,Ye=o.unstable_requestPaint,Ze=o.unstable_now,Qe=o.unstable_getCurrentPriorityLevel,Xe=o.unstable_ImmediatePriority,et=o.unstable_UserBlockingPriority,tt=o.unstable_NormalPriority,nt=o.unstable_LowPriority,rt=o.unstable_IdlePriority,ot=null,it=null;var st=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/lt|0)|0},at=Math.log,lt=Math.LN2;var ut=64,ct=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ft(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,o=e.suspendedLanes,i=e.pingedLanes,s=268435455&n;if(0!==s){var a=s&~o;0!==a?r=dt(a):0!==(i&=s)&&(r=dt(i))}else 0!==(s=n&~o)?r=dt(s):0!==i&&(r=dt(i));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&o)&&((o=r&-r)>=(i=t&-t)||16===o&&0!==(4194240&i)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)o=1<<(n=31-st(t)),r|=e[n],t&=~o;return r}function ht(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ut;return 0===(4194240&(ut<<=1))&&(ut=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-st(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var xt,_t,kt,St,Ct,Et=!1,Tt=[],At=null,Ot=null,It=null,Nt=new Map,Rt=new Map,Pt=[],jt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":At=null;break;case"dragenter":case"dragleave":Ot=null;break;case"mouseover":case"mouseout":It=null;break;case"pointerover":case"pointerout":Nt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rt.delete(t.pointerId)}}function Dt(e,t,n,r,o,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},null!==t&&(null!==(t=wo(t))&&_t(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==o&&-1===t.indexOf(o)&&t.push(o),e)}function Mt(e){var t=bo(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void Ct(e.priority,(function(){kt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ut(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Kt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=wo(n))&&_t(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Ft(e,t,n){Ut(e)&&n.delete(t)}function $t(){Et=!1,null!==At&&Ut(At)&&(At=null),null!==Ot&&Ut(Ot)&&(Ot=null),null!==It&&Ut(It)&&(It=null),Nt.forEach(Ft),Rt.forEach(Ft)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,Et||(Et=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,$t)))}function Bt(e){function t(t){return zt(t,e)}if(0<Tt.length){zt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==At&&zt(At,e),null!==Ot&&zt(Ot,e),null!==It&&zt(It,e),Nt.forEach(t),Rt.forEach(t),n=0;n<Pt.length;n++)(r=Pt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Pt.length&&null===(n=Pt[0]).blockedOn;)Mt(n),null===n.blockedOn&&Pt.shift()}var qt=w.ReactCurrentBatchConfig,Vt=!0;function Ht(e,t,n,r){var o=bt,i=qt.transition;qt.transition=null;try{bt=1,Gt(e,t,n,r)}finally{bt=o,qt.transition=i}}function Wt(e,t,n,r){var o=bt,i=qt.transition;qt.transition=null;try{bt=4,Gt(e,t,n,r)}finally{bt=o,qt.transition=i}}function Gt(e,t,n,r){if(Vt){var o=Kt(e,t,n,r);if(null===o)Vr(e,t,r,Jt,n),Lt(e,r);else if(function(e,t,n,r,o){switch(t){case"focusin":return At=Dt(At,e,t,n,r,o),!0;case"dragenter":return Ot=Dt(Ot,e,t,n,r,o),!0;case"mouseover":return It=Dt(It,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return Nt.set(i,Dt(Nt.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,Rt.set(i,Dt(Rt.get(i)||null,e,t,n,r,o)),!0}return!1}(o,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<jt.indexOf(e)){for(;null!==o;){var i=wo(o);if(null!==i&&xt(i),null===(i=Kt(e,t,n,r))&&Vr(e,t,r,Jt,n),i===o)break;o=i}null!==o&&r.stopPropagation()}else Vr(e,t,r,null,n)}}var Jt=null;function Kt(e,t,n,r){if(Jt=null,null!==(e=bo(e=xe(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Jt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Qe()){case Xe:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Zt=null,Qt=null,Xt=null;function en(){if(Xt)return Xt;var e,t,n=Qt,r=n.length,o="value"in Zt?Zt.value:Zt.textContent,i=o.length;for(e=0;e<r&&n[e]===o[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===o[i-t];t++);return Xt=o.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,o,i){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(o):o[s]);return this.isDefaultPrevented=(null!=o.defaultPrevented?o.defaultPrevented:!1===o.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var sn,an,ln,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=on(un),dn=M({},un,{view:0,detail:0}),fn=on(dn),hn=M({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(sn=e.screenX-ln.screenX,an=e.screenY-ln.screenY):an=sn=0,ln=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:an}}),pn=on(hn),mn=on(M({},hn,{dataTransfer:0})),gn=on(M({},dn,{relatedTarget:0})),vn=on(M({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=M({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=on(yn),wn=on(M({},un,{data:0})),xn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_n={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kn[e])&&!!t[e]}function Cn(){return Sn}var En=M({},dn,{key:function(e){if(e.key){var t=xn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?_n[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=on(En),An=on(M({},hn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),On=on(M({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),In=on(M({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),Nn=M({},hn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rn=on(Nn),Pn=[9,13,27,32],jn=c&&"CompositionEvent"in window,Ln=null;c&&"documentMode"in document&&(Ln=document.documentMode);var Dn=c&&"TextEvent"in window&&!Ln,Mn=c&&(!jn||Ln&&8<Ln&&11>=Ln),Un=String.fromCharCode(32),Fn=!1;function $n(e,t){switch(e){case"keyup":return-1!==Pn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Hn(e,t,n,r){Ee(r),0<(t=Wr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,Gn=null;function Jn(e){Ur(e,0)}function Kn(e){if(G(xo(e)))return e}function Yn(e,t){if("change"===e)return t}var Zn=!1;if(c){var Qn;if(c){var Xn="oninput"in document;if(!Xn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Xn="function"===typeof er.oninput}Qn=Xn}else Qn=!1;Zn=Qn&&(!document.documentMode||9<document.documentMode)}function tr(){Wn&&(Wn.detachEvent("onpropertychange",nr),Gn=Wn=null)}function nr(e){if("value"===e.propertyName&&Kn(Gn)){var t=[];Hn(t,Gn,e,xe(e)),Ne(Jn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Wn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function or(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Kn(Gn)}function ir(e,t){if("click"===e)return Kn(t)}function sr(e,t){if("input"===e||"change"===e)return Kn(t)}var ar="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(ar(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!d.call(t,o)||!ar(e[o],t[o]))return!1}return!0}function ur(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=ur(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ur(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fr(){for(var e=window,t=J();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=J((e=t.contentWindow).document)}return t}function hr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=fr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&hr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var o=n.textContent.length,i=Math.min(r.start,o);r=void 0===r.end?i:Math.min(r.end,o),!e.extend&&i>r&&(o=r,r=i,i=o),o=cr(n,i);var s=cr(n,r);o&&s&&(1!==e.rangeCount||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(o.node,o.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=c&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,yr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==J(r)||("selectionStart"in(r=gr)&&hr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=Wr(vr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function xr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _r={animationend:xr("Animation","AnimationEnd"),animationiteration:xr("Animation","AnimationIteration"),animationstart:xr("Animation","AnimationStart"),transitionend:xr("Transition","TransitionEnd")},kr={},Sr={};function Cr(e){if(kr[e])return kr[e];if(!_r[e])return e;var t,n=_r[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return kr[e]=n[t];return e}c&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete _r.animationend.animation,delete _r.animationiteration.animation,delete _r.animationstart.animation),"TransitionEvent"in window||delete _r.transitionend.transition);var Er=Cr("animationend"),Tr=Cr("animationiteration"),Ar=Cr("animationstart"),Or=Cr("transitionend"),Ir=new Map,Nr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(e,t){Ir.set(e,t),l(t,[e])}for(var Pr=0;Pr<Nr.length;Pr++){var jr=Nr[Pr];Rr(jr.toLowerCase(),"on"+(jr[0].toUpperCase()+jr.slice(1)))}Rr(Er,"onAnimationEnd"),Rr(Tr,"onAnimationIteration"),Rr(Ar,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(Or,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Mr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,o,s,a,l,u){if(ze.apply(this,arguments),De){if(!De)throw Error(i(198));var c=Me;De=!1,Me=null,Ue||(Ue=!0,Fe=c)}}(r,t,void 0,e),e.currentTarget=null}function Ur(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&o.isPropagationStopped())break e;Mr(o,a,u),i=l}else for(s=0;s<r.length;s++){if(l=(a=r[s]).instance,u=a.currentTarget,a=a.listener,l!==i&&o.isPropagationStopped())break e;Mr(o,a,u),i=l}}}if(Ue)throw e=Fe,Ue=!1,Fe=null,e}function Fr(e,t){var n=t[go];void 0===n&&(n=t[go]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function $r(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[zr]){e[zr]=!0,s.forEach((function(t){"selectionchange"!==t&&(Dr.has(t)||$r(t,!1,e),$r(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,$r("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Yt(t)){case 1:var o=Ht;break;case 4:o=Wt;break;default:o=Gt}n=o.bind(null,t,n,e),o=void 0,!Pe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(o=!0),r?void 0!==o?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):void 0!==o?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Vr(e,t,n,r,o){var i=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var a=r.stateNode.containerInfo;if(a===o||8===a.nodeType&&a.parentNode===o)break;if(4===s)for(s=r.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===o||8===l.nodeType&&l.parentNode===o))return;s=s.return}for(;null!==a;){if(null===(s=bo(a)))return;if(5===(l=s.tag)||6===l){r=i=s;continue e}a=a.parentNode}}r=r.return}Ne((function(){var r=i,o=xe(n),s=[];e:{var a=Ir.get(e);if(void 0!==a){var l=cn,u=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Tn;break;case"focusin":u="focus",l=gn;break;case"focusout":u="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=On;break;case Er:case Tr:case Ar:l=vn;break;case Or:l=In;break;case"scroll":l=fn;break;case"wheel":l=Rn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=An}var c=0!==(4&t),d=!c&&"scroll"===e,f=c?null!==a?a+"Capture":null:a;c=[];for(var h,p=r;null!==p;){var m=(h=p).stateNode;if(5===h.tag&&null!==m&&(h=m,null!==f&&(null!=(m=Re(p,f))&&c.push(Hr(p,m,h)))),d)break;p=p.return}0<c.length&&(a=new l(a,u,null,n,o),s.push({event:a,listeners:c}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===we||!(u=n.relatedTarget||n.fromElement)||!bo(u)&&!u[mo])&&(l||a)&&(a=o.window===o?o:(a=o.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?bo(u):null)&&(u!==(d=Be(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=pn,m="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=An,m="onPointerLeave",f="onPointerEnter",p="pointer"),d=null==l?a:xo(l),h=null==u?a:xo(u),(a=new c(m,p+"leave",l,n,o)).target=d,a.relatedTarget=h,m=null,bo(o)===r&&((c=new c(f,p+"enter",u,n,o)).target=h,c.relatedTarget=d,m=c),d=m,l&&u)e:{for(f=u,p=0,h=c=l;h;h=Gr(h))p++;for(h=0,m=f;m;m=Gr(m))h++;for(;0<p-h;)c=Gr(c),p--;for(;0<h-p;)f=Gr(f),h--;for(;p--;){if(c===f||null!==f&&c===f.alternate)break e;c=Gr(c),f=Gr(f)}c=null}else c=null;null!==l&&Jr(s,a,l,c,!1),null!==u&&null!==d&&Jr(s,d,u,c,!0)}if("select"===(l=(a=r?xo(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var g=Yn;else if(Vn(a))if(Zn)g=sr;else{g=or;var v=rr}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=ir);switch(g&&(g=g(e,r))?Hn(s,g,n,o):(v&&v(e,a,r),"focusout"===e&&(v=a._wrapperState)&&v.controlled&&"number"===a.type&&ee(a,"number",a.value)),v=r?xo(r):window,e){case"focusin":(Vn(v)||"true"===v.contentEditable)&&(gr=v,vr=r,yr=null);break;case"focusout":yr=vr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(s,n,o);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":wr(s,n,o)}var y;if(jn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Bn?$n(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Mn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Bn&&(y=en()):(Qt="value"in(Zt=o)?Zt.value:Zt.textContent,Bn=!0)),0<(v=Wr(r,b)).length&&(b=new wn(b,e,null,n,o),s.push({event:b,listeners:v}),y?b.data=y:null!==(y=zn(n))&&(b.data=y))),(y=Dn?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Fn=!0,Un);case"textInput":return(e=t.data)===Un&&Fn?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!jn&&$n(e,t)?(e=en(),Xt=Qt=Zt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Wr(r,"onBeforeInput")).length&&(o=new wn("onBeforeInput","beforeinput",null,n,o),s.push({event:o,listeners:r}),o.data=y))}Ur(s,t)}))}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wr(e,t){for(var n=t+"Capture",r=[];null!==e;){var o=e,i=o.stateNode;5===o.tag&&null!==i&&(o=i,null!=(i=Re(e,n))&&r.unshift(Hr(e,i,o)),null!=(i=Re(e,t))&&r.push(Hr(e,i,o))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Jr(e,t,n,r,o){for(var i=t._reactName,s=[];null!==n&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==u&&(a=u,o?null!=(l=Re(n,i))&&s.unshift(Hr(n,l,a)):o||null!=(l=Re(n,i))&&s.push(Hr(n,l,a))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Kr=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Zr(e){return("string"===typeof e?e:""+e).replace(Kr,"\n").replace(Yr,"")}function Qr(e,t,n){if(t=Zr(t),Zr(e)!==t&&n)throw Error(i(425))}function Xr(){}var eo=null,to=null;function no(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ro="function"===typeof setTimeout?setTimeout:void 0,oo="function"===typeof clearTimeout?clearTimeout:void 0,io="function"===typeof Promise?Promise:void 0,so="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof io?function(e){return io.resolve(null).then(e).catch(ao)}:ro;function ao(e){setTimeout((function(){throw e}))}function lo(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&8===o.nodeType)if("/$"===(n=o.data)){if(0===r)return e.removeChild(o),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=o}while(n);Bt(t)}function uo(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function co(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fo=Math.random().toString(36).slice(2),ho="__reactFiber$"+fo,po="__reactProps$"+fo,mo="__reactContainer$"+fo,go="__reactEvents$"+fo,vo="__reactListeners$"+fo,yo="__reactHandles$"+fo;function bo(e){var t=e[ho];if(t)return t;for(var n=e.parentNode;n;){if(t=n[mo]||n[ho]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=co(e);null!==e;){if(n=e[ho])return n;e=co(e)}return t}n=(e=n).parentNode}return null}function wo(e){return!(e=e[ho]||e[mo])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function xo(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(i(33))}function _o(e){return e[po]||null}var ko=[],So=-1;function Co(e){return{current:e}}function Eo(e){0>So||(e.current=ko[So],ko[So]=null,So--)}function To(e,t){So++,ko[So]=e.current,e.current=t}var Ao={},Oo=Co(Ao),Io=Co(!1),No=Ao;function Ro(e,t){var n=e.type.contextTypes;if(!n)return Ao;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o,i={};for(o in n)i[o]=t[o];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Po(e){return null!==(e=e.childContextTypes)&&void 0!==e}function jo(){Eo(Io),Eo(Oo)}function Lo(e,t,n){if(Oo.current!==Ao)throw Error(i(168));To(Oo,t),To(Io,n)}function Do(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in t))throw Error(i(108,q(e)||"Unknown",o));return M({},n,r)}function Mo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ao,No=Oo.current,To(Oo,e),To(Io,Io.current),!0}function Uo(e,t,n){var r=e.stateNode;if(!r)throw Error(i(169));n?(e=Do(e,t,No),r.__reactInternalMemoizedMergedChildContext=e,Eo(Io),Eo(Oo),To(Oo,e)):Eo(Io),To(Io,n)}var Fo=null,$o=!1,zo=!1;function Bo(e){null===Fo?Fo=[e]:Fo.push(e)}function qo(){if(!zo&&null!==Fo){zo=!0;var e=0,t=bt;try{var n=Fo;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fo=null,$o=!1}catch(o){throw null!==Fo&&(Fo=Fo.slice(e+1)),Ge(Xe,qo),o}finally{bt=t,zo=!1}}return null}var Vo=[],Ho=0,Wo=null,Go=0,Jo=[],Ko=0,Yo=null,Zo=1,Qo="";function Xo(e,t){Vo[Ho++]=Go,Vo[Ho++]=Wo,Wo=e,Go=t}function ei(e,t,n){Jo[Ko++]=Zo,Jo[Ko++]=Qo,Jo[Ko++]=Yo,Yo=e;var r=Zo;e=Qo;var o=32-st(r)-1;r&=~(1<<o),n+=1;var i=32-st(t)+o;if(30<i){var s=o-o%5;i=(r&(1<<s)-1).toString(32),r>>=s,o-=s,Zo=1<<32-st(t)+o|n<<o|r,Qo=i+e}else Zo=1<<i|n<<o|r,Qo=e}function ti(e){null!==e.return&&(Xo(e,1),ei(e,1,0))}function ni(e){for(;e===Wo;)Wo=Vo[--Ho],Vo[Ho]=null,Go=Vo[--Ho],Vo[Ho]=null;for(;e===Yo;)Yo=Jo[--Ko],Jo[Ko]=null,Qo=Jo[--Ko],Jo[Ko]=null,Zo=Jo[--Ko],Jo[Ko]=null}var ri=null,oi=null,ii=!1,si=null;function ai(e,t){var n=Nu(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function li(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ri=e,oi=uo(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ri=e,oi=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yo?{id:Zo,overflow:Qo}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Nu(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ri=e,oi=null,!0);default:return!1}}function ui(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ci(e){if(ii){var t=oi;if(t){var n=t;if(!li(e,t)){if(ui(e))throw Error(i(418));t=uo(n.nextSibling);var r=ri;t&&li(e,t)?ai(r,n):(e.flags=-4097&e.flags|2,ii=!1,ri=e)}}else{if(ui(e))throw Error(i(418));e.flags=-4097&e.flags|2,ii=!1,ri=e}}}function di(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ri=e}function fi(e){if(e!==ri)return!1;if(!ii)return di(e),ii=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!no(e.type,e.memoizedProps)),t&&(t=oi)){if(ui(e))throw hi(),Error(i(418));for(;t;)ai(e,t),t=uo(t.nextSibling)}if(di(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){oi=uo(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}oi=null}}else oi=ri?uo(e.stateNode.nextSibling):null;return!0}function hi(){for(var e=oi;e;)e=uo(e.nextSibling)}function pi(){oi=ri=null,ii=!1}function mi(e){null===si?si=[e]:si.push(e)}var gi=w.ReactCurrentBatchConfig;function vi(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(i(309));var r=n.stateNode}if(!r)throw Error(i(147,e));var o=r,s=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=o.refs;null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!==typeof e)throw Error(i(284));if(!n._owner)throw Error(i(290,e))}return e}function yi(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bi(e){return(0,e._init)(e._payload)}function wi(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function o(e,t){return(e=Pu(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Mu(n,e.mode,r)).return=e,t):((t=o(t,n)).return=e,t)}function u(e,t,n,r){var i=n.type;return i===k?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===R&&bi(i)===t.type)?((r=o(t,n.props)).ref=vi(e,t,n),r.return=e,r):((r=ju(n.type,n.key,n.props,null,e.mode,r)).ref=vi(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Uu(n,e.mode,r)).return=e,t):((t=o(t,n.children||[])).return=e,t)}function d(e,t,n,r,i){return null===t||7!==t.tag?((t=Lu(n,e.mode,r,i)).return=e,t):((t=o(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Mu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=ju(t.type,t.key,t.props,null,e.mode,n)).ref=vi(e,null,t),n.return=e,n;case _:return(t=Uu(t,e.mode,n)).return=e,t;case R:return f(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Lu(t,e.mode,n,null)).return=e,t;yi(e,t)}return null}function h(e,t,n,r){var o=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==o?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===o?u(e,t,n,r):null;case _:return n.key===o?c(e,t,n,r):null;case R:return h(e,t,(o=n._init)(n._payload),r)}if(te(n)||L(n))return null!==o?null:d(e,t,n,r,null);yi(e,n)}return null}function p(e,t,n,r,o){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,o);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return u(t,e=e.get(null===r.key?n:r.key)||null,r,o);case _:return c(t,e=e.get(null===r.key?n:r.key)||null,r,o);case R:return p(e,t,n,(0,r._init)(r._payload),o)}if(te(r)||L(r))return d(t,e=e.get(n)||null,r,o,null);yi(t,r)}return null}function m(o,i,a,l){for(var u=null,c=null,d=i,m=i=0,g=null;null!==d&&m<a.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=h(o,d,a[m],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(o,d),i=s(v,i,m),null===c?u=v:c.sibling=v,c=v,d=g}if(m===a.length)return n(o,d),ii&&Xo(o,m),u;if(null===d){for(;m<a.length;m++)null!==(d=f(o,a[m],l))&&(i=s(d,i,m),null===c?u=d:c.sibling=d,c=d);return ii&&Xo(o,m),u}for(d=r(o,d);m<a.length;m++)null!==(g=p(d,o,m,a[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),i=s(g,i,m),null===c?u=g:c.sibling=g,c=g);return e&&d.forEach((function(e){return t(o,e)})),ii&&Xo(o,m),u}function g(o,a,l,u){var c=L(l);if("function"!==typeof c)throw Error(i(150));if(null==(l=c.call(l)))throw Error(i(151));for(var d=c=null,m=a,g=a=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=h(o,m,y.value,u);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(o,m),a=s(b,a,g),null===d?c=b:d.sibling=b,d=b,m=v}if(y.done)return n(o,m),ii&&Xo(o,g),c;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=f(o,y.value,u))&&(a=s(y,a,g),null===d?c=y:d.sibling=y,d=y);return ii&&Xo(o,g),c}for(m=r(o,m);!y.done;g++,y=l.next())null!==(y=p(m,o,g,y.value,u))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),a=s(y,a,g),null===d?c=y:d.sibling=y,d=y);return e&&m.forEach((function(e){return t(o,e)})),ii&&Xo(o,g),c}return function e(r,i,s,l){if("object"===typeof s&&null!==s&&s.type===k&&null===s.key&&(s=s.props.children),"object"===typeof s&&null!==s){switch(s.$$typeof){case x:e:{for(var u=s.key,c=i;null!==c;){if(c.key===u){if((u=s.type)===k){if(7===c.tag){n(r,c.sibling),(i=o(c,s.props.children)).return=r,r=i;break e}}else if(c.elementType===u||"object"===typeof u&&null!==u&&u.$$typeof===R&&bi(u)===c.type){n(r,c.sibling),(i=o(c,s.props)).ref=vi(r,c,s),i.return=r,r=i;break e}n(r,c);break}t(r,c),c=c.sibling}s.type===k?((i=Lu(s.props.children,r.mode,l,s.key)).return=r,r=i):((l=ju(s.type,s.key,s.props,null,r.mode,l)).ref=vi(r,i,s),l.return=r,r=l)}return a(r);case _:e:{for(c=s.key;null!==i;){if(i.key===c){if(4===i.tag&&i.stateNode.containerInfo===s.containerInfo&&i.stateNode.implementation===s.implementation){n(r,i.sibling),(i=o(i,s.children||[])).return=r,r=i;break e}n(r,i);break}t(r,i),i=i.sibling}(i=Uu(s,r.mode,l)).return=r,r=i}return a(r);case R:return e(r,i,(c=s._init)(s._payload),l)}if(te(s))return m(r,i,s,l);if(L(s))return g(r,i,s,l);yi(r,s)}return"string"===typeof s&&""!==s||"number"===typeof s?(s=""+s,null!==i&&6===i.tag?(n(r,i.sibling),(i=o(i,s)).return=r,r=i):(n(r,i),(i=Mu(s,r.mode,l)).return=r,r=i),a(r)):n(r,i)}}var xi=wi(!0),_i=wi(!1),ki=Co(null),Si=null,Ci=null,Ei=null;function Ti(){Ei=Ci=Si=null}function Ai(e){var t=ki.current;Eo(ki),e._currentValue=t}function Oi(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ii(e,t){Si=e,Ei=Ci=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ba=!0),e.firstContext=null)}function Ni(e){var t=e._currentValue;if(Ei!==e)if(e={context:e,memoizedValue:t,next:null},null===Ci){if(null===Si)throw Error(i(308));Ci=e,Si.dependencies={lanes:0,firstContext:e}}else Ci=Ci.next=e;return t}var Ri=null;function Pi(e){null===Ri?Ri=[e]:Ri.push(e)}function ji(e,t,n,r){var o=t.interleaved;return null===o?(n.next=n,Pi(t)):(n.next=o.next,o.next=n),t.interleaved=n,Li(e,r)}function Li(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Di=!1;function Mi(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ui(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Fi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function $i(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Al)){var o=r.pending;return null===o?t.next=t:(t.next=o.next,o.next=t),r.pending=t,Li(e,n)}return null===(o=r.interleaved)?(t.next=t,Pi(r)):(t.next=o.next,o.next=t),r.interleaved=t,Li(e,n)}function zi(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Bi(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var o=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===i?o=i=s:i=i.next=s,n=n.next}while(null!==n);null===i?o=i=t:i=i.next=t}else o=i=t;return n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function qi(e,t,n,r){var o=e.updateQueue;Di=!1;var i=o.firstBaseUpdate,s=o.lastBaseUpdate,a=o.shared.pending;if(null!==a){o.shared.pending=null;var l=a,u=l.next;l.next=null,null===s?i=u:s.next=u,s=l;var c=e.alternate;null!==c&&((a=(c=c.updateQueue).lastBaseUpdate)!==s&&(null===a?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(null!==i){var d=o.baseState;for(s=0,c=u=l=null,a=i;;){var f=a.lane,h=a.eventTime;if((r&f)===f){null!==c&&(c=c.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,m=a;switch(f=t,h=n,m.tag){case 1:if("function"===typeof(p=m.payload)){d=p.call(h,d,f);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(f="function"===typeof(p=m.payload)?p.call(h,d,f):p)||void 0===f)break e;d=M({},d,f);break e;case 2:Di=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(f=o.effects)?o.effects=[a]:f.push(a))}else h={eventTime:h,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===c?(u=c=h,l=d):c=c.next=h,s|=f;if(null===(a=a.next)){if(null===(a=o.shared.pending))break;a=(f=a).next,f.next=null,o.lastBaseUpdate=f,o.shared.pending=null}}if(null===c&&(l=d),o.baseState=l,o.firstBaseUpdate=u,o.lastBaseUpdate=c,null!==(t=o.shared.interleaved)){o=t;do{s|=o.lane,o=o.next}while(o!==t)}else null===i&&(o.shared.lanes=0);Dl|=s,e.lanes=s,e.memoizedState=d}}function Vi(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(null!==o){if(r.callback=null,r=n,"function"!==typeof o)throw Error(i(191,o));o.call(r)}}}var Hi={},Wi=Co(Hi),Gi=Co(Hi),Ji=Co(Hi);function Ki(e){if(e===Hi)throw Error(i(174));return e}function Yi(e,t){switch(To(Ji,t),To(Gi,e),To(Wi,Hi),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Eo(Wi),To(Wi,t)}function Zi(){Eo(Wi),Eo(Gi),Eo(Ji)}function Qi(e){Ki(Ji.current);var t=Ki(Wi.current),n=le(t,e.type);t!==n&&(To(Gi,e),To(Wi,n))}function Xi(e){Gi.current===e&&(Eo(Wi),Eo(Gi))}var es=Co(0);function ts(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ns=[];function rs(){for(var e=0;e<ns.length;e++)ns[e]._workInProgressVersionPrimary=null;ns.length=0}var os=w.ReactCurrentDispatcher,is=w.ReactCurrentBatchConfig,ss=0,as=null,ls=null,us=null,cs=!1,ds=!1,fs=0,hs=0;function ps(){throw Error(i(321))}function ms(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function gs(e,t,n,r,o,s){if(ss=s,as=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,os.current=null===e||null===e.memoizedState?Xs:ea,e=n(r,o),ds){s=0;do{if(ds=!1,fs=0,25<=s)throw Error(i(301));s+=1,us=ls=null,t.updateQueue=null,os.current=ta,e=n(r,o)}while(ds)}if(os.current=Qs,t=null!==ls&&null!==ls.next,ss=0,us=ls=as=null,cs=!1,t)throw Error(i(300));return e}function vs(){var e=0!==fs;return fs=0,e}function ys(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===us?as.memoizedState=us=e:us=us.next=e,us}function bs(){if(null===ls){var e=as.alternate;e=null!==e?e.memoizedState:null}else e=ls.next;var t=null===us?as.memoizedState:us.next;if(null!==t)us=t,ls=e;else{if(null===e)throw Error(i(310));e={memoizedState:(ls=e).memoizedState,baseState:ls.baseState,baseQueue:ls.baseQueue,queue:ls.queue,next:null},null===us?as.memoizedState=us=e:us=us.next=e}return us}function ws(e,t){return"function"===typeof t?t(e):t}function xs(e){var t=bs(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=ls,o=r.baseQueue,s=n.pending;if(null!==s){if(null!==o){var a=o.next;o.next=s.next,s.next=a}r.baseQueue=o=s,n.pending=null}if(null!==o){s=o.next,r=r.baseState;var l=a=null,u=null,c=s;do{var d=c.lane;if((ss&d)===d)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(l=u=f,a=r):u=u.next=f,as.lanes|=d,Dl|=d}c=c.next}while(null!==c&&c!==s);null===u?a=r:u.next=l,ar(r,t.memoizedState)||(ba=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=u,n.lastRenderedState=r}if(null!==(e=n.interleaved)){o=e;do{s=o.lane,as.lanes|=s,Dl|=s,o=o.next}while(o!==e)}else null===o&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function _s(e){var t=bs(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,s=t.memoizedState;if(null!==o){n.pending=null;var a=o=o.next;do{s=e(s,a.action),a=a.next}while(a!==o);ar(s,t.memoizedState)||(ba=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function ks(){}function Ss(e,t){var n=as,r=bs(),o=t(),s=!ar(r.memoizedState,o);if(s&&(r.memoizedState=o,ba=!0),r=r.queue,Ds(Ts.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||null!==us&&1&us.memoizedState.tag){if(n.flags|=2048,Ns(9,Es.bind(null,n,r,o,t),void 0,null),null===Ol)throw Error(i(349));0!==(30&ss)||Cs(n,t,o)}return o}function Cs(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=as.updateQueue)?(t={lastEffect:null,stores:null},as.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Es(e,t,n,r){t.value=n,t.getSnapshot=r,As(t)&&Os(e)}function Ts(e,t,n){return n((function(){As(t)&&Os(e)}))}function As(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(r){return!0}}function Os(e){var t=Li(e,1);null!==t&&nu(t,e,1,-1)}function Is(e){var t=ys();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ws,lastRenderedState:e},t.queue=e,e=e.dispatch=Js.bind(null,as,e),[t.memoizedState,e]}function Ns(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=as.updateQueue)?(t={lastEffect:null,stores:null},as.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Rs(){return bs().memoizedState}function Ps(e,t,n,r){var o=ys();as.flags|=e,o.memoizedState=Ns(1|t,n,void 0,void 0===r?null:r)}function js(e,t,n,r){var o=bs();r=void 0===r?null:r;var i=void 0;if(null!==ls){var s=ls.memoizedState;if(i=s.destroy,null!==r&&ms(r,s.deps))return void(o.memoizedState=Ns(t,n,i,r))}as.flags|=e,o.memoizedState=Ns(1|t,n,i,r)}function Ls(e,t){return Ps(8390656,8,e,t)}function Ds(e,t){return js(2048,8,e,t)}function Ms(e,t){return js(4,2,e,t)}function Us(e,t){return js(4,4,e,t)}function Fs(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function $s(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,js(4,4,Fs.bind(null,t,e),n)}function zs(){}function Bs(e,t){var n=bs();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ms(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function qs(e,t){var n=bs();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ms(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Vs(e,t,n){return 0===(21&ss)?(e.baseState&&(e.baseState=!1,ba=!0),e.memoizedState=n):(ar(n,t)||(n=mt(),as.lanes|=n,Dl|=n,e.baseState=!0),t)}function Hs(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=is.transition;is.transition={};try{e(!1),t()}finally{bt=n,is.transition=r}}function Ws(){return bs().memoizedState}function Gs(e,t,n){var r=tu(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ks(e))Ys(t,n);else if(null!==(n=ji(e,t,n,r))){nu(n,e,r,eu()),Zs(n,t,r)}}function Js(e,t,n){var r=tu(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ks(e))Ys(t,o);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var s=t.lastRenderedState,a=i(s,n);if(o.hasEagerState=!0,o.eagerState=a,ar(a,s)){var l=t.interleaved;return null===l?(o.next=o,Pi(t)):(o.next=l.next,l.next=o),void(t.interleaved=o)}}catch(u){}null!==(n=ji(e,t,o,r))&&(nu(n,e,r,o=eu()),Zs(n,t,r))}}function Ks(e){var t=e.alternate;return e===as||null!==t&&t===as}function Ys(e,t){ds=cs=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Zs(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var Qs={readContext:Ni,useCallback:ps,useContext:ps,useEffect:ps,useImperativeHandle:ps,useInsertionEffect:ps,useLayoutEffect:ps,useMemo:ps,useReducer:ps,useRef:ps,useState:ps,useDebugValue:ps,useDeferredValue:ps,useTransition:ps,useMutableSource:ps,useSyncExternalStore:ps,useId:ps,unstable_isNewReconciler:!1},Xs={readContext:Ni,useCallback:function(e,t){return ys().memoizedState=[e,void 0===t?null:t],e},useContext:Ni,useEffect:Ls,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ps(4194308,4,Fs.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ps(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ps(4,2,e,t)},useMemo:function(e,t){var n=ys();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ys();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Gs.bind(null,as,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ys().memoizedState=e},useState:Is,useDebugValue:zs,useDeferredValue:function(e){return ys().memoizedState=e},useTransition:function(){var e=Is(!1),t=e[0];return e=Hs.bind(null,e[1]),ys().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=as,o=ys();if(ii){if(void 0===n)throw Error(i(407));n=n()}else{if(n=t(),null===Ol)throw Error(i(349));0!==(30&ss)||Cs(r,t,n)}o.memoizedState=n;var s={value:n,getSnapshot:t};return o.queue=s,Ls(Ts.bind(null,r,s,e),[e]),r.flags|=2048,Ns(9,Es.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=ys(),t=Ol.identifierPrefix;if(ii){var n=Qo;t=":"+t+"R"+(n=(Zo&~(1<<32-st(Zo)-1)).toString(32)+n),0<(n=fs++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=hs++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ea={readContext:Ni,useCallback:Bs,useContext:Ni,useEffect:Ds,useImperativeHandle:$s,useInsertionEffect:Ms,useLayoutEffect:Us,useMemo:qs,useReducer:xs,useRef:Rs,useState:function(){return xs(ws)},useDebugValue:zs,useDeferredValue:function(e){return Vs(bs(),ls.memoizedState,e)},useTransition:function(){return[xs(ws)[0],bs().memoizedState]},useMutableSource:ks,useSyncExternalStore:Ss,useId:Ws,unstable_isNewReconciler:!1},ta={readContext:Ni,useCallback:Bs,useContext:Ni,useEffect:Ds,useImperativeHandle:$s,useInsertionEffect:Ms,useLayoutEffect:Us,useMemo:qs,useReducer:_s,useRef:Rs,useState:function(){return _s(ws)},useDebugValue:zs,useDeferredValue:function(e){var t=bs();return null===ls?t.memoizedState=e:Vs(t,ls.memoizedState,e)},useTransition:function(){return[_s(ws)[0],bs().memoizedState]},useMutableSource:ks,useSyncExternalStore:Ss,useId:Ws,unstable_isNewReconciler:!1};function na(e,t){if(e&&e.defaultProps){for(var n in t=M({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function ra(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:M({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var oa={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=eu(),o=tu(e),i=Fi(r,o);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=$i(e,i,o))&&(nu(t,e,o,r),zi(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=eu(),o=tu(e),i=Fi(r,o);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=$i(e,i,o))&&(nu(t,e,o,r),zi(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=eu(),r=tu(e),o=Fi(n,r);o.tag=2,void 0!==t&&null!==t&&(o.callback=t),null!==(t=$i(e,o,r))&&(nu(t,e,r,n),zi(t,e,r))}};function ia(e,t,n,r,o,i,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,s):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(o,i))}function sa(e,t,n){var r=!1,o=Ao,i=t.contextType;return"object"===typeof i&&null!==i?i=Ni(i):(o=Po(t)?No:Oo.current,i=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ro(e,o):Ao),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=oa,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function aa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&oa.enqueueReplaceState(t,t.state,null)}function la(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},Mi(e);var i=t.contextType;"object"===typeof i&&null!==i?o.context=Ni(i):(i=Po(t)?No:Oo.current,o.context=Ro(e,i)),o.state=e.memoizedState,"function"===typeof(i=t.getDerivedStateFromProps)&&(ra(e,t,i,n),o.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof o.getSnapshotBeforeUpdate||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||(t=o.state,"function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),t!==o.state&&oa.enqueueReplaceState(o,o.state,null),qi(e,n,o,r),o.state=e.memoizedState),"function"===typeof o.componentDidMount&&(e.flags|=4194308)}function ua(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var o=n}catch(i){o="\nError generating stack: "+i.message+"\n"+i.stack}return{value:e,source:t,stack:o,digest:null}}function ca(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function da(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var fa="function"===typeof WeakMap?WeakMap:Map;function ha(e,t,n){(n=Fi(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Vl||(Vl=!0,Hl=r),da(0,t)},n}function pa(e,t,n){(n=Fi(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){da(0,t)}}var i=e.stateNode;return null!==i&&"function"===typeof i.componentDidCatch&&(n.callback=function(){da(0,t),"function"!==typeof r&&(null===Wl?Wl=new Set([this]):Wl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ma(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fa;var o=new Set;r.set(t,o)}else void 0===(o=r.get(t))&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=Cu.bind(null,e,t,n),t.then(e,e))}function ga(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function va(e,t,n,r,o){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Fi(-1,1)).tag=2,$i(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=o,e)}var ya=w.ReactCurrentOwner,ba=!1;function wa(e,t,n,r){t.child=null===e?_i(t,null,n,r):xi(t,e.child,n,r)}function xa(e,t,n,r,o){n=n.render;var i=t.ref;return Ii(t,o),r=gs(e,t,n,r,i,o),n=vs(),null===e||ba?(ii&&n&&ti(t),t.flags|=1,wa(e,t,r,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Va(e,t,o))}function _a(e,t,n,r,o){if(null===e){var i=n.type;return"function"!==typeof i||Ru(i)||void 0!==i.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=ju(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,ka(e,t,i,r,o))}if(i=e.child,0===(e.lanes&o)){var s=i.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(s,r)&&e.ref===t.ref)return Va(e,t,o)}return t.flags|=1,(e=Pu(i,r)).ref=t.ref,e.return=t,t.child=e}function ka(e,t,n,r,o){if(null!==e){var i=e.memoizedProps;if(lr(i,r)&&e.ref===t.ref){if(ba=!1,t.pendingProps=r=i,0===(e.lanes&o))return t.lanes=e.lanes,Va(e,t,o);0!==(131072&e.flags)&&(ba=!0)}}return Ea(e,t,n,r,o)}function Sa(e,t,n){var r=t.pendingProps,o=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},To(Pl,Rl),Rl|=n;else{if(0===(1073741824&n))return e=null!==i?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,To(Pl,Rl),Rl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==i?i.baseLanes:n,To(Pl,Rl),Rl|=r}else null!==i?(r=i.baseLanes|n,t.memoizedState=null):r=n,To(Pl,Rl),Rl|=r;return wa(e,t,o,n),t.child}function Ca(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ea(e,t,n,r,o){var i=Po(n)?No:Oo.current;return i=Ro(t,i),Ii(t,o),n=gs(e,t,n,r,i,o),r=vs(),null===e||ba?(ii&&r&&ti(t),t.flags|=1,wa(e,t,n,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Va(e,t,o))}function Ta(e,t,n,r,o){if(Po(n)){var i=!0;Mo(t)}else i=!1;if(Ii(t,o),null===t.stateNode)qa(e,t),sa(t,n,r),la(t,n,r,o),r=!0;else if(null===e){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,u=n.contextType;"object"===typeof u&&null!==u?u=Ni(u):u=Ro(t,u=Po(n)?No:Oo.current);var c=n.getDerivedStateFromProps,d="function"===typeof c||"function"===typeof s.getSnapshotBeforeUpdate;d||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==r||l!==u)&&aa(t,s,r,u),Di=!1;var f=t.memoizedState;s.state=f,qi(t,r,s,o),l=t.memoizedState,a!==r||f!==l||Io.current||Di?("function"===typeof c&&(ra(t,n,c,r),l=t.memoizedState),(a=Di||ia(t,n,a,r,f,l,u))?(d||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):("function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,Ui(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:na(t.type,a),s.props=u,d=t.pendingProps,f=s.context,"object"===typeof(l=n.contextType)&&null!==l?l=Ni(l):l=Ro(t,l=Po(n)?No:Oo.current);var h=n.getDerivedStateFromProps;(c="function"===typeof h||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==d||f!==l)&&aa(t,s,r,l),Di=!1,f=t.memoizedState,s.state=f,qi(t,r,s,o);var p=t.memoizedState;a!==d||f!==p||Io.current||Di?("function"===typeof h&&(ra(t,n,h,r),p=t.memoizedState),(u=Di||ia(t,n,u,r,f,p,l)||!1)?(c||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,p,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),s.props=r,s.state=p,s.context=l,r=u):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Aa(e,t,n,r,i,o)}function Aa(e,t,n,r,o,i){Ca(e,t);var s=0!==(128&t.flags);if(!r&&!s)return o&&Uo(t,n,!1),Va(e,t,i);r=t.stateNode,ya.current=t;var a=s&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&s?(t.child=xi(t,e.child,null,i),t.child=xi(t,null,a,i)):wa(e,t,a,i),t.memoizedState=r.state,o&&Uo(t,n,!0),t.child}function Oa(e){var t=e.stateNode;t.pendingContext?Lo(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Lo(0,t.context,!1),Yi(e,t.containerInfo)}function Ia(e,t,n,r,o){return pi(),mi(o),t.flags|=256,wa(e,t,n,r),t.child}var Na,Ra,Pa,ja,La={dehydrated:null,treeContext:null,retryLane:0};function Da(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ma(e,t,n){var r,o=t.pendingProps,s=es.current,a=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&s)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),To(es,1&s),null===e)return ci(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=o.children,e=o.fallback,a?(o=t.mode,a=t.child,l={mode:"hidden",children:l},0===(1&o)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=Du(l,o,0,null),e=Lu(e,o,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Da(n),t.memoizedState=La,e):Ua(t,l));if(null!==(s=e.memoizedState)&&null!==(r=s.dehydrated))return function(e,t,n,r,o,s,a){if(n)return 256&t.flags?(t.flags&=-257,Fa(e,t,a,r=ca(Error(i(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=r.fallback,o=t.mode,r=Du({mode:"visible",children:r.children},o,0,null),(s=Lu(s,o,a,null)).flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,0!==(1&t.mode)&&xi(t,e.child,null,a),t.child.memoizedState=Da(a),t.memoizedState=La,s);if(0===(1&t.mode))return Fa(e,t,a,null);if("$!"===o.data){if(r=o.nextSibling&&o.nextSibling.dataset)var l=r.dgst;return r=l,Fa(e,t,a,r=ca(s=Error(i(419)),r,void 0))}if(l=0!==(a&e.childLanes),ba||l){if(null!==(r=Ol)){switch(a&-a){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}0!==(o=0!==(o&(r.suspendedLanes|a))?0:o)&&o!==s.retryLane&&(s.retryLane=o,Li(e,o),nu(r,e,o,-1))}return mu(),Fa(e,t,a,r=ca(Error(i(421))))}return"$?"===o.data?(t.flags|=128,t.child=e.child,t=Tu.bind(null,e),o._reactRetry=t,null):(e=s.treeContext,oi=uo(o.nextSibling),ri=t,ii=!0,si=null,null!==e&&(Jo[Ko++]=Zo,Jo[Ko++]=Qo,Jo[Ko++]=Yo,Zo=e.id,Qo=e.overflow,Yo=t),t=Ua(t,r.children),t.flags|=4096,t)}(e,t,l,o,r,s,n);if(a){a=o.fallback,l=t.mode,r=(s=e.child).sibling;var u={mode:"hidden",children:o.children};return 0===(1&l)&&t.child!==s?((o=t.child).childLanes=0,o.pendingProps=u,t.deletions=null):(o=Pu(s,u)).subtreeFlags=14680064&s.subtreeFlags,null!==r?a=Pu(r,a):(a=Lu(a,l,n,null)).flags|=2,a.return=t,o.return=t,o.sibling=a,t.child=o,o=a,a=t.child,l=null===(l=e.child.memoizedState)?Da(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~n,t.memoizedState=La,o}return e=(a=e.child).sibling,o=Pu(a,{mode:"visible",children:o.children}),0===(1&t.mode)&&(o.lanes=n),o.return=t,o.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=o,t.memoizedState=null,o}function Ua(e,t){return(t=Du({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Fa(e,t,n,r){return null!==r&&mi(r),xi(t,e.child,null,n),(e=Ua(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function $a(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Oi(e.return,t,n)}function za(e,t,n,r,o){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function Ba(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(wa(e,t,r.children,n),0!==(2&(r=es.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&$a(e,n,t);else if(19===e.tag)$a(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(To(es,r),0===(1&t.mode))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;null!==n;)null!==(e=n.alternate)&&null===ts(e)&&(o=n),n=n.sibling;null===(n=o)?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),za(t,!1,o,n,i);break;case"backwards":for(n=null,o=t.child,t.child=null;null!==o;){if(null!==(e=o.alternate)&&null===ts(e)){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}za(t,!0,n,null,i);break;case"together":za(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qa(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Va(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Dl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=Pu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Pu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ha(e,t){if(!ii)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Wa(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=14680064&o.subtreeFlags,r|=14680064&o.flags,o.return=e,o=o.sibling;else for(o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ga(e,t,n){var r=t.pendingProps;switch(ni(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wa(t),null;case 1:case 17:return Po(t.type)&&jo(),Wa(t),null;case 3:return r=t.stateNode,Zi(),Eo(Io),Eo(Oo),rs(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fi(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==si&&(su(si),si=null))),Ra(e,t),Wa(t),null;case 5:Xi(t);var o=Ki(Ji.current);if(n=t.type,null!==e&&null!=t.stateNode)Pa(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(i(166));return Wa(t),null}if(e=Ki(Wi.current),fi(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[ho]=t,r[po]=s,e=0!==(1&t.mode),n){case"dialog":Fr("cancel",r),Fr("close",r);break;case"iframe":case"object":case"embed":Fr("load",r);break;case"video":case"audio":for(o=0;o<Lr.length;o++)Fr(Lr[o],r);break;case"source":Fr("error",r);break;case"img":case"image":case"link":Fr("error",r),Fr("load",r);break;case"details":Fr("toggle",r);break;case"input":Y(r,s),Fr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Fr("invalid",r);break;case"textarea":oe(r,s),Fr("invalid",r)}for(var l in ye(n,s),o=null,s)if(s.hasOwnProperty(l)){var u=s[l];"children"===l?"string"===typeof u?r.textContent!==u&&(!0!==s.suppressHydrationWarning&&Qr(r.textContent,u,e),o=["children",u]):"number"===typeof u&&r.textContent!==""+u&&(!0!==s.suppressHydrationWarning&&Qr(r.textContent,u,e),o=["children",""+u]):a.hasOwnProperty(l)&&null!=u&&"onScroll"===l&&Fr("scroll",r)}switch(n){case"input":W(r),X(r,s,!0);break;case"textarea":W(r),se(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Xr)}r=o,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===o.nodeType?o:o.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[ho]=t,e[po]=r,Na(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":Fr("cancel",e),Fr("close",e),o=r;break;case"iframe":case"object":case"embed":Fr("load",e),o=r;break;case"video":case"audio":for(o=0;o<Lr.length;o++)Fr(Lr[o],e);o=r;break;case"source":Fr("error",e),o=r;break;case"img":case"image":case"link":Fr("error",e),Fr("load",e),o=r;break;case"details":Fr("toggle",e),o=r;break;case"input":Y(e,r),o=K(e,r),Fr("invalid",e);break;case"option":default:o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=M({},r,{value:void 0}),Fr("invalid",e);break;case"textarea":oe(e,r),o=re(e,r),Fr("invalid",e)}for(s in ye(n,o),u=o)if(u.hasOwnProperty(s)){var c=u[s];"style"===s?ge(e,c):"dangerouslySetInnerHTML"===s?null!=(c=c?c.__html:void 0)&&de(e,c):"children"===s?"string"===typeof c?("textarea"!==n||""!==c)&&fe(e,c):"number"===typeof c&&fe(e,""+c):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(a.hasOwnProperty(s)?null!=c&&"onScroll"===s&&Fr("scroll",e):null!=c&&b(e,s,c,l))}switch(n){case"input":W(e),X(e,r,!1);break;case"textarea":W(e),se(e);break;case"option":null!=r.value&&e.setAttribute("value",""+V(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ne(e,!!r.multiple,s,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof o.onClick&&(e.onclick=Xr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Wa(t),null;case 6:if(e&&null!=t.stateNode)ja(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(i(166));if(n=Ki(Ji.current),Ki(Wi.current),fi(t)){if(r=t.stateNode,n=t.memoizedProps,r[ho]=t,(s=r.nodeValue!==n)&&null!==(e=ri))switch(e.tag){case 3:Qr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Qr(r.nodeValue,n,0!==(1&e.mode))}s&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[ho]=t,t.stateNode=r}return Wa(t),null;case 13:if(Eo(es),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ii&&null!==oi&&0!==(1&t.mode)&&0===(128&t.flags))hi(),pi(),t.flags|=98560,s=!1;else if(s=fi(t),null!==r&&null!==r.dehydrated){if(null===e){if(!s)throw Error(i(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(i(317));s[ho]=t}else pi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Wa(t),s=!1}else null!==si&&(su(si),si=null),s=!0;if(!s)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&es.current)?0===jl&&(jl=3):mu())),null!==t.updateQueue&&(t.flags|=4),Wa(t),null);case 4:return Zi(),Ra(e,t),null===e&&Br(t.stateNode.containerInfo),Wa(t),null;case 10:return Ai(t.type._context),Wa(t),null;case 19:if(Eo(es),null===(s=t.memoizedState))return Wa(t),null;if(r=0!==(128&t.flags),null===(l=s.rendering))if(r)Ha(s,!1);else{if(0!==jl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ts(e))){for(t.flags|=128,Ha(s,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=14680066,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return To(es,1&es.current|2),t.child}e=e.sibling}null!==s.tail&&Ze()>Bl&&(t.flags|=128,r=!0,Ha(s,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ts(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ha(s,!0),null===s.tail&&"hidden"===s.tailMode&&!l.alternate&&!ii)return Wa(t),null}else 2*Ze()-s.renderingStartTime>Bl&&1073741824!==n&&(t.flags|=128,r=!0,Ha(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=s.last)?n.sibling=l:t.child=l,s.last=l)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Ze(),t.sibling=null,n=es.current,To(es,r?1&n|2:1&n),t):(Wa(t),null);case 22:case 23:return du(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Rl)&&(Wa(t),6&t.subtreeFlags&&(t.flags|=8192)):Wa(t),null;case 24:case 25:return null}throw Error(i(156,t.tag))}function Ja(e,t){switch(ni(t),t.tag){case 1:return Po(t.type)&&jo(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Zi(),Eo(Io),Eo(Oo),rs(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Xi(t),null;case 13:if(Eo(es),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));pi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Eo(es),null;case 4:return Zi(),null;case 10:return Ai(t.type._context),null;case 22:case 23:return du(),null;default:return null}}Na=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ra=function(){},Pa=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Ki(Wi.current);var i,s=null;switch(n){case"input":o=K(e,o),r=K(e,r),s=[];break;case"select":o=M({},o,{value:void 0}),r=M({},r,{value:void 0}),s=[];break;case"textarea":o=re(e,o),r=re(e,r),s=[];break;default:"function"!==typeof o.onClick&&"function"===typeof r.onClick&&(e.onclick=Xr)}for(c in ye(n,r),n=null,o)if(!r.hasOwnProperty(c)&&o.hasOwnProperty(c)&&null!=o[c])if("style"===c){var l=o[c];for(i in l)l.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(a.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var u=r[c];if(l=null!=o?o[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(null!=u||null!=l))if("style"===c)if(l){for(i in l)!l.hasOwnProperty(i)||u&&u.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in u)u.hasOwnProperty(i)&&l[i]!==u[i]&&(n||(n={}),n[i]=u[i])}else n||(s||(s=[]),s.push(c,n)),n=u;else"dangerouslySetInnerHTML"===c?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(s=s||[]).push(c,u)):"children"===c?"string"!==typeof u&&"number"!==typeof u||(s=s||[]).push(c,""+u):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(a.hasOwnProperty(c)?(null!=u&&"onScroll"===c&&Fr("scroll",e),s||l===u||(s=[])):(s=s||[]).push(c,u))}n&&(s=s||[]).push("style",n);var c=s;(t.updateQueue=c)&&(t.flags|=4)}},ja=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ka=!1,Ya=!1,Za="function"===typeof WeakSet?WeakSet:Set,Qa=null;function Xa(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Su(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){Su(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var o=r=r.next;do{if((o.tag&e)===e){var i=o.destroy;o.destroy=void 0,void 0!==i&&el(t,n,i)}o=o.next}while(o!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ol(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function il(e){var t=e.alternate;null!==t&&(e.alternate=null,il(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[ho],delete t[po],delete t[go],delete t[vo],delete t[yo])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sl(e){return 5===e.tag||3===e.tag||4===e.tag}function al(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||sl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Xr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function ul(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}var cl=null,dl=!1;function fl(e,t,n){for(n=n.child;null!==n;)hl(e,t,n),n=n.sibling}function hl(e,t,n){if(it&&"function"===typeof it.onCommitFiberUnmount)try{it.onCommitFiberUnmount(ot,n)}catch(a){}switch(n.tag){case 5:Ya||Xa(n,t);case 6:var r=cl,o=dl;cl=null,fl(e,t,n),dl=o,null!==(cl=r)&&(dl?(e=cl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):cl.removeChild(n.stateNode));break;case 18:null!==cl&&(dl?(e=cl,n=n.stateNode,8===e.nodeType?lo(e.parentNode,n):1===e.nodeType&&lo(e,n),Bt(e)):lo(cl,n.stateNode));break;case 4:r=cl,o=dl,cl=n.stateNode.containerInfo,dl=!0,fl(e,t,n),cl=r,dl=o;break;case 0:case 11:case 14:case 15:if(!Ya&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){o=r=r.next;do{var i=o,s=i.destroy;i=i.tag,void 0!==s&&(0!==(2&i)||0!==(4&i))&&el(n,t,s),o=o.next}while(o!==r)}fl(e,t,n);break;case 1:if(!Ya&&(Xa(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Su(n,t,a)}fl(e,t,n);break;case 21:fl(e,t,n);break;case 22:1&n.mode?(Ya=(r=Ya)||null!==n.memoizedState,fl(e,t,n),Ya=r):fl(e,t,n);break;default:fl(e,t,n)}}function pl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Za),t.forEach((function(t){var r=Au.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ml(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var o=n[r];try{var s=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 5:cl=l.stateNode,dl=!1;break e;case 3:case 4:cl=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===cl)throw Error(i(160));hl(s,a,o),cl=null,dl=!1;var u=o.alternate;null!==u&&(u.return=null),o.return=null}catch(c){Su(o,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),vl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(g){Su(e,e.return,g)}try{nl(5,e,e.return)}catch(g){Su(e,e.return,g)}}break;case 1:ml(t,e),vl(e),512&r&&null!==n&&Xa(n,n.return);break;case 5:if(ml(t,e),vl(e),512&r&&null!==n&&Xa(n,n.return),32&e.flags){var o=e.stateNode;try{fe(o,"")}catch(g){Su(e,e.return,g)}}if(4&r&&null!=(o=e.stateNode)){var s=e.memoizedProps,a=null!==n?n.memoizedProps:s,l=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===l&&"radio"===s.type&&null!=s.name&&Z(o,s),be(l,a);var c=be(l,s);for(a=0;a<u.length;a+=2){var d=u[a],f=u[a+1];"style"===d?ge(o,f):"dangerouslySetInnerHTML"===d?de(o,f):"children"===d?fe(o,f):b(o,d,f,c)}switch(l){case"input":Q(o,s);break;case"textarea":ie(o,s);break;case"select":var h=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!s.multiple;var p=s.value;null!=p?ne(o,!!s.multiple,p,!1):h!==!!s.multiple&&(null!=s.defaultValue?ne(o,!!s.multiple,s.defaultValue,!0):ne(o,!!s.multiple,s.multiple?[]:"",!1))}o[po]=s}catch(g){Su(e,e.return,g)}}break;case 6:if(ml(t,e),vl(e),4&r){if(null===e.stateNode)throw Error(i(162));o=e.stateNode,s=e.memoizedProps;try{o.nodeValue=s}catch(g){Su(e,e.return,g)}}break;case 3:if(ml(t,e),vl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(g){Su(e,e.return,g)}break;case 4:default:ml(t,e),vl(e);break;case 13:ml(t,e),vl(e),8192&(o=e.child).flags&&(s=null!==o.memoizedState,o.stateNode.isHidden=s,!s||null!==o.alternate&&null!==o.alternate.memoizedState||(zl=Ze())),4&r&&pl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Ya=(c=Ya)||d,ml(t,e),Ya=c):ml(t,e),vl(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!d&&0!==(1&e.mode))for(Qa=e,d=e.child;null!==d;){for(f=Qa=d;null!==Qa;){switch(p=(h=Qa).child,h.tag){case 0:case 11:case 14:case 15:nl(4,h,h.return);break;case 1:Xa(h,h.return);var m=h.stateNode;if("function"===typeof m.componentWillUnmount){r=h,n=h.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Su(r,n,g)}}break;case 5:Xa(h,h.return);break;case 22:if(null!==h.memoizedState){xl(f);continue}}null!==p?(p.return=h,Qa=p):xl(f)}d=d.sibling}e:for(d=null,f=e;;){if(5===f.tag){if(null===d){d=f;try{o=f.stateNode,c?"function"===typeof(s=o.style).setProperty?s.setProperty("display","none","important"):s.display="none":(l=f.stateNode,a=void 0!==(u=f.memoizedProps.style)&&null!==u&&u.hasOwnProperty("display")?u.display:null,l.style.display=me("display",a))}catch(g){Su(e,e.return,g)}}}else if(6===f.tag){if(null===d)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(g){Su(e,e.return,g)}}else if((22!==f.tag&&23!==f.tag||null===f.memoizedState||f===e)&&null!==f.child){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;null===f.sibling;){if(null===f.return||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ml(t,e),vl(e),4&r&&pl(e);case 21:}}function vl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(sl(n)){var r=n;break e}n=n.return}throw Error(i(160))}switch(r.tag){case 5:var o=r.stateNode;32&r.flags&&(fe(o,""),r.flags&=-33),ul(e,al(e),o);break;case 3:case 4:var s=r.stateNode.containerInfo;ll(e,al(e),s);break;default:throw Error(i(161))}}catch(a){Su(e,e.return,a)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yl(e,t,n){Qa=e,bl(e,t,n)}function bl(e,t,n){for(var r=0!==(1&e.mode);null!==Qa;){var o=Qa,i=o.child;if(22===o.tag&&r){var s=null!==o.memoizedState||Ka;if(!s){var a=o.alternate,l=null!==a&&null!==a.memoizedState||Ya;a=Ka;var u=Ya;if(Ka=s,(Ya=l)&&!u)for(Qa=o;null!==Qa;)l=(s=Qa).child,22===s.tag&&null!==s.memoizedState?_l(o):null!==l?(l.return=s,Qa=l):_l(o);for(;null!==i;)Qa=i,bl(i,t,n),i=i.sibling;Qa=o,Ka=a,Ya=u}wl(e)}else 0!==(8772&o.subtreeFlags)&&null!==i?(i.return=o,Qa=i):wl(e)}}function wl(e){for(;null!==Qa;){var t=Qa;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ya||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ya)if(null===n)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:na(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&Vi(t,s,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Vi(t,a,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var d=c.memoizedState;if(null!==d){var f=d.dehydrated;null!==f&&Bt(f)}}}break;default:throw Error(i(163))}Ya||512&t.flags&&ol(t)}catch(h){Su(t,t.return,h)}}if(t===e){Qa=null;break}if(null!==(n=t.sibling)){n.return=t.return,Qa=n;break}Qa=t.return}}function xl(e){for(;null!==Qa;){var t=Qa;if(t===e){Qa=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Qa=n;break}Qa=t.return}}function _l(e){for(;null!==Qa;){var t=Qa;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){Su(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var o=t.return;try{r.componentDidMount()}catch(l){Su(t,o,l)}}var i=t.return;try{ol(t)}catch(l){Su(t,i,l)}break;case 5:var s=t.return;try{ol(t)}catch(l){Su(t,s,l)}}}catch(l){Su(t,t.return,l)}if(t===e){Qa=null;break}var a=t.sibling;if(null!==a){a.return=t.return,Qa=a;break}Qa=t.return}}var kl,Sl=Math.ceil,Cl=w.ReactCurrentDispatcher,El=w.ReactCurrentOwner,Tl=w.ReactCurrentBatchConfig,Al=0,Ol=null,Il=null,Nl=0,Rl=0,Pl=Co(0),jl=0,Ll=null,Dl=0,Ml=0,Ul=0,Fl=null,$l=null,zl=0,Bl=1/0,ql=null,Vl=!1,Hl=null,Wl=null,Gl=!1,Jl=null,Kl=0,Yl=0,Zl=null,Ql=-1,Xl=0;function eu(){return 0!==(6&Al)?Ze():-1!==Ql?Ql:Ql=Ze()}function tu(e){return 0===(1&e.mode)?1:0!==(2&Al)&&0!==Nl?Nl&-Nl:null!==gi.transition?(0===Xl&&(Xl=mt()),Xl):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function nu(e,t,n,r){if(50<Yl)throw Yl=0,Zl=null,Error(i(185));vt(e,n,r),0!==(2&Al)&&e===Ol||(e===Ol&&(0===(2&Al)&&(Ml|=n),4===jl&&au(e,Nl)),ru(e,r),1===n&&0===Al&&0===(1&t.mode)&&(Bl=Ze()+500,$o&&qo()))}function ru(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-st(i),a=1<<s,l=o[s];-1===l?0!==(a&n)&&0===(a&r)||(o[s]=ht(a,t)):l<=t&&(e.expiredLanes|=a),i&=~a}}(e,t);var r=ft(e,e===Ol?Nl:0);if(0===r)null!==n&&Je(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Je(n),1===t)0===e.tag?function(e){$o=!0,Bo(e)}(lu.bind(null,e)):Bo(lu.bind(null,e)),so((function(){0===(6&Al)&&qo()})),n=null;else{switch(wt(r)){case 1:n=Xe;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Ou(n,ou.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ou(e,t){if(Ql=-1,Xl=0,0!==(6&Al))throw Error(i(327));var n=e.callbackNode;if(_u()&&e.callbackNode!==n)return null;var r=ft(e,e===Ol?Nl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gu(e,r);else{t=r;var o=Al;Al|=2;var s=pu();for(Ol===e&&Nl===t||(ql=null,Bl=Ze()+500,fu(e,t));;)try{yu();break}catch(l){hu(e,l)}Ti(),Cl.current=s,Al=o,null!==Il?t=0:(Ol=null,Nl=0,t=jl)}if(0!==t){if(2===t&&(0!==(o=pt(e))&&(r=o,t=iu(e,o))),1===t)throw n=Ll,fu(e,0),au(e,r),ru(e,Ze()),n;if(6===t)au(e,r);else{if(o=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!ar(i(),o))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(o)&&(2===(t=gu(e,r))&&(0!==(s=pt(e))&&(r=s,t=iu(e,s))),1===t))throw n=Ll,fu(e,0),au(e,r),ru(e,Ze()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(i(345));case 2:case 5:xu(e,$l,ql);break;case 3:if(au(e,r),(130023424&r)===r&&10<(t=zl+500-Ze())){if(0!==ft(e,0))break;if(((o=e.suspendedLanes)&r)!==r){eu(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=ro(xu.bind(null,e,$l,ql),t);break}xu(e,$l,ql);break;case 4:if(au(e,r),(4194240&r)===r)break;for(t=e.eventTimes,o=-1;0<r;){var a=31-st(r);s=1<<a,(a=t[a])>o&&(o=a),r&=~s}if(r=o,10<(r=(120>(r=Ze()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Sl(r/1960))-r)){e.timeoutHandle=ro(xu.bind(null,e,$l,ql),r);break}xu(e,$l,ql);break;default:throw Error(i(329))}}}return ru(e,Ze()),e.callbackNode===n?ou.bind(null,e):null}function iu(e,t){var n=Fl;return e.current.memoizedState.isDehydrated&&(fu(e,t).flags|=256),2!==(e=gu(e,t))&&(t=$l,$l=n,null!==t&&su(t)),e}function su(e){null===$l?$l=e:$l.push.apply($l,e)}function au(e,t){for(t&=~Ul,t&=~Ml,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-st(t),r=1<<n;e[n]=-1,t&=~r}}function lu(e){if(0!==(6&Al))throw Error(i(327));_u();var t=ft(e,0);if(0===(1&t))return ru(e,Ze()),null;var n=gu(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=iu(e,r))}if(1===n)throw n=Ll,fu(e,0),au(e,t),ru(e,Ze()),n;if(6===n)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xu(e,$l,ql),ru(e,Ze()),null}function uu(e,t){var n=Al;Al|=1;try{return e(t)}finally{0===(Al=n)&&(Bl=Ze()+500,$o&&qo())}}function cu(e){null!==Jl&&0===Jl.tag&&0===(6&Al)&&_u();var t=Al;Al|=1;var n=Tl.transition,r=bt;try{if(Tl.transition=null,bt=1,e)return e()}finally{bt=r,Tl.transition=n,0===(6&(Al=t))&&qo()}}function du(){Rl=Pl.current,Eo(Pl)}function fu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,oo(n)),null!==Il)for(n=Il.return;null!==n;){var r=n;switch(ni(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&jo();break;case 3:Zi(),Eo(Io),Eo(Oo),rs();break;case 5:Xi(r);break;case 4:Zi();break;case 13:case 19:Eo(es);break;case 10:Ai(r.type._context);break;case 22:case 23:du()}n=n.return}if(Ol=e,Il=e=Pu(e.current,null),Nl=Rl=t,jl=0,Ll=null,Ul=Ml=Dl=0,$l=Fl=null,null!==Ri){for(t=0;t<Ri.length;t++)if(null!==(r=(n=Ri[t]).interleaved)){n.interleaved=null;var o=r.next,i=n.pending;if(null!==i){var s=i.next;i.next=o,r.next=s}n.pending=r}Ri=null}return e}function hu(e,t){for(;;){var n=Il;try{if(Ti(),os.current=Qs,cs){for(var r=as.memoizedState;null!==r;){var o=r.queue;null!==o&&(o.pending=null),r=r.next}cs=!1}if(ss=0,us=ls=as=null,ds=!1,fs=0,El.current=null,null===n||null===n.return){jl=1,Ll=t,Il=null;break}e:{var s=e,a=n.return,l=n,u=t;if(t=Nl,l.flags|=32768,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u,d=l,f=d.tag;if(0===(1&d.mode)&&(0===f||11===f||15===f)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=ga(a);if(null!==p){p.flags&=-257,va(p,a,l,0,t),1&p.mode&&ma(s,c,t),u=c;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(u),t.updateQueue=g}else m.add(u);break e}if(0===(1&t)){ma(s,c,t),mu();break e}u=Error(i(426))}else if(ii&&1&l.mode){var v=ga(a);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),va(v,a,l,0,t),mi(ua(u,l));break e}}s=u=ua(u,l),4!==jl&&(jl=2),null===Fl?Fl=[s]:Fl.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,Bi(s,ha(0,u,t));break e;case 1:l=u;var y=s.type,b=s.stateNode;if(0===(128&s.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Wl||!Wl.has(b)))){s.flags|=65536,t&=-t,s.lanes|=t,Bi(s,pa(s,l,t));break e}}s=s.return}while(null!==s)}wu(n)}catch(w){t=w,Il===n&&null!==n&&(Il=n=n.return);continue}break}}function pu(){var e=Cl.current;return Cl.current=Qs,null===e?Qs:e}function mu(){0!==jl&&3!==jl&&2!==jl||(jl=4),null===Ol||0===(268435455&Dl)&&0===(268435455&Ml)||au(Ol,Nl)}function gu(e,t){var n=Al;Al|=2;var r=pu();for(Ol===e&&Nl===t||(ql=null,fu(e,t));;)try{vu();break}catch(o){hu(e,o)}if(Ti(),Al=n,Cl.current=r,null!==Il)throw Error(i(261));return Ol=null,Nl=0,jl}function vu(){for(;null!==Il;)bu(Il)}function yu(){for(;null!==Il&&!Ke();)bu(Il)}function bu(e){var t=kl(e.alternate,e,Rl);e.memoizedProps=e.pendingProps,null===t?wu(e):Il=t,El.current=null}function wu(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ga(n,t,Rl)))return void(Il=n)}else{if(null!==(n=Ja(n,t)))return n.flags&=32767,void(Il=n);if(null===e)return jl=6,void(Il=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Il=t);Il=t=e}while(null!==t);0===jl&&(jl=5)}function xu(e,t,n){var r=bt,o=Tl.transition;try{Tl.transition=null,bt=1,function(e,t,n,r){do{_u()}while(null!==Jl);if(0!==(6&Al))throw Error(i(327));n=e.finishedWork;var o=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-st(n),i=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~i}}(e,s),e===Ol&&(Il=Ol=null,Nl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Gl||(Gl=!0,Ou(tt,(function(){return _u(),null}))),s=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||s){s=Tl.transition,Tl.transition=null;var a=bt;bt=1;var l=Al;Al|=4,El.current=null,function(e,t){if(eo=Vt,hr(e=fr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var o=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(x){n=null;break e}var a=0,l=-1,u=-1,c=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==n||0!==o&&3!==f.nodeType||(l=a+o),f!==s||0!==r&&3!==f.nodeType||(u=a+r),3===f.nodeType&&(a+=f.nodeValue.length),null!==(p=f.firstChild);)h=f,f=p;for(;;){if(f===e)break t;if(h===n&&++c===o&&(l=a),h===s&&++d===r&&(u=a),null!==(p=f.nextSibling))break;h=(f=h).parentNode}f=p}n=-1===l||-1===u?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(to={focusedElem:e,selectionRange:n},Vt=!1,Qa=t;null!==Qa;)if(e=(t=Qa).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Qa=e;else for(;null!==Qa;){t=Qa;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:na(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(i(163))}}catch(x){Su(t,t.return,x)}if(null!==(e=t.sibling)){e.return=t.return,Qa=e;break}Qa=t.return}m=tl,tl=!1}(e,n),gl(n,e),pr(to),Vt=!!eo,to=eo=null,e.current=n,yl(n,e,o),Ye(),Al=l,bt=a,Tl.transition=s}else e.current=n;if(Gl&&(Gl=!1,Jl=e,Kl=o),s=e.pendingLanes,0===s&&(Wl=null),function(e){if(it&&"function"===typeof it.onCommitFiberRoot)try{it.onCommitFiberRoot(ot,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ru(e,Ze()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(Vl)throw Vl=!1,e=Hl,Hl=null,e;0!==(1&Kl)&&0!==e.tag&&_u(),s=e.pendingLanes,0!==(1&s)?e===Zl?Yl++:(Yl=0,Zl=e):Yl=0,qo()}(e,t,n,r)}finally{Tl.transition=o,bt=r}return null}function _u(){if(null!==Jl){var e=wt(Kl),t=Tl.transition,n=bt;try{if(Tl.transition=null,bt=16>e?16:e,null===Jl)var r=!1;else{if(e=Jl,Jl=null,Kl=0,0!==(6&Al))throw Error(i(331));var o=Al;for(Al|=4,Qa=e.current;null!==Qa;){var s=Qa,a=s.child;if(0!==(16&Qa.flags)){var l=s.deletions;if(null!==l){for(var u=0;u<l.length;u++){var c=l[u];for(Qa=c;null!==Qa;){var d=Qa;switch(d.tag){case 0:case 11:case 15:nl(8,d,s)}var f=d.child;if(null!==f)f.return=d,Qa=f;else for(;null!==Qa;){var h=(d=Qa).sibling,p=d.return;if(il(d),d===c){Qa=null;break}if(null!==h){h.return=p,Qa=h;break}Qa=p}}}var m=s.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Qa=s}}if(0!==(2064&s.subtreeFlags)&&null!==a)a.return=s,Qa=a;else e:for(;null!==Qa;){if(0!==(2048&(s=Qa).flags))switch(s.tag){case 0:case 11:case 15:nl(9,s,s.return)}var y=s.sibling;if(null!==y){y.return=s.return,Qa=y;break e}Qa=s.return}}var b=e.current;for(Qa=b;null!==Qa;){var w=(a=Qa).child;if(0!==(2064&a.subtreeFlags)&&null!==w)w.return=a,Qa=w;else e:for(a=b;null!==Qa;){if(0!==(2048&(l=Qa).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(_){Su(l,l.return,_)}if(l===a){Qa=null;break e}var x=l.sibling;if(null!==x){x.return=l.return,Qa=x;break e}Qa=l.return}}if(Al=o,qo(),it&&"function"===typeof it.onPostCommitFiberRoot)try{it.onPostCommitFiberRoot(ot,e)}catch(_){}r=!0}return r}finally{bt=n,Tl.transition=t}}return!1}function ku(e,t,n){e=$i(e,t=ha(0,t=ua(n,t),1),1),t=eu(),null!==e&&(vt(e,1,t),ru(e,t))}function Su(e,t,n){if(3===e.tag)ku(e,e,n);else for(;null!==t;){if(3===t.tag){ku(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Wl||!Wl.has(r))){t=$i(t,e=pa(t,e=ua(n,e),1),1),e=eu(),null!==t&&(vt(t,1,e),ru(t,e));break}}t=t.return}}function Cu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=eu(),e.pingedLanes|=e.suspendedLanes&n,Ol===e&&(Nl&n)===n&&(4===jl||3===jl&&(130023424&Nl)===Nl&&500>Ze()-zl?fu(e,0):Ul|=n),ru(e,t)}function Eu(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=eu();null!==(e=Li(e,t))&&(vt(e,t,n),ru(e,n))}function Tu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Eu(e,n)}function Au(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;null!==o&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(i(314))}null!==r&&r.delete(t),Eu(e,n)}function Ou(e,t){return Ge(e,t)}function Iu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nu(e,t,n,r){return new Iu(e,t,n,r)}function Ru(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Pu(e,t){var n=e.alternate;return null===n?((n=Nu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ju(e,t,n,r,o,s){var a=2;if(r=e,"function"===typeof e)Ru(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case k:return Lu(n.children,o,s,t);case S:a=8,o|=8;break;case C:return(e=Nu(12,n,t,2|o)).elementType=C,e.lanes=s,e;case O:return(e=Nu(13,n,t,o)).elementType=O,e.lanes=s,e;case I:return(e=Nu(19,n,t,o)).elementType=I,e.lanes=s,e;case P:return Du(n,o,s,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case E:a=10;break e;case T:a=9;break e;case A:a=11;break e;case N:a=14;break e;case R:a=16,r=null;break e}throw Error(i(130,null==e?e:typeof e,""))}return(t=Nu(a,n,t,o)).elementType=e,t.type=r,t.lanes=s,t}function Lu(e,t,n,r){return(e=Nu(7,e,r,t)).lanes=n,e}function Du(e,t,n,r){return(e=Nu(22,e,r,t)).elementType=P,e.lanes=n,e.stateNode={isHidden:!1},e}function Mu(e,t,n){return(e=Nu(6,e,null,t)).lanes=n,e}function Uu(e,t,n){return(t=Nu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Fu(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function $u(e,t,n,r,o,i,s,a,l){return e=new Fu(e,t,n,a,l),1===t?(t=1,!0===i&&(t|=8)):t=0,i=Nu(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Mi(i),e}function zu(e){if(!e)return Ao;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Po(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(i(171))}if(1===e.tag){var n=e.type;if(Po(n))return Do(e,n,t)}return t}function Bu(e,t,n,r,o,i,s,a,l){return(e=$u(n,r,!0,e,0,i,0,a,l)).context=zu(null),n=e.current,(i=Fi(r=eu(),o=tu(n))).callback=void 0!==t&&null!==t?t:null,$i(n,i,o),e.current.lanes=o,vt(e,o,r),ru(e,r),e}function qu(e,t,n,r){var o=t.current,i=eu(),s=tu(o);return n=zu(n),null===t.context?t.context=n:t.pendingContext=n,(t=Fi(i,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=$i(o,t,s))&&(nu(e,o,s,i),zi(e,o,s)),s}function Vu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Wu(e,t){Hu(e,t),(e=e.alternate)&&Hu(e,t)}kl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Io.current)ba=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ba=!1,function(e,t,n){switch(t.tag){case 3:Oa(t),pi();break;case 5:Qi(t);break;case 1:Po(t.type)&&Mo(t);break;case 4:Yi(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;To(ki,r._currentValue),r._currentValue=o;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(To(es,1&es.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ma(e,t,n):(To(es,1&es.current),null!==(e=Va(e,t,n))?e.sibling:null);To(es,1&es.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Ba(e,t,n);t.flags|=128}if(null!==(o=t.memoizedState)&&(o.rendering=null,o.tail=null,o.lastEffect=null),To(es,es.current),r)break;return null;case 22:case 23:return t.lanes=0,Sa(e,t,n)}return Va(e,t,n)}(e,t,n);ba=0!==(131072&e.flags)}else ba=!1,ii&&0!==(1048576&t.flags)&&ei(t,Go,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qa(e,t),e=t.pendingProps;var o=Ro(t,Oo.current);Ii(t,n),o=gs(null,t,r,e,o,n);var s=vs();return t.flags|=1,"object"===typeof o&&null!==o&&"function"===typeof o.render&&void 0===o.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Po(r)?(s=!0,Mo(t)):s=!1,t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,Mi(t),o.updater=oa,t.stateNode=o,o._reactInternals=t,la(t,r,e,n),t=Aa(null,t,r,!0,s,n)):(t.tag=0,ii&&s&&ti(t),wa(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(qa(e,t),e=t.pendingProps,r=(o=r._init)(r._payload),t.type=r,o=t.tag=function(e){if("function"===typeof e)return Ru(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===A)return 11;if(e===N)return 14}return 2}(r),e=na(r,e),o){case 0:t=Ea(null,t,r,e,n);break e;case 1:t=Ta(null,t,r,e,n);break e;case 11:t=xa(null,t,r,e,n);break e;case 14:t=_a(null,t,r,na(r.type,e),n);break e}throw Error(i(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,Ea(e,t,r,o=t.elementType===r?o:na(r,o),n);case 1:return r=t.type,o=t.pendingProps,Ta(e,t,r,o=t.elementType===r?o:na(r,o),n);case 3:e:{if(Oa(t),null===e)throw Error(i(387));r=t.pendingProps,o=(s=t.memoizedState).element,Ui(e,t),qi(t,r,null,n);var a=t.memoizedState;if(r=a.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Ia(e,t,r,n,o=ua(Error(i(423)),t));break e}if(r!==o){t=Ia(e,t,r,n,o=ua(Error(i(424)),t));break e}for(oi=uo(t.stateNode.containerInfo.firstChild),ri=t,ii=!0,si=null,n=_i(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(pi(),r===o){t=Va(e,t,n);break e}wa(e,t,r,n)}t=t.child}return t;case 5:return Qi(t),null===e&&ci(t),r=t.type,o=t.pendingProps,s=null!==e?e.memoizedProps:null,a=o.children,no(r,o)?a=null:null!==s&&no(r,s)&&(t.flags|=32),Ca(e,t),wa(e,t,a,n),t.child;case 6:return null===e&&ci(t),null;case 13:return Ma(e,t,n);case 4:return Yi(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=xi(t,null,r,n):wa(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,xa(e,t,r,o=t.elementType===r?o:na(r,o),n);case 7:return wa(e,t,t.pendingProps,n),t.child;case 8:case 12:return wa(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,s=t.memoizedProps,a=o.value,To(ki,r._currentValue),r._currentValue=a,null!==s)if(ar(s.value,a)){if(s.children===o.children&&!Io.current){t=Va(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var l=s.dependencies;if(null!==l){a=s.child;for(var u=l.firstContext;null!==u;){if(u.context===r){if(1===s.tag){(u=Fi(-1,n&-n)).tag=2;var c=s.updateQueue;if(null!==c){var d=(c=c.shared).pending;null===d?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),Oi(s.return,n,t),l.lanes|=n;break}u=u.next}}else if(10===s.tag)a=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(a=s.return))throw Error(i(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),Oi(a,n,t),a=s.sibling}else a=s.child;if(null!==a)a.return=s;else for(a=s;null!==a;){if(a===t){a=null;break}if(null!==(s=a.sibling)){s.return=a.return,a=s;break}a=a.return}s=a}wa(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,Ii(t,n),r=r(o=Ni(o)),t.flags|=1,wa(e,t,r,n),t.child;case 14:return o=na(r=t.type,t.pendingProps),_a(e,t,r,o=na(r.type,o),n);case 15:return ka(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:na(r,o),qa(e,t),t.tag=1,Po(r)?(e=!0,Mo(t)):e=!1,Ii(t,n),sa(t,r,o),la(t,r,o,n),Aa(null,t,r,!0,e,n);case 19:return Ba(e,t,n);case 22:return Sa(e,t,n)}throw Error(i(156,t.tag))};var Gu="function"===typeof reportError?reportError:function(e){console.error(e)};function Ju(e){this._internalRoot=e}function Ku(e){this._internalRoot=e}function Yu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Zu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Qu(){}function Xu(e,t,n,r,o){var i=n._reactRootContainer;if(i){var s=i;if("function"===typeof o){var a=o;o=function(){var e=Vu(s);a.call(e)}}qu(t,s,e,o)}else s=function(e,t,n,r,o){if(o){if("function"===typeof r){var i=r;r=function(){var e=Vu(s);i.call(e)}}var s=Bu(t,r,e,0,null,!1,0,"",Qu);return e._reactRootContainer=s,e[mo]=s.current,Br(8===e.nodeType?e.parentNode:e),cu(),s}for(;o=e.lastChild;)e.removeChild(o);if("function"===typeof r){var a=r;r=function(){var e=Vu(l);a.call(e)}}var l=$u(e,0,!1,null,0,!1,0,"",Qu);return e._reactRootContainer=l,e[mo]=l.current,Br(8===e.nodeType?e.parentNode:e),cu((function(){qu(t,l,n,r)})),l}(n,t,e,o,r);return Vu(s)}Ku.prototype.render=Ju.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));qu(e,t,null,null)},Ku.prototype.unmount=Ju.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cu((function(){qu(null,e,null,null)})),t[mo]=null}},Ku.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Pt.length&&0!==t&&t<Pt[n].priority;n++);Pt.splice(n,0,e),0===n&&Mt(e)}},xt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),ru(t,Ze()),0===(6&Al)&&(Bl=Ze()+500,qo()))}break;case 13:cu((function(){var t=Li(e,1);if(null!==t){var n=eu();nu(t,e,1,n)}})),Wu(e,1)}},_t=function(e){if(13===e.tag){var t=Li(e,134217728);if(null!==t)nu(t,e,134217728,eu());Wu(e,134217728)}},kt=function(e){if(13===e.tag){var t=tu(e),n=Li(e,t);if(null!==n)nu(n,e,t,eu());Wu(e,t)}},St=function(){return bt},Ct=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},_e=function(e,t,n){switch(t){case"input":if(Q(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=_o(r);if(!o)throw Error(i(90));G(r),Q(r,o)}}}break;case"textarea":ie(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ae=uu,Oe=cu;var ec={usingClientEntryPoint:!1,Events:[wo,xo,_o,Ee,Te,uu]},tc={findFiberByHostInstance:bo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nc={bundleType:tc.bundleType,version:tc.version,rendererPackageName:tc.rendererPackageName,rendererConfig:tc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:tc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rc.isDisabled&&rc.supportsFiber)try{ot=rc.inject(nc),it=rc}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ec,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yu(t))throw Error(i(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Yu(e))throw Error(i(299));var n=!1,r="",o=Gu;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(o=t.onRecoverableError)),t=$u(e,1,!1,null,0,n,0,r,o),e[mo]=t.current,Br(8===e.nodeType?e.parentNode:e),new Ju(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return cu(e)},t.hydrate=function(e,t,n){if(!Zu(t))throw Error(i(200));return Xu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Yu(e))throw Error(i(405));var r=null!=n&&n.hydratedSources||null,o=!1,s="",a=Gu;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(o=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=Bu(t,null,e,1,null!=n?n:null,o,0,s,a),e[mo]=t.current,Br(e),r)for(e=0;e<r.length;e++)o=(o=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new Ku(t)},t.render=function(e,t,n){if(!Zu(t))throw Error(i(200));return Xu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Zu(e))throw Error(i(40));return!!e._reactRootContainer&&(cu((function(){Xu(null,null,e,!1,(function(){e._reactRootContainer=null,e[mo]=null}))})),!0)},t.unstable_batchedUpdates=uu,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Zu(n))throw Error(i(200));if(null==e||void 0===e._reactInternals)throw Error(i(38));return Xu(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},4391:(e,t,n)=>{"use strict";var r=n(7950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},7950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(2730)},4358:(e,t)=>{"use strict";const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,r=/^[\u0021-\u003A\u003C-\u007E]*$/,o=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,a=(()=>{const e=function(){};return e.prototype=Object.create(null),e})();function l(e,t,n){do{const n=e.charCodeAt(t);if(32!==n&&9!==n)return t}while(++t<n);return n}function u(e,t,n){for(;t>n;){const n=e.charCodeAt(--t);if(32!==n&&9!==n)return t+1}return n}function c(e){if(-1===e.indexOf("%"))return e;try{return decodeURIComponent(e)}catch(t){return e}}},1153:(e,t,n)=>{"use strict";var r=n(5043),o=Symbol.for("react.element"),i=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,n){var r,i={},u=null,c=null;for(r in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(c=t.ref),t)s.call(t,r)&&!l.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:o,type:e,key:u,ref:c,props:i,_owner:a.current}}t.Fragment=i,t.jsx=u,t.jsxs=u},4202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),h=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var w=b.prototype=new y;w.constructor=b,m(w,v.prototype),w.isPureReactComponent=!0;var x=Array.isArray,_=Object.prototype.hasOwnProperty,k={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,r){var o,i={},s=null,a=null;if(null!=t)for(o in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(s=""+t.key),t)_.call(t,o)&&!S.hasOwnProperty(o)&&(i[o]=t[o]);var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}if(e&&e.defaultProps)for(o in l=e.defaultProps)void 0===i[o]&&(i[o]=l[o]);return{$$typeof:n,type:e,key:s,ref:a,props:i,_owner:k.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function A(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function O(e,t,o,i,s){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return s=s(l=e),e=""===i?"."+A(l,0):i,x(s)?(o="",null!=e&&(o=e.replace(T,"$&/")+"/"),O(s,t,o,"",(function(e){return e}))):null!=s&&(E(s)&&(s=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,o+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(T,"$&/")+"/")+e)),t.push(s)),1;if(l=0,i=""===i?".":i+":",x(e))for(var u=0;u<e.length;u++){var c=i+A(a=e[u],u);l+=O(a,t,o,c,s)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),u=0;!(a=e.next()).done;)l+=O(a=a.value,t,o,c=i+A(a,u++),s);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function I(e,t,n){if(null==e)return e;var r=[],o=0;return O(e,r,"","",(function(e){return t.call(n,e,o++)})),r}function N(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},P={transition:null},j={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:P,ReactCurrentOwner:k};function L(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:I,forEach:function(e,t,n){I(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return I(e,(function(){t++})),t},toArray:function(e){return I(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=o,t.Profiler=s,t.PureComponent=b,t.StrictMode=i,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=j,t.act=L,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o=m({},e.props),i=e.key,s=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,a=k.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)_.call(t,u)&&!S.hasOwnProperty(u)&&(o[u]=void 0===t[u]&&void 0!==l?l[u]:t[u])}var u=arguments.length-2;if(1===u)o.children=r;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];o.children=l}return{$$typeof:n,type:e.type,key:i,ref:s,props:o,_owner:a}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=C,t.createFactory=function(e){var t=C.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=P.transition;P.transition={};try{e()}finally{P.transition=t}},t.unstable_act=L,t.useCallback=function(e,t){return R.current.useCallback(e,t)},t.useContext=function(e){return R.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return R.current.useDeferredValue(e)},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useId=function(){return R.current.useId()},t.useImperativeHandle=function(e,t,n){return R.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return R.current.useMemo(e,t)},t.useReducer=function(e,t,n){return R.current.useReducer(e,t,n)},t.useRef=function(e){return R.current.useRef(e)},t.useState=function(e){return R.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return R.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return R.current.useTransition()},t.version="18.3.1"},5043:(e,t,n)=>{"use strict";e.exports=n(4202)},579:(e,t,n)=>{"use strict";e.exports=n(1153)},7234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,o=e[r];if(!(0<i(o,t)))break e;e[r]=t,e[n]=o,n=r}}function r(e){return 0===e.length?null:e[0]}function o(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,o=e.length,s=o>>>1;r<s;){var a=2*(r+1)-1,l=e[a],u=a+1,c=e[u];if(0>i(l,n))u<o&&0>i(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[a]=n,r=a);else{if(!(u<o&&0>i(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var u=[],c=[],d=1,f=null,h=3,p=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(c);null!==t;){if(null===t.callback)o(c);else{if(!(t.startTime<=e))break;o(c),t.sortIndex=t.expirationTime,n(u,t)}t=r(c)}}function x(e){if(g=!1,w(e),!m)if(null!==r(u))m=!0,P(_);else{var t=r(c);null!==t&&j(x,t.startTime-e)}}function _(e,n){m=!1,g&&(g=!1,y(E),E=-1),p=!0;var i=h;try{for(w(n),f=r(u);null!==f&&(!(f.expirationTime>n)||e&&!O());){var s=f.callback;if("function"===typeof s){f.callback=null,h=f.priorityLevel;var a=s(f.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?f.callback=a:f===r(u)&&o(u),w(n)}else o(u);f=r(u)}if(null!==f)var l=!0;else{var d=r(c);null!==d&&j(x,d.startTime-n),l=!1}return l}finally{f=null,h=i,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,S=!1,C=null,E=-1,T=5,A=-1;function O(){return!(t.unstable_now()-A<T)}function I(){if(null!==C){var e=t.unstable_now();A=e;var n=!0;try{n=C(!0,e)}finally{n?k():(S=!1,C=null)}}else S=!1}if("function"===typeof b)k=function(){b(I)};else if("undefined"!==typeof MessageChannel){var N=new MessageChannel,R=N.port2;N.port1.onmessage=I,k=function(){R.postMessage(null)}}else k=function(){v(I,0)};function P(e){C=e,S||(S=!0,k())}function j(e,n){E=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,P(_))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,o,i){var s=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?s+i:s:i=s,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:d++,callback:o,priorityLevel:e,startTime:i,expirationTime:a=i+a,sortIndex:-1},i>s?(e.sortIndex=i,n(c,e),null===r(u)&&e===r(c)&&(g?(y(E),E=-1):g=!0,j(x,i-s))):(e.sortIndex=a,n(u,e),m||p||(m=!0,P(_))),e},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},8853:(e,t,n)=>{"use strict";e.exports=n(7234)},7294:function(e,t,n){"use strict";var r=(this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}})(n(4222)),o=n(8146);function i(e,t){var n={};return e&&"string"===typeof e?((0,r.default)(e,(function(e,r){e&&r&&(n[(0,o.camelCase)(e,t)]=r)})),n):n}i.default=i,e.exports=i},8146:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.camelCase=void 0;var n=/^--[a-zA-Z0-9_-]+$/,r=/-([a-z])/g,o=/^[^-]+$/,i=/^-(webkit|moz|ms|o|khtml)-/,s=/^-(ms)-/,a=function(e,t){return t.toUpperCase()},l=function(e,t){return"".concat(t,"-")};t.camelCase=function(e,t){return void 0===t&&(t={}),function(e){return!e||o.test(e)||n.test(e)}(e)?e:(e=e.toLowerCase(),(e=t.reactCompat?e.replace(s,l):e.replace(i,l)).replace(r,a))}},4222:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=null;if(!e||"string"!==typeof e)return n;var r=(0,o.default)(e),i="function"===typeof t;return r.forEach((function(e){if("declaration"===e.type){var r=e.property,o=e.value;i?t(r,o,e):o&&((n=n||{})[r]=o)}})),n};var o=r(n(4403))},9555:()=>{},3737:()=>{},8139:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function o(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=s(e,i(n)))}return e}function i(e){if("string"===typeof e||"number"===typeof e)return e;if("object"!==typeof e)return"";if(Array.isArray(e))return o.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)r.call(e,n)&&e[n]&&(t=s(t,n));return t}function s(e,t){return t?e?e+" "+t:e+t:e}e.exports?(o.default=o,e.exports=o):void 0===(n=function(){return o}.apply(t,[]))||(e.exports=n)}()},1862:(e,t,n)=>{"use strict";var r,o;n.d(t,{V2:()=>It,M4:()=>Wi,Ay:()=>ct,AU:()=>Ot}),function(e){e.assertEqual=e=>{},e.assertIs=function(e){},e.assertNever=function(e){throw new Error},e.arrayToEnum=e=>{const t={};for(const n of e)t[n]=n;return t},e.getValidEnumValues=t=>{const n=e.objectKeys(t).filter((e=>"number"!==typeof t[t[e]])),r={};for(const e of n)r[e]=t[e];return e.objectValues(r)},e.objectValues=t=>e.objectKeys(t).map((function(e){return t[e]})),e.objectKeys="function"===typeof Object.keys?e=>Object.keys(e):e=>{const t=[];for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t},e.find=(e,t)=>{for(const n of e)if(t(n))return n},e.isInteger="function"===typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"===typeof e&&Number.isFinite(e)&&Math.floor(e)===e,e.joinValues=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" | ";return e.map((e=>"string"===typeof e?`'${e}'`:e)).join(t)},e.jsonStringifyReplacer=(e,t)=>"bigint"===typeof t?t.toString():t}(r||(r={})),function(e){e.mergeShapes=(e,t)=>({...e,...t})}(o||(o={}));const i=r.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),s=e=>{switch(typeof e){case"undefined":return i.undefined;case"string":return i.string;case"number":return Number.isNaN(e)?i.nan:i.number;case"boolean":return i.boolean;case"function":return i.function;case"bigint":return i.bigint;case"symbol":return i.symbol;case"object":return Array.isArray(e)?i.array:null===e?i.null:e.then&&"function"===typeof e.then&&e.catch&&"function"===typeof e.catch?i.promise:"undefined"!==typeof Map&&e instanceof Map?i.map:"undefined"!==typeof Set&&e instanceof Set?i.set:"undefined"!==typeof Date&&e instanceof Date?i.date:i.object;default:return i.unknown}},a=r.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class l extends Error{get errors(){return this.issues}constructor(e){var t;super(),t=this,this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];t.issues=[...t.issues,...e]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const t=e||function(e){return e.message},n={_errors:[]},r=e=>{for(const o of e.issues)if("invalid_union"===o.code)o.unionErrors.map(r);else if("invalid_return_type"===o.code)r(o.returnTypeError);else if("invalid_arguments"===o.code)r(o.argumentsError);else if(0===o.path.length)n._errors.push(t(o));else{let e=n,r=0;for(;r<o.path.length;){const n=o.path[r];r===o.path.length-1?(e[n]=e[n]||{_errors:[]},e[n]._errors.push(t(o))):e[n]=e[n]||{_errors:[]},e=e[n],r++}}};return r(this),n}static assert(e){if(!(e instanceof l))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,r.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e=>e.message;const t={},n=[];for(const r of this.issues)r.path.length>0?(t[r.path[0]]=t[r.path[0]]||[],t[r.path[0]].push(e(r))):n.push(e(r));return{formErrors:n,fieldErrors:t}}get formErrors(){return this.flatten()}}l.create=e=>new l(e);const u=(e,t)=>{let n;switch(e.code){case a.invalid_type:n=e.received===i.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case a.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,r.jsonStringifyReplacer)}`;break;case a.unrecognized_keys:n=`Unrecognized key(s) in object: ${r.joinValues(e.keys,", ")}`;break;case a.invalid_union:n="Invalid input";break;case a.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${r.joinValues(e.options)}`;break;case a.invalid_enum_value:n=`Invalid enum value. Expected ${r.joinValues(e.options)}, received '${e.received}'`;break;case a.invalid_arguments:n="Invalid function arguments";break;case a.invalid_return_type:n="Invalid function return type";break;case a.invalid_date:n="Invalid date";break;case a.invalid_string:"object"===typeof e.validation?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,"number"===typeof e.validation.position&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:r.assertNever(e.validation):n="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case a.too_small:n="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case a.too_big:n="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case a.custom:n="Invalid input";break;case a.invalid_intersection_types:n="Intersection results could not be merged";break;case a.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case a.not_finite:n="Number must be finite";break;default:n=t.defaultError,r.assertNever(e)}return{message:n}};let c=u;function d(){return c}const f=e=>{const{data:t,path:n,errorMaps:r,issueData:o}=e,i=[...n,...o.path||[]],s={...o,path:i};if(void 0!==o.message)return{...o,path:i,message:o.message};let a="";const l=r.filter((e=>!!e)).slice().reverse();for(const u of l)a=u(s,{data:t,defaultError:a}).message;return{...o,path:i,message:a}};function h(e,t){const n=d(),r=f({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===u?void 0:u].filter((e=>!!e))});e.common.issues.push(r)}class p{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){const n=[];for(const r of t){if("aborted"===r.status)return m;"dirty"===r.status&&e.dirty(),n.push(r.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,t){const n=[];for(const r of t){const e=await r.key,t=await r.value;n.push({key:e,value:t})}return p.mergeObjectSync(e,n)}static mergeObjectSync(e,t){const n={};for(const r of t){const{key:t,value:o}=r;if("aborted"===t.status)return m;if("aborted"===o.status)return m;"dirty"===t.status&&e.dirty(),"dirty"===o.status&&e.dirty(),"__proto__"===t.value||"undefined"===typeof o.value&&!r.alwaysSet||(n[t.value]=o.value)}return{status:e.value,value:n}}}const m=Object.freeze({status:"aborted"}),g=e=>({status:"dirty",value:e}),v=e=>({status:"valid",value:e}),y=e=>"aborted"===e.status,b=e=>"dirty"===e.status,w=e=>"valid"===e.status,x=e=>"undefined"!==typeof Promise&&e instanceof Promise;var _;!function(e){e.errToObj=e=>"string"===typeof e?{message:e}:e||{},e.toString=e=>"string"===typeof e?e:e?.message}(_||(_={}));class k{constructor(e,t,n,r){this._cachedPath=[],this.parent=e,this.data=t,this._path=n,this._key=r}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const S=(e,t)=>{if(w(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new l(e.common.issues);return this._error=t,this._error}}};function C(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:o}=e;if(t&&(n||r))throw new Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');if(t)return{errorMap:t,description:o};return{errorMap:(t,o)=>{const{message:i}=e;return"invalid_enum_value"===t.code?{message:i??o.defaultError}:"undefined"===typeof o.data?{message:i??r??o.defaultError}:"invalid_type"!==t.code?{message:o.defaultError}:{message:i??n??o.defaultError}},description:o}}class E{get description(){return this._def.description}_getType(e){return s(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:s(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new p,ctx:{common:e.parent.common,data:e.data,parsedType:s(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(x(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const n=this.safeParse(e,t);if(n.success)return n.data;throw n.error}safeParse(e,t){const n={common:{issues:[],async:t?.async??!1,contextualErrorMap:t?.errorMap},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:s(e)},r=this._parseSync({data:e,path:n.path,parent:n});return S(n,r)}"~validate"(e){const t={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:s(e)};if(!this["~standard"].async)try{const n=this._parseSync({data:e,path:[],parent:t});return w(n)?{value:n.value}:{issues:t.common.issues}}catch(n){n?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),t.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:t}).then((e=>w(e)?{value:e.value}:{issues:t.common.issues}))}async parseAsync(e,t){const n=await this.safeParseAsync(e,t);if(n.success)return n.data;throw n.error}async safeParseAsync(e,t){const n={common:{issues:[],contextualErrorMap:t?.errorMap,async:!0},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:s(e)},r=this._parse({data:e,path:n.path,parent:n}),o=await(x(r)?r:Promise.resolve(r));return S(n,o)}refine(e,t){const n=e=>"string"===typeof t||"undefined"===typeof t?{message:t}:"function"===typeof t?t(e):t;return this._refinement(((t,r)=>{const o=e(t),i=()=>r.addIssue({code:a.custom,...n(t)});return"undefined"!==typeof Promise&&o instanceof Promise?o.then((e=>!!e||(i(),!1))):!!o||(i(),!1)}))}refinement(e,t){return this._refinement(((n,r)=>!!e(n)||(r.addIssue("function"===typeof t?t(n,r):t),!1)))}_refinement(e){return new ke({schema:this,typeName:Re.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:e=>this["~validate"](e)}}optional(){return Se.create(this,this._def)}nullable(){return Ce.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ae.create(this)}promise(){return _e.create(this,this._def)}or(e){return ce.create([this,e],this._def)}and(e){return fe.create(this,e,this._def)}transform(e){return new ke({...C(this._def),schema:this,typeName:Re.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t="function"===typeof e?e:()=>e;return new Ee({...C(this._def),innerType:this,defaultValue:t,typeName:Re.ZodDefault})}brand(){return new Oe({typeName:Re.ZodBranded,type:this,...C(this._def)})}catch(e){const t="function"===typeof e?e:()=>e;return new Te({...C(this._def),innerType:this,catchValue:t,typeName:Re.ZodCatch})}describe(e){return new(0,this.constructor)({...this._def,description:e})}pipe(e){return Ie.create(this,e)}readonly(){return Ne.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const T=/^c[^\s-]{8,}$/i,A=/^[0-9a-z]+$/,O=/^[0-9A-HJKMNP-TV-Z]{26}$/i,I=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,N=/^[a-z0-9_-]{21}$/i,R=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,P=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,j=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i;let L;const D=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,M=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,U=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,F=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,$=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,z=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,B="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",q=new RegExp(`^${B}$`);function V(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:null==e.precision&&(t=`${t}(\\.\\d+)?`);return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${e.precision?"+":"?"}`}function H(e){let t=`${B}T${V(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function W(e,t){if(!R.test(e))return!1;try{const[n]=e.split("."),r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),o=JSON.parse(atob(r));return"object"===typeof o&&null!==o&&((!("typ"in o)||"JWT"===o?.typ)&&(!!o.alg&&(!t||o.alg===t)))}catch{return!1}}function G(e,t){return!("v4"!==t&&t||!M.test(e))||!("v6"!==t&&t||!F.test(e))}class J extends E{_parse(e){this._def.coerce&&(e.data=String(e.data));if(this._getType(e)!==i.string){const t=this._getOrReturnCtx(e);return h(t,{code:a.invalid_type,expected:i.string,received:t.parsedType}),m}const t=new p;let n;for(const i of this._def.checks)if("min"===i.kind)e.data.length<i.value&&(n=this._getOrReturnCtx(e,n),h(n,{code:a.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),t.dirty());else if("max"===i.kind)e.data.length>i.value&&(n=this._getOrReturnCtx(e,n),h(n,{code:a.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),t.dirty());else if("length"===i.kind){const r=e.data.length>i.value,o=e.data.length<i.value;(r||o)&&(n=this._getOrReturnCtx(e,n),r?h(n,{code:a.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):o&&h(n,{code:a.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),t.dirty())}else if("email"===i.kind)j.test(e.data)||(n=this._getOrReturnCtx(e,n),h(n,{validation:"email",code:a.invalid_string,message:i.message}),t.dirty());else if("emoji"===i.kind)L||(L=new RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),L.test(e.data)||(n=this._getOrReturnCtx(e,n),h(n,{validation:"emoji",code:a.invalid_string,message:i.message}),t.dirty());else if("uuid"===i.kind)I.test(e.data)||(n=this._getOrReturnCtx(e,n),h(n,{validation:"uuid",code:a.invalid_string,message:i.message}),t.dirty());else if("nanoid"===i.kind)N.test(e.data)||(n=this._getOrReturnCtx(e,n),h(n,{validation:"nanoid",code:a.invalid_string,message:i.message}),t.dirty());else if("cuid"===i.kind)T.test(e.data)||(n=this._getOrReturnCtx(e,n),h(n,{validation:"cuid",code:a.invalid_string,message:i.message}),t.dirty());else if("cuid2"===i.kind)A.test(e.data)||(n=this._getOrReturnCtx(e,n),h(n,{validation:"cuid2",code:a.invalid_string,message:i.message}),t.dirty());else if("ulid"===i.kind)O.test(e.data)||(n=this._getOrReturnCtx(e,n),h(n,{validation:"ulid",code:a.invalid_string,message:i.message}),t.dirty());else if("url"===i.kind)try{new URL(e.data)}catch{n=this._getOrReturnCtx(e,n),h(n,{validation:"url",code:a.invalid_string,message:i.message}),t.dirty()}else if("regex"===i.kind){i.regex.lastIndex=0;i.regex.test(e.data)||(n=this._getOrReturnCtx(e,n),h(n,{validation:"regex",code:a.invalid_string,message:i.message}),t.dirty())}else if("trim"===i.kind)e.data=e.data.trim();else if("includes"===i.kind)e.data.includes(i.value,i.position)||(n=this._getOrReturnCtx(e,n),h(n,{code:a.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),t.dirty());else if("toLowerCase"===i.kind)e.data=e.data.toLowerCase();else if("toUpperCase"===i.kind)e.data=e.data.toUpperCase();else if("startsWith"===i.kind)e.data.startsWith(i.value)||(n=this._getOrReturnCtx(e,n),h(n,{code:a.invalid_string,validation:{startsWith:i.value},message:i.message}),t.dirty());else if("endsWith"===i.kind)e.data.endsWith(i.value)||(n=this._getOrReturnCtx(e,n),h(n,{code:a.invalid_string,validation:{endsWith:i.value},message:i.message}),t.dirty());else if("datetime"===i.kind){H(i).test(e.data)||(n=this._getOrReturnCtx(e,n),h(n,{code:a.invalid_string,validation:"datetime",message:i.message}),t.dirty())}else if("date"===i.kind){q.test(e.data)||(n=this._getOrReturnCtx(e,n),h(n,{code:a.invalid_string,validation:"date",message:i.message}),t.dirty())}else if("time"===i.kind){new RegExp(`^${V(i)}$`).test(e.data)||(n=this._getOrReturnCtx(e,n),h(n,{code:a.invalid_string,validation:"time",message:i.message}),t.dirty())}else"duration"===i.kind?P.test(e.data)||(n=this._getOrReturnCtx(e,n),h(n,{validation:"duration",code:a.invalid_string,message:i.message}),t.dirty()):"ip"===i.kind?(o=e.data,("v4"!==(s=i.version)&&s||!D.test(o))&&("v6"!==s&&s||!U.test(o))&&(n=this._getOrReturnCtx(e,n),h(n,{validation:"ip",code:a.invalid_string,message:i.message}),t.dirty())):"jwt"===i.kind?W(e.data,i.alg)||(n=this._getOrReturnCtx(e,n),h(n,{validation:"jwt",code:a.invalid_string,message:i.message}),t.dirty()):"cidr"===i.kind?G(e.data,i.version)||(n=this._getOrReturnCtx(e,n),h(n,{validation:"cidr",code:a.invalid_string,message:i.message}),t.dirty()):"base64"===i.kind?$.test(e.data)||(n=this._getOrReturnCtx(e,n),h(n,{validation:"base64",code:a.invalid_string,message:i.message}),t.dirty()):"base64url"===i.kind?z.test(e.data)||(n=this._getOrReturnCtx(e,n),h(n,{validation:"base64url",code:a.invalid_string,message:i.message}),t.dirty()):r.assertNever(i);var o,s;return{status:t.value,value:e.data}}_regex(e,t,n){return this.refinement((t=>e.test(t)),{validation:t,code:a.invalid_string,..._.errToObj(n)})}_addCheck(e){return new J({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",..._.errToObj(e)})}url(e){return this._addCheck({kind:"url",..._.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",..._.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",..._.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",..._.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",..._.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",..._.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",..._.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",..._.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",..._.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",..._.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",..._.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",..._.errToObj(e)})}datetime(e){return"string"===typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:"undefined"===typeof e?.precision?null:e?.precision,offset:e?.offset??!1,local:e?.local??!1,..._.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return"string"===typeof e?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:"undefined"===typeof e?.precision?null:e?.precision,..._.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",..._.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,..._.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t?.position,..._.errToObj(t?.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,..._.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,..._.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,..._.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,..._.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,..._.errToObj(t)})}nonempty(e){return this.min(1,_.errToObj(e))}trim(){return new J({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new J({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new J({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find((e=>"datetime"===e.kind))}get isDate(){return!!this._def.checks.find((e=>"date"===e.kind))}get isTime(){return!!this._def.checks.find((e=>"time"===e.kind))}get isDuration(){return!!this._def.checks.find((e=>"duration"===e.kind))}get isEmail(){return!!this._def.checks.find((e=>"email"===e.kind))}get isURL(){return!!this._def.checks.find((e=>"url"===e.kind))}get isEmoji(){return!!this._def.checks.find((e=>"emoji"===e.kind))}get isUUID(){return!!this._def.checks.find((e=>"uuid"===e.kind))}get isNANOID(){return!!this._def.checks.find((e=>"nanoid"===e.kind))}get isCUID(){return!!this._def.checks.find((e=>"cuid"===e.kind))}get isCUID2(){return!!this._def.checks.find((e=>"cuid2"===e.kind))}get isULID(){return!!this._def.checks.find((e=>"ulid"===e.kind))}get isIP(){return!!this._def.checks.find((e=>"ip"===e.kind))}get isCIDR(){return!!this._def.checks.find((e=>"cidr"===e.kind))}get isBase64(){return!!this._def.checks.find((e=>"base64"===e.kind))}get isBase64url(){return!!this._def.checks.find((e=>"base64url"===e.kind))}get minLength(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}function K(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,o=n>r?n:r;return Number.parseInt(e.toFixed(o).replace(".",""))%Number.parseInt(t.toFixed(o).replace(".",""))/10**o}J.create=e=>new J({checks:[],typeName:Re.ZodString,coerce:e?.coerce??!1,...C(e)});class Y extends E{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){this._def.coerce&&(e.data=Number(e.data));if(this._getType(e)!==i.number){const t=this._getOrReturnCtx(e);return h(t,{code:a.invalid_type,expected:i.number,received:t.parsedType}),m}let t;const n=new p;for(const o of this._def.checks)if("int"===o.kind)r.isInteger(e.data)||(t=this._getOrReturnCtx(e,t),h(t,{code:a.invalid_type,expected:"integer",received:"float",message:o.message}),n.dirty());else if("min"===o.kind){(o.inclusive?e.data<o.value:e.data<=o.value)&&(t=this._getOrReturnCtx(e,t),h(t,{code:a.too_small,minimum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),n.dirty())}else if("max"===o.kind){(o.inclusive?e.data>o.value:e.data>=o.value)&&(t=this._getOrReturnCtx(e,t),h(t,{code:a.too_big,maximum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),n.dirty())}else"multipleOf"===o.kind?0!==K(e.data,o.value)&&(t=this._getOrReturnCtx(e,t),h(t,{code:a.not_multiple_of,multipleOf:o.value,message:o.message}),n.dirty()):"finite"===o.kind?Number.isFinite(e.data)||(t=this._getOrReturnCtx(e,t),h(t,{code:a.not_finite,message:o.message}),n.dirty()):r.assertNever(o);return{status:n.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,_.toString(t))}gt(e,t){return this.setLimit("min",e,!1,_.toString(t))}lte(e,t){return this.setLimit("max",e,!0,_.toString(t))}lt(e,t){return this.setLimit("max",e,!1,_.toString(t))}setLimit(e,t,n,r){return new Y({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:_.toString(r)}]})}_addCheck(e){return new Y({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:_.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:_.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:_.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:_.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:_.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:_.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:_.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:_.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:_.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find((e=>"int"===e.kind||"multipleOf"===e.kind&&r.isInteger(e.value)))}get isFinite(){let e=null,t=null;for(const n of this._def.checks){if("finite"===n.kind||"int"===n.kind||"multipleOf"===n.kind)return!0;"min"===n.kind?(null===t||n.value>t)&&(t=n.value):"max"===n.kind&&(null===e||n.value<e)&&(e=n.value)}return Number.isFinite(t)&&Number.isFinite(e)}}Y.create=e=>new Y({checks:[],typeName:Re.ZodNumber,coerce:e?.coerce||!1,...C(e)});class Z extends E{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==i.bigint)return this._getInvalidInput(e);let t;const n=new p;for(const o of this._def.checks)if("min"===o.kind){(o.inclusive?e.data<o.value:e.data<=o.value)&&(t=this._getOrReturnCtx(e,t),h(t,{code:a.too_small,type:"bigint",minimum:o.value,inclusive:o.inclusive,message:o.message}),n.dirty())}else if("max"===o.kind){(o.inclusive?e.data>o.value:e.data>=o.value)&&(t=this._getOrReturnCtx(e,t),h(t,{code:a.too_big,type:"bigint",maximum:o.value,inclusive:o.inclusive,message:o.message}),n.dirty())}else"multipleOf"===o.kind?e.data%o.value!==BigInt(0)&&(t=this._getOrReturnCtx(e,t),h(t,{code:a.not_multiple_of,multipleOf:o.value,message:o.message}),n.dirty()):r.assertNever(o);return{status:n.value,value:e.data}}_getInvalidInput(e){const t=this._getOrReturnCtx(e);return h(t,{code:a.invalid_type,expected:i.bigint,received:t.parsedType}),m}gte(e,t){return this.setLimit("min",e,!0,_.toString(t))}gt(e,t){return this.setLimit("min",e,!1,_.toString(t))}lte(e,t){return this.setLimit("max",e,!0,_.toString(t))}lt(e,t){return this.setLimit("max",e,!1,_.toString(t))}setLimit(e,t,n,r){return new Z({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:_.toString(r)}]})}_addCheck(e){return new Z({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:_.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:_.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:_.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:_.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:_.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}Z.create=e=>new Z({checks:[],typeName:Re.ZodBigInt,coerce:e?.coerce??!1,...C(e)});class Q extends E{_parse(e){this._def.coerce&&(e.data=Boolean(e.data));if(this._getType(e)!==i.boolean){const t=this._getOrReturnCtx(e);return h(t,{code:a.invalid_type,expected:i.boolean,received:t.parsedType}),m}return v(e.data)}}Q.create=e=>new Q({typeName:Re.ZodBoolean,coerce:e?.coerce||!1,...C(e)});class X extends E{_parse(e){this._def.coerce&&(e.data=new Date(e.data));if(this._getType(e)!==i.date){const t=this._getOrReturnCtx(e);return h(t,{code:a.invalid_type,expected:i.date,received:t.parsedType}),m}if(Number.isNaN(e.data.getTime())){return h(this._getOrReturnCtx(e),{code:a.invalid_date}),m}const t=new p;let n;for(const o of this._def.checks)"min"===o.kind?e.data.getTime()<o.value&&(n=this._getOrReturnCtx(e,n),h(n,{code:a.too_small,message:o.message,inclusive:!0,exact:!1,minimum:o.value,type:"date"}),t.dirty()):"max"===o.kind?e.data.getTime()>o.value&&(n=this._getOrReturnCtx(e,n),h(n,{code:a.too_big,message:o.message,inclusive:!0,exact:!1,maximum:o.value,type:"date"}),t.dirty()):r.assertNever(o);return{status:t.value,value:new Date(e.data.getTime())}}_addCheck(e){return new X({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:_.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:_.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}X.create=e=>new X({checks:[],coerce:e?.coerce||!1,typeName:Re.ZodDate,...C(e)});class ee extends E{_parse(e){if(this._getType(e)!==i.symbol){const t=this._getOrReturnCtx(e);return h(t,{code:a.invalid_type,expected:i.symbol,received:t.parsedType}),m}return v(e.data)}}ee.create=e=>new ee({typeName:Re.ZodSymbol,...C(e)});class te extends E{_parse(e){if(this._getType(e)!==i.undefined){const t=this._getOrReturnCtx(e);return h(t,{code:a.invalid_type,expected:i.undefined,received:t.parsedType}),m}return v(e.data)}}te.create=e=>new te({typeName:Re.ZodUndefined,...C(e)});class ne extends E{_parse(e){if(this._getType(e)!==i.null){const t=this._getOrReturnCtx(e);return h(t,{code:a.invalid_type,expected:i.null,received:t.parsedType}),m}return v(e.data)}}ne.create=e=>new ne({typeName:Re.ZodNull,...C(e)});class re extends E{constructor(){super(...arguments),this._any=!0}_parse(e){return v(e.data)}}re.create=e=>new re({typeName:Re.ZodAny,...C(e)});class oe extends E{constructor(){super(...arguments),this._unknown=!0}_parse(e){return v(e.data)}}oe.create=e=>new oe({typeName:Re.ZodUnknown,...C(e)});class ie extends E{_parse(e){const t=this._getOrReturnCtx(e);return h(t,{code:a.invalid_type,expected:i.never,received:t.parsedType}),m}}ie.create=e=>new ie({typeName:Re.ZodNever,...C(e)});class se extends E{_parse(e){if(this._getType(e)!==i.undefined){const t=this._getOrReturnCtx(e);return h(t,{code:a.invalid_type,expected:i.void,received:t.parsedType}),m}return v(e.data)}}se.create=e=>new se({typeName:Re.ZodVoid,...C(e)});class ae extends E{_parse(e){const{ctx:t,status:n}=this._processInputParams(e),r=this._def;if(t.parsedType!==i.array)return h(t,{code:a.invalid_type,expected:i.array,received:t.parsedType}),m;if(null!==r.exactLength){const e=t.data.length>r.exactLength.value,o=t.data.length<r.exactLength.value;(e||o)&&(h(t,{code:e?a.too_big:a.too_small,minimum:o?r.exactLength.value:void 0,maximum:e?r.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:r.exactLength.message}),n.dirty())}if(null!==r.minLength&&t.data.length<r.minLength.value&&(h(t,{code:a.too_small,minimum:r.minLength.value,type:"array",inclusive:!0,exact:!1,message:r.minLength.message}),n.dirty()),null!==r.maxLength&&t.data.length>r.maxLength.value&&(h(t,{code:a.too_big,maximum:r.maxLength.value,type:"array",inclusive:!0,exact:!1,message:r.maxLength.message}),n.dirty()),t.common.async)return Promise.all([...t.data].map(((e,n)=>r.type._parseAsync(new k(t,e,t.path,n))))).then((e=>p.mergeArray(n,e)));const o=[...t.data].map(((e,n)=>r.type._parseSync(new k(t,e,t.path,n))));return p.mergeArray(n,o)}get element(){return this._def.type}min(e,t){return new ae({...this._def,minLength:{value:e,message:_.toString(t)}})}max(e,t){return new ae({...this._def,maxLength:{value:e,message:_.toString(t)}})}length(e,t){return new ae({...this._def,exactLength:{value:e,message:_.toString(t)}})}nonempty(e){return this.min(1,e)}}function le(e){if(e instanceof ue){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=Se.create(le(r))}return new ue({...e._def,shape:()=>t})}return e instanceof ae?new ae({...e._def,type:le(e.element)}):e instanceof Se?Se.create(le(e.unwrap())):e instanceof Ce?Ce.create(le(e.unwrap())):e instanceof he?he.create(e.items.map((e=>le(e)))):e}ae.create=(e,t)=>new ae({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Re.ZodArray,...C(t)});class ue extends E{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;const e=this._def.shape(),t=r.objectKeys(e);return this._cached={shape:e,keys:t},this._cached}_parse(e){if(this._getType(e)!==i.object){const t=this._getOrReturnCtx(e);return h(t,{code:a.invalid_type,expected:i.object,received:t.parsedType}),m}const{status:t,ctx:n}=this._processInputParams(e),{shape:r,keys:o}=this._getCached(),s=[];if(!(this._def.catchall instanceof ie&&"strip"===this._def.unknownKeys))for(const i in n.data)o.includes(i)||s.push(i);const l=[];for(const i of o){const e=r[i],t=n.data[i];l.push({key:{status:"valid",value:i},value:e._parse(new k(n,t,n.path,i)),alwaysSet:i in n.data})}if(this._def.catchall instanceof ie){const e=this._def.unknownKeys;if("passthrough"===e)for(const t of s)l.push({key:{status:"valid",value:t},value:{status:"valid",value:n.data[t]}});else if("strict"===e)s.length>0&&(h(n,{code:a.unrecognized_keys,keys:s}),t.dirty());else if("strip"!==e)throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const e=this._def.catchall;for(const t of s){const r=n.data[t];l.push({key:{status:"valid",value:t},value:e._parse(new k(n,r,n.path,t)),alwaysSet:t in n.data})}}return n.common.async?Promise.resolve().then((async()=>{const e=[];for(const t of l){const n=await t.key,r=await t.value;e.push({key:n,value:r,alwaysSet:t.alwaysSet})}return e})).then((e=>p.mergeObjectSync(t,e))):p.mergeObjectSync(t,l)}get shape(){return this._def.shape()}strict(e){return _.errToObj,new ue({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(t,n)=>{const r=this._def.errorMap?.(t,n).message??n.defaultError;return"unrecognized_keys"===t.code?{message:_.errToObj(e).message??r}:{message:r}}}:{}})}strip(){return new ue({...this._def,unknownKeys:"strip"})}passthrough(){return new ue({...this._def,unknownKeys:"passthrough"})}extend(e){return new ue({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new ue({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Re.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new ue({...this._def,catchall:e})}pick(e){const t={};for(const n of r.objectKeys(e))e[n]&&this.shape[n]&&(t[n]=this.shape[n]);return new ue({...this._def,shape:()=>t})}omit(e){const t={};for(const n of r.objectKeys(this.shape))e[n]||(t[n]=this.shape[n]);return new ue({...this._def,shape:()=>t})}deepPartial(){return le(this)}partial(e){const t={};for(const n of r.objectKeys(this.shape)){const r=this.shape[n];e&&!e[n]?t[n]=r:t[n]=r.optional()}return new ue({...this._def,shape:()=>t})}required(e){const t={};for(const n of r.objectKeys(this.shape))if(e&&!e[n])t[n]=this.shape[n];else{let e=this.shape[n];for(;e instanceof Se;)e=e._def.innerType;t[n]=e}return new ue({...this._def,shape:()=>t})}keyof(){return be(r.objectKeys(this.shape))}}ue.create=(e,t)=>new ue({shape:()=>e,unknownKeys:"strip",catchall:ie.create(),typeName:Re.ZodObject,...C(t)}),ue.strictCreate=(e,t)=>new ue({shape:()=>e,unknownKeys:"strict",catchall:ie.create(),typeName:Re.ZodObject,...C(t)}),ue.lazycreate=(e,t)=>new ue({shape:e,unknownKeys:"strip",catchall:ie.create(),typeName:Re.ZodObject,...C(t)});class ce extends E{_parse(e){const{ctx:t}=this._processInputParams(e),n=this._def.options;if(t.common.async)return Promise.all(n.map((async e=>{const n={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:n}),ctx:n}}))).then((function(e){for(const t of e)if("valid"===t.result.status)return t.result;for(const r of e)if("dirty"===r.result.status)return t.common.issues.push(...r.ctx.common.issues),r.result;const n=e.map((e=>new l(e.ctx.common.issues)));return h(t,{code:a.invalid_union,unionErrors:n}),m}));{let e;const r=[];for(const i of n){const n={...t,common:{...t.common,issues:[]},parent:null},o=i._parseSync({data:t.data,path:t.path,parent:n});if("valid"===o.status)return o;"dirty"!==o.status||e||(e={result:o,ctx:n}),n.common.issues.length&&r.push(n.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;const o=r.map((e=>new l(e)));return h(t,{code:a.invalid_union,unionErrors:o}),m}}get options(){return this._def.options}}ce.create=(e,t)=>new ce({options:e,typeName:Re.ZodUnion,...C(t)});function de(e,t){const n=s(e),o=s(t);if(e===t)return{valid:!0,data:e};if(n===i.object&&o===i.object){const n=r.objectKeys(t),o=r.objectKeys(e).filter((e=>-1!==n.indexOf(e))),i={...e,...t};for(const r of o){const n=de(e[r],t[r]);if(!n.valid)return{valid:!1};i[r]=n.data}return{valid:!0,data:i}}if(n===i.array&&o===i.array){if(e.length!==t.length)return{valid:!1};const n=[];for(let r=0;r<e.length;r++){const o=de(e[r],t[r]);if(!o.valid)return{valid:!1};n.push(o.data)}return{valid:!0,data:n}}return n===i.date&&o===i.date&&+e===+t?{valid:!0,data:e}:{valid:!1}}class fe extends E{_parse(e){const{status:t,ctx:n}=this._processInputParams(e),r=(e,r)=>{if(y(e)||y(r))return m;const o=de(e.value,r.value);return o.valid?((b(e)||b(r))&&t.dirty(),{status:t.value,value:o.data}):(h(n,{code:a.invalid_intersection_types}),m)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then((e=>{let[t,n]=e;return r(t,n)})):r(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}fe.create=(e,t,n)=>new fe({left:e,right:t,typeName:Re.ZodIntersection,...C(n)});class he extends E{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==i.array)return h(n,{code:a.invalid_type,expected:i.array,received:n.parsedType}),m;if(n.data.length<this._def.items.length)return h(n,{code:a.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),m;!this._def.rest&&n.data.length>this._def.items.length&&(h(n,{code:a.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const r=[...n.data].map(((e,t)=>{const r=this._def.items[t]||this._def.rest;return r?r._parse(new k(n,e,n.path,t)):null})).filter((e=>!!e));return n.common.async?Promise.all(r).then((e=>p.mergeArray(t,e))):p.mergeArray(t,r)}get items(){return this._def.items}rest(e){return new he({...this._def,rest:e})}}he.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new he({items:e,typeName:Re.ZodTuple,rest:null,...C(t)})};class pe extends E{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==i.object)return h(n,{code:a.invalid_type,expected:i.object,received:n.parsedType}),m;const r=[],o=this._def.keyType,s=this._def.valueType;for(const i in n.data)r.push({key:o._parse(new k(n,i,n.path,i)),value:s._parse(new k(n,n.data[i],n.path,i)),alwaysSet:i in n.data});return n.common.async?p.mergeObjectAsync(t,r):p.mergeObjectSync(t,r)}get element(){return this._def.valueType}static create(e,t,n){return new pe(t instanceof E?{keyType:e,valueType:t,typeName:Re.ZodRecord,...C(n)}:{keyType:J.create(),valueType:e,typeName:Re.ZodRecord,...C(t)})}}class me extends E{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==i.map)return h(n,{code:a.invalid_type,expected:i.map,received:n.parsedType}),m;const r=this._def.keyType,o=this._def.valueType,s=[...n.data.entries()].map(((e,t)=>{let[i,s]=e;return{key:r._parse(new k(n,i,n.path,[t,"key"])),value:o._parse(new k(n,s,n.path,[t,"value"]))}}));if(n.common.async){const e=new Map;return Promise.resolve().then((async()=>{for(const n of s){const r=await n.key,o=await n.value;if("aborted"===r.status||"aborted"===o.status)return m;"dirty"!==r.status&&"dirty"!==o.status||t.dirty(),e.set(r.value,o.value)}return{status:t.value,value:e}}))}{const e=new Map;for(const n of s){const r=n.key,o=n.value;if("aborted"===r.status||"aborted"===o.status)return m;"dirty"!==r.status&&"dirty"!==o.status||t.dirty(),e.set(r.value,o.value)}return{status:t.value,value:e}}}}me.create=(e,t,n)=>new me({valueType:t,keyType:e,typeName:Re.ZodMap,...C(n)});class ge extends E{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==i.set)return h(n,{code:a.invalid_type,expected:i.set,received:n.parsedType}),m;const r=this._def;null!==r.minSize&&n.data.size<r.minSize.value&&(h(n,{code:a.too_small,minimum:r.minSize.value,type:"set",inclusive:!0,exact:!1,message:r.minSize.message}),t.dirty()),null!==r.maxSize&&n.data.size>r.maxSize.value&&(h(n,{code:a.too_big,maximum:r.maxSize.value,type:"set",inclusive:!0,exact:!1,message:r.maxSize.message}),t.dirty());const o=this._def.valueType;function s(e){const n=new Set;for(const r of e){if("aborted"===r.status)return m;"dirty"===r.status&&t.dirty(),n.add(r.value)}return{status:t.value,value:n}}const l=[...n.data.values()].map(((e,t)=>o._parse(new k(n,e,n.path,t))));return n.common.async?Promise.all(l).then((e=>s(e))):s(l)}min(e,t){return new ge({...this._def,minSize:{value:e,message:_.toString(t)}})}max(e,t){return new ge({...this._def,maxSize:{value:e,message:_.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}ge.create=(e,t)=>new ge({valueType:e,minSize:null,maxSize:null,typeName:Re.ZodSet,...C(t)});class ve extends E{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}ve.create=(e,t)=>new ve({getter:e,typeName:Re.ZodLazy,...C(t)});class ye extends E{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return h(t,{received:t.data,code:a.invalid_literal,expected:this._def.value}),m}return{status:"valid",value:e.data}}get value(){return this._def.value}}function be(e,t){return new we({values:e,typeName:Re.ZodEnum,...C(t)})}ye.create=(e,t)=>new ye({value:e,typeName:Re.ZodLiteral,...C(t)});class we extends E{_parse(e){if("string"!==typeof e.data){const t=this._getOrReturnCtx(e),n=this._def.values;return h(t,{expected:r.joinValues(n),received:t.parsedType,code:a.invalid_type}),m}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const t=this._getOrReturnCtx(e),n=this._def.values;return h(t,{received:t.data,code:a.invalid_enum_value,options:n}),m}return v(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._def;return we.create(e,{...this._def,...t})}exclude(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._def;return we.create(this.options.filter((t=>!e.includes(t))),{...this._def,...t})}}we.create=be;class xe extends E{_parse(e){const t=r.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==i.string&&n.parsedType!==i.number){const e=r.objectValues(t);return h(n,{expected:r.joinValues(e),received:n.parsedType,code:a.invalid_type}),m}if(this._cache||(this._cache=new Set(r.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const e=r.objectValues(t);return h(n,{received:n.data,code:a.invalid_enum_value,options:e}),m}return v(e.data)}get enum(){return this._def.values}}xe.create=(e,t)=>new xe({values:e,typeName:Re.ZodNativeEnum,...C(t)});class _e extends E{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==i.promise&&!1===t.common.async)return h(t,{code:a.invalid_type,expected:i.promise,received:t.parsedType}),m;const n=t.parsedType===i.promise?t.data:Promise.resolve(t.data);return v(n.then((e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap}))))}}_e.create=(e,t)=>new _e({type:e,typeName:Re.ZodPromise,...C(t)});class ke extends E{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Re.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:n}=this._processInputParams(e),o=this._def.effect||null,i={addIssue:e=>{h(n,e),e.fatal?t.abort():t.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),"preprocess"===o.type){const e=o.transform(n.data,i);if(n.common.async)return Promise.resolve(e).then((async e=>{if("aborted"===t.value)return m;const r=await this._def.schema._parseAsync({data:e,path:n.path,parent:n});return"aborted"===r.status?m:"dirty"===r.status||"dirty"===t.value?g(r.value):r}));{if("aborted"===t.value)return m;const r=this._def.schema._parseSync({data:e,path:n.path,parent:n});return"aborted"===r.status?m:"dirty"===r.status||"dirty"===t.value?g(r.value):r}}if("refinement"===o.type){const e=e=>{const t=o.refinement(e,i);if(n.common.async)return Promise.resolve(t);if(t instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1===n.common.async){const r=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===r.status?m:("dirty"===r.status&&t.dirty(),e(r.value),{status:t.value,value:r.value})}return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then((n=>"aborted"===n.status?m:("dirty"===n.status&&t.dirty(),e(n.value).then((()=>({status:t.value,value:n.value}))))))}if("transform"===o.type){if(!1===n.common.async){const e=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!w(e))return m;const r=o.transform(e.value,i);if(r instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:r}}return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then((e=>w(e)?Promise.resolve(o.transform(e.value,i)).then((e=>({status:t.value,value:e}))):m))}r.assertNever(o)}}ke.create=(e,t,n)=>new ke({schema:e,typeName:Re.ZodEffects,effect:t,...C(n)}),ke.createWithPreprocess=(e,t,n)=>new ke({schema:t,effect:{type:"preprocess",transform:e},typeName:Re.ZodEffects,...C(n)});class Se extends E{_parse(e){return this._getType(e)===i.undefined?v(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Se.create=(e,t)=>new Se({innerType:e,typeName:Re.ZodOptional,...C(t)});class Ce extends E{_parse(e){return this._getType(e)===i.null?v(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Ce.create=(e,t)=>new Ce({innerType:e,typeName:Re.ZodNullable,...C(t)});class Ee extends E{_parse(e){const{ctx:t}=this._processInputParams(e);let n=t.data;return t.parsedType===i.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}Ee.create=(e,t)=>new Ee({innerType:e,typeName:Re.ZodDefault,defaultValue:"function"===typeof t.default?t.default:()=>t.default,...C(t)});class Te extends E{_parse(e){const{ctx:t}=this._processInputParams(e),n={...t,common:{...t.common,issues:[]}},r=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return x(r)?r.then((e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new l(n.common.issues)},input:n.data})}))):{status:"valid",value:"valid"===r.status?r.value:this._def.catchValue({get error(){return new l(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}Te.create=(e,t)=>new Te({innerType:e,typeName:Re.ZodCatch,catchValue:"function"===typeof t.catch?t.catch:()=>t.catch,...C(t)});class Ae extends E{_parse(e){if(this._getType(e)!==i.nan){const t=this._getOrReturnCtx(e);return h(t,{code:a.invalid_type,expected:i.nan,received:t.parsedType}),m}return{status:"valid",value:e.data}}}Ae.create=e=>new Ae({typeName:Re.ZodNaN,...C(e)});Symbol("zod_brand");class Oe extends E{_parse(e){const{ctx:t}=this._processInputParams(e),n=t.data;return this._def.type._parse({data:n,path:t.path,parent:t})}unwrap(){return this._def.type}}class Ie extends E{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.common.async){return(async()=>{const e=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?m:"dirty"===e.status?(t.dirty(),g(e.value)):this._def.out._parseAsync({data:e.value,path:n.path,parent:n})})()}{const e=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?m:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:n.path,parent:n})}}static create(e,t){return new Ie({in:e,out:t,typeName:Re.ZodPipeline})}}class Ne extends E{_parse(e){const t=this._def.innerType._parse(e),n=e=>(w(e)&&(e.value=Object.freeze(e.value)),e);return x(t)?t.then((e=>n(e))):n(t)}unwrap(){return this._def.innerType}}Ne.create=(e,t)=>new Ne({innerType:e,typeName:Re.ZodReadonly,...C(t)});ue.lazycreate;var Re;!function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"}(Re||(Re={}));const Pe=J.create,je=Y.create,Le=(Ae.create,Z.create,Q.create),De=(X.create,ee.create,te.create,ne.create,re.create,oe.create),Me=(ie.create,se.create,ae.create),Ue=ue.create,Fe=(ue.strictCreate,ce.create),$e=(fe.create,he.create,pe.create),ze=(me.create,ge.create,ve.create),Be=(ye.create,we.create),qe=(xe.create,_e.create,ke.create,Se.create,Ce.create,ke.createWithPreprocess,Ie.create,e=>J.create({...e,coerce:!0}));let Ve,He;function We(e,t,n){var r,o,i;if(!(null===(r=e.httpOptions)||void 0===r?void 0:r.baseUrl)){const r={geminiUrl:Ve,vertexUrl:He};return e.vertexai?null!==(o=r.vertexUrl)&&void 0!==o?o:t:null!==(i=r.geminiUrl)&&void 0!==i?i:n}return e.httpOptions.baseUrl}class Ge{}function Je(e,t){return e.replace(/\{([^}]+)\}/g,((e,n)=>{if(Object.prototype.hasOwnProperty.call(t,n)){const e=t[n];return void 0!==e&&null!==e?String(e):""}throw new Error(`Key '${n}' not found in valueMap.`)}))}function Ke(e,t,n){for(let i=0;i<t.length-1;i++){const r=t[i];if(r.endsWith("[]")){const o=r.slice(0,-2);if(!(o in e)){if(!Array.isArray(n))throw new Error(`Value must be a list given an array path ${r}`);e[o]=Array.from({length:n.length},(()=>({})))}if(Array.isArray(e[o])){const r=e[o];if(Array.isArray(n))for(let e=0;e<r.length;e++){Ke(r[e],t.slice(i+1),n[e])}else for(const e of r)Ke(e,t.slice(i+1),n)}return}if(r.endsWith("[0]")){const o=r.slice(0,-3);o in e||(e[o]=[{}]);return void Ke(e[o][0],t.slice(i+1),n)}e[r]&&"object"===typeof e[r]||(e[r]={}),e=e[r]}const r=t[t.length-1],o=e[r];if(void 0!==o){if(!n||"object"===typeof n&&0===Object.keys(n).length)return;if(n===o)return;if("object"!==typeof o||"object"!==typeof n||null===o||null===n)throw new Error(`Cannot set value for an existing key. Key: ${r}`);Object.assign(o,n)}else e[r]=n}function Ye(e,t){try{if(1===t.length&&"_self"===t[0])return e;for(let n=0;n<t.length;n++){if("object"!==typeof e||null===e)return;const r=t[n];if(r.endsWith("[]")){const o=r.slice(0,-2);if(o in e){const r=e[o];if(!Array.isArray(r))return;return r.map((e=>Ye(e,t.slice(n+1))))}return}e=e[r]}return e}catch(n){if(n instanceof TypeError)return;throw n}}var Ze,Qe,Xe,et,tt,nt,rt,ot,it,st,at,lt,ut,ct,dt,ft,ht,pt,mt,gt,vt,yt,bt,wt,xt,_t,kt,St,Ct,Et,Tt,At,Ot,It,Nt,Rt,Pt,jt,Lt;!function(e){e.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",e.OUTCOME_OK="OUTCOME_OK",e.OUTCOME_FAILED="OUTCOME_FAILED",e.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"}(Ze||(Ze={})),function(e){e.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",e.PYTHON="PYTHON"}(Qe||(Qe={})),function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.STRING="STRING",e.NUMBER="NUMBER",e.INTEGER="INTEGER",e.BOOLEAN="BOOLEAN",e.ARRAY="ARRAY",e.OBJECT="OBJECT",e.NULL="NULL"}(Xe||(Xe={})),function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"}(et||(et={})),function(e){e.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",e.SEVERITY="SEVERITY",e.PROBABILITY="PROBABILITY"}(tt||(tt={})),function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE",e.OFF="OFF"}(nt||(nt={})),function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"}(rt||(rt={})),function(e){e.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",e.NO_AUTH="NO_AUTH",e.API_KEY_AUTH="API_KEY_AUTH",e.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",e.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",e.OAUTH="OAUTH",e.OIDC_AUTH="OIDC_AUTH"}(ot||(ot={})),function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.IMAGE_SAFETY="IMAGE_SAFETY"}(it||(it={})),function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"}(st||(st={})),function(e){e.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",e.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",e.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",e.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",e.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"}(at||(at={})),function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT"}(lt||(lt={})),function(e){e.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",e.ON_DEMAND="ON_DEMAND",e.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"}(ut||(ut={})),function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.AUDIO="AUDIO"}(ct||(ct={})),function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"}(dt||(dt={})),function(e){e.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",e.JOB_STATE_QUEUED="JOB_STATE_QUEUED",e.JOB_STATE_PENDING="JOB_STATE_PENDING",e.JOB_STATE_RUNNING="JOB_STATE_RUNNING",e.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",e.JOB_STATE_FAILED="JOB_STATE_FAILED",e.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",e.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",e.JOB_STATE_PAUSED="JOB_STATE_PAUSED",e.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",e.JOB_STATE_UPDATING="JOB_STATE_UPDATING",e.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"}(ft||(ft={})),function(e){e.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",e.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",e.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",e.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",e.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",e.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",e.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"}(ht||(ht={})),function(e){e.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",e.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",e.BALANCED="BALANCED",e.PRIORITIZE_COST="PRIORITIZE_COST"}(pt||(pt={})),function(e){e.UNSPECIFIED="UNSPECIFIED",e.BLOCKING="BLOCKING",e.NON_BLOCKING="NON_BLOCKING"}(mt||(mt={})),function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"}(gt||(gt={})),function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE"}(vt||(vt={})),function(e){e.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",e.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",e.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR"}(yt||(yt={})),function(e){e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"}(bt||(bt={})),function(e){e.DONT_ALLOW="DONT_ALLOW",e.ALLOW_ADULT="ALLOW_ADULT",e.ALLOW_ALL="ALLOW_ALL"}(wt||(wt={})),function(e){e.auto="auto",e.en="en",e.ja="ja",e.ko="ko",e.hi="hi"}(xt||(xt={})),function(e){e.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",e.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",e.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",e.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",e.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"}(_t||(_t={})),function(e){e.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",e.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",e.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",e.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"}(kt||(kt={})),function(e){e.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",e.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",e.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",e.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"}(St||(St={})),function(e){e.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",e.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",e.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",e.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",e.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",e.EDIT_MODE_STYLE="EDIT_MODE_STYLE",e.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",e.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"}(Ct||(Ct={})),function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.PROCESSING="PROCESSING",e.ACTIVE="ACTIVE",e.FAILED="FAILED"}(Et||(Et={})),function(e){e.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",e.UPLOADED="UPLOADED",e.GENERATED="GENERATED"}(Tt||(Tt={})),function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.VIDEO="VIDEO",e.AUDIO="AUDIO",e.DOCUMENT="DOCUMENT"}(At||(At={})),function(e){e.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",e.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",e.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"}(Ot||(Ot={})),function(e){e.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",e.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",e.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"}(It||(It={})),function(e){e.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",e.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",e.NO_INTERRUPTION="NO_INTERRUPTION"}(Nt||(Nt={})),function(e){e.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",e.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",e.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"}(Rt||(Rt={})),function(e){e.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",e.SILENT="SILENT",e.WHEN_IDLE="WHEN_IDLE",e.INTERRUPT="INTERRUPT"}(Pt||(Pt={})),function(e){e.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",e.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",e.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",e.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",e.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",e.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",e.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",e.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",e.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",e.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",e.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",e.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",e.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"}(jt||(jt={})),function(e){e.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",e.PLAY="PLAY",e.PAUSE="PAUSE",e.STOP="STOP",e.RESET_CONTEXT="RESET_CONTEXT"}(Lt||(Lt={}));class Dt{get text(){var e,t,n,r,o,i,s,a;if(0===(null===(r=null===(n=null===(t=null===(e=this.candidates)||void 0===e?void 0:e[0])||void 0===t?void 0:t.content)||void 0===n?void 0:n.parts)||void 0===r?void 0:r.length))return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let l="",u=!1;const c=[];for(const d of null!==(a=null===(s=null===(i=null===(o=this.candidates)||void 0===o?void 0:o[0])||void 0===i?void 0:i.content)||void 0===s?void 0:s.parts)&&void 0!==a?a:[]){for(const[e,t]of Object.entries(d))"text"===e||"thought"===e||null===t&&void 0===t||c.push(e);if("string"===typeof d.text){if("boolean"===typeof d.thought&&d.thought)continue;u=!0,l+=d.text}}return c.length>0&&console.warn(`there are non-text parts ${c} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),u?l:void 0}get data(){var e,t,n,r,o,i,s,a;if(0===(null===(r=null===(n=null===(t=null===(e=this.candidates)||void 0===e?void 0:e[0])||void 0===t?void 0:t.content)||void 0===n?void 0:n.parts)||void 0===r?void 0:r.length))return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let l="";const u=[];for(const c of null!==(a=null===(s=null===(i=null===(o=this.candidates)||void 0===o?void 0:o[0])||void 0===i?void 0:i.content)||void 0===s?void 0:s.parts)&&void 0!==a?a:[]){for(const[e,t]of Object.entries(c))"inlineData"===e||null===t&&void 0===t||u.push(e);c.inlineData&&"string"===typeof c.inlineData.data&&(l+=atob(c.inlineData.data))}return u.length>0&&console.warn(`there are non-data parts ${u} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),l.length>0?btoa(l):void 0}get functionCalls(){var e,t,n,r,o,i,s,a;if(0===(null===(r=null===(n=null===(t=null===(e=this.candidates)||void 0===e?void 0:e[0])||void 0===t?void 0:t.content)||void 0===n?void 0:n.parts)||void 0===r?void 0:r.length))return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const l=null===(a=null===(s=null===(i=null===(o=this.candidates)||void 0===o?void 0:o[0])||void 0===i?void 0:i.content)||void 0===s?void 0:s.parts)||void 0===a?void 0:a.filter((e=>e.functionCall)).map((e=>e.functionCall)).filter((e=>void 0!==e));return 0!==(null===l||void 0===l?void 0:l.length)?l:void 0}get executableCode(){var e,t,n,r,o,i,s,a,l;if(0===(null===(r=null===(n=null===(t=null===(e=this.candidates)||void 0===e?void 0:e[0])||void 0===t?void 0:t.content)||void 0===n?void 0:n.parts)||void 0===r?void 0:r.length))return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const u=null===(a=null===(s=null===(i=null===(o=this.candidates)||void 0===o?void 0:o[0])||void 0===i?void 0:i.content)||void 0===s?void 0:s.parts)||void 0===a?void 0:a.filter((e=>e.executableCode)).map((e=>e.executableCode)).filter((e=>void 0!==e));return 0!==(null===u||void 0===u?void 0:u.length)?null===(l=null===u||void 0===u?void 0:u[0])||void 0===l?void 0:l.code:void 0}get codeExecutionResult(){var e,t,n,r,o,i,s,a,l;if(0===(null===(r=null===(n=null===(t=null===(e=this.candidates)||void 0===e?void 0:e[0])||void 0===t?void 0:t.content)||void 0===n?void 0:n.parts)||void 0===r?void 0:r.length))return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const u=null===(a=null===(s=null===(i=null===(o=this.candidates)||void 0===o?void 0:o[0])||void 0===i?void 0:i.content)||void 0===s?void 0:s.parts)||void 0===a?void 0:a.filter((e=>e.codeExecutionResult)).map((e=>e.codeExecutionResult)).filter((e=>void 0!==e));return 0!==(null===u||void 0===u?void 0:u.length)?null===(l=null===u||void 0===u?void 0:u[0])||void 0===l?void 0:l.output:void 0}}class Mt{}class Ut{}class Ft{}class $t{}class zt{}class Bt{}class qt{}class Vt{}class Ht{}class Wt{}class Gt{}class Jt{}class Kt{constructor(e){const t={};for(const n of e.headers.entries())t[n[0]]=n[1];this.headers=t,this.responseInternal=e}json(){return this.responseInternal.json()}}class Yt{}class Zt{}class Qt{get text(){var e,t,n;let r="",o=!1;const i=[];for(const s of null!==(n=null===(t=null===(e=this.serverContent)||void 0===e?void 0:e.modelTurn)||void 0===t?void 0:t.parts)&&void 0!==n?n:[]){for(const[e,t]of Object.entries(s))"text"!==e&&"thought"!==e&&null!==t&&i.push(e);if("string"===typeof s.text){if("boolean"===typeof s.thought&&s.thought)continue;o=!0,r+=s.text}}return i.length>0&&console.warn(`there are non-text parts ${i} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),o?r:void 0}get data(){var e,t,n;let r="";const o=[];for(const i of null!==(n=null===(t=null===(e=this.serverContent)||void 0===e?void 0:e.modelTurn)||void 0===t?void 0:t.parts)&&void 0!==n?n:[]){for(const[e,t]of Object.entries(i))"inlineData"!==e&&null!==t&&o.push(e);i.inlineData&&"string"===typeof i.inlineData.data&&(r+=atob(i.inlineData.data))}return o.length>0&&console.warn(`there are non-data parts ${o} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class Xt{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}function en(e,t){if(!t||"string"!==typeof t)throw new Error("model is required and must be a string");if(e.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const e=t.split("/",2);return`publishers/${e[0]}/models/${e[1]}`}return`publishers/google/models/${t}`}return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function tn(e,t){const n=en(e,t);return n?n.startsWith("publishers/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}`:n.startsWith("models/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/publishers/google/${n}`:n:""}function nn(e,t){return Array.isArray(t)?t.map((t=>rn(e,t))):[rn(e,t)]}function rn(e,t){if("object"===typeof t&&null!==t)return t;throw new Error("Could not parse input as Blob. Unsupported blob type: "+typeof t)}function on(e,t){if(null===t||void 0===t)throw new Error("PartUnion is required");if("object"===typeof t)return t;if("string"===typeof t)return{text:t};throw new Error("Unsupported part type: "+typeof t)}function sn(e,t){if(null===t||void 0===t||Array.isArray(t)&&0===t.length)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map((e=>on(0,e))):[on(0,t)]}function an(e){return null!==e&&void 0!==e&&"object"===typeof e&&"parts"in e&&Array.isArray(e.parts)}function ln(e){return null!==e&&void 0!==e&&"object"===typeof e&&"functionCall"in e}function un(e){return null!==e&&void 0!==e&&"object"===typeof e&&"functionResponse"in e}function cn(e,t){if(null===t||void 0===t)throw new Error("ContentUnion is required");return an(t)?t:{role:"user",parts:sn(0,t)}}function dn(e,t){if(!t)return[];if(e.isVertexAI()&&Array.isArray(t))return t.flatMap((e=>{const t=cn(0,e);return t.parts&&t.parts.length>0&&void 0!==t.parts[0].text?[t.parts[0].text]:[]}));if(e.isVertexAI()){const e=cn(0,t);return e.parts&&e.parts.length>0&&void 0!==e.parts[0].text?[e.parts[0].text]:[]}return Array.isArray(t)?t.map((e=>cn(0,e))):[cn(0,t)]}function fn(e,t){if(null===t||void 0===t||Array.isArray(t)&&0===t.length)throw new Error("contents are required");if(!Array.isArray(t)){if(ln(t)||un(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[cn(0,t)]}const n=[],r=[],o=an(t[0]);for(const i of t){const e=an(i);if(e!=o)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(e)n.push(i);else{if(ln(i)||un(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");r.push(i)}}return o||n.push({role:"user",parts:sn(0,r)}),n}new Set(["type","format","title","description","default","items","minItems","maxItems","enum","properties","required","minProperties","maxProperties","minimum","maximum","minLength","maxLength","pattern","anyOf","propertyOrdering"]);const hn=Be(["string","number","integer","object","array","boolean","null"]),pn=Fe([hn,Me(hn)]);function mn(e){const t={},n=["items"],r=["anyOf"],o=["properties"];if(e.type&&e.anyOf)throw new Error("type and anyOf cannot be both populated.");const i=e.anyOf;null!=i&&2==i.length&&("null"===i[0].type?(t.nullable=!0,e=i[1]):"null"===i[1].type&&(t.nullable=!0,e=i[0])),e.type instanceof Array&&function(e,t){e.includes("null")&&(t.nullable=!0);const n=e.filter((e=>"null"!==e));if(1===n.length)t.type=Object.keys(Xe).includes(n[0].toUpperCase())?Xe[n[0].toUpperCase()]:Xe.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const e of n)t.anyOf.push({type:Object.keys(Xe).includes(e.toUpperCase())?Xe[e.toUpperCase()]:Xe.TYPE_UNSPECIFIED})}}(e.type,t);for(const[s,a]of Object.entries(e))if(null!=a)if("type"==s){if("null"===a)throw new Error("type: null can not be the only possible type for the field.");if(a instanceof Array)continue;t.type=Object.keys(Xe).includes(a.toUpperCase())?a.toUpperCase():Xe.TYPE_UNSPECIFIED}else if(n.includes(s))t[s]=mn(a);else if(r.includes(s)){const e=[];for(const n of a)"null"!=n.type?e.push(mn(n)):t.nullable=!0;t[s]=e}else if(o.includes(s)){const e={};for(const[t,n]of Object.entries(a))e[t]=mn(n);t[s]=e}else{if("additionalProperties"===s)continue;t[s]=a}return t}function gn(e,t){if(Object.keys(t).includes("$schema")){delete t.$schema;const e=function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=ze((()=>{const n=Ue({type:pn.optional(),format:Pe().optional(),title:Pe().optional(),description:Pe().optional(),default:De().optional(),items:t.optional(),minItems:qe().optional(),maxItems:qe().optional(),enum:Me(De()).optional(),properties:$e(Pe(),t).optional(),required:Me(Pe()).optional(),minProperties:qe().optional(),maxProperties:qe().optional(),propertyOrdering:Me(Pe()).optional(),minimum:je().optional(),maximum:je().optional(),minLength:qe().optional(),maxLength:qe().optional(),pattern:Pe().optional(),anyOf:Me(t).optional(),additionalProperties:Le().optional()});return e?n.strict():n}));return t}().parse(t);return mn(e)}return mn(t)}function vn(e,t){if("object"===typeof t)return t;if("string"===typeof t)return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error("Unsupported speechConfig type: "+typeof t)}function yn(e,t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function bn(e,t){if(t.functionDeclarations)for(const n of t.functionDeclarations)n.parameters&&(n.parameters=gn(0,n.parameters)),n.response&&(n.response=gn(0,n.response));return t}function wn(e,t){if(void 0===t||null===t)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const n=[];for(const r of t)n.push(r);return n}function xn(e,t){if("string"!==typeof t)throw new Error("name must be a string");return function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;const o=!t.startsWith(`${n}/`)&&t.split("/").length===r;return e.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${e.getProject()}/${t}`:t.startsWith(`${n}/`)?`projects/${e.getProject()}/locations/${e.getLocation()}/${t}`:o?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}/${t}`:t:o?`${n}/${t}`:t}(e,t,"cachedContents")}function _n(e,t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function kn(e,t){if("string"!==typeof t)throw new Error("fromImageBytes must be a string");return t}function Sn(e,t){var n;let r;var o;if(null!==(o=t)&&void 0!==o&&"object"===typeof o&&"name"in o&&(r=t.name),(!function(e){return null!==e&&void 0!==e&&"object"===typeof e&&"uri"in e}(t)||(r=t.uri,void 0!==r))&&(!function(e){return null!==e&&void 0!==e&&"object"===typeof e&&"video"in e}(t)||(r=null===(n=t.video)||void 0===n?void 0:n.uri,void 0!==r))){if("string"===typeof t&&(r=t),void 0===r)throw new Error("Could not extract file name from the provided input.");if(r.startsWith("https://")){const e=r.split("files/")[1].match(/[a-z0-9]+/);if(null===e)throw new Error(`Could not extract file name from URI ${r}`);r=e[0]}else r.startsWith("files/")&&(r=r.split("files/")[1]);return r}}function Cn(e,t){let n;return n=e.isVertexAI()?t?"publishers/google/models":"models":t?"models":"tunedModels",n}function En(e,t){for(const o of["models","tunedModels","publisherModels"])if(r=o,null!==(n=t)&&"object"===typeof n&&r in n)return t[o];var n,r;return[]}function Tn(e,t){const n={},r=Ye(t,["videoMetadata"]);null!=r&&Ke(n,["videoMetadata"],function(e,t){const n={},r=Ye(t,["fps"]);null!=r&&Ke(n,["fps"],r);const o=Ye(t,["endOffset"]);null!=o&&Ke(n,["endOffset"],o);const i=Ye(t,["startOffset"]);return null!=i&&Ke(n,["startOffset"],i),n}(0,r));const o=Ye(t,["thought"]);null!=o&&Ke(n,["thought"],o);const i=Ye(t,["inlineData"]);null!=i&&Ke(n,["inlineData"],function(e,t){const n={};if(void 0!==Ye(t,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const r=Ye(t,["data"]);null!=r&&Ke(n,["data"],r);const o=Ye(t,["mimeType"]);return null!=o&&Ke(n,["mimeType"],o),n}(0,i));const s=Ye(t,["fileData"]);null!=s&&Ke(n,["fileData"],function(e,t){const n={};if(void 0!==Ye(t,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const r=Ye(t,["fileUri"]);null!=r&&Ke(n,["fileUri"],r);const o=Ye(t,["mimeType"]);return null!=o&&Ke(n,["mimeType"],o),n}(0,s));const a=Ye(t,["codeExecutionResult"]);null!=a&&Ke(n,["codeExecutionResult"],a);const l=Ye(t,["executableCode"]);null!=l&&Ke(n,["executableCode"],l);const u=Ye(t,["functionCall"]);null!=u&&Ke(n,["functionCall"],u);const c=Ye(t,["functionResponse"]);null!=c&&Ke(n,["functionResponse"],c);const d=Ye(t,["text"]);return null!=d&&Ke(n,["text"],d),n}function An(e,t){const n={},r=Ye(t,["parts"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map((e=>Tn(0,e)))),Ke(n,["parts"],e)}const o=Ye(t,["role"]);return null!=o&&Ke(n,["role"],o),n}function On(e,t){const n={},r=Ye(t,["timeRangeFilter"]);return null!=r&&Ke(n,["timeRangeFilter"],function(e,t){const n={},r=Ye(t,["startTime"]);null!=r&&Ke(n,["startTime"],r);const o=Ye(t,["endTime"]);return null!=o&&Ke(n,["endTime"],o),n}(0,r)),n}function In(e,t){const n={},r=Ye(t,["dynamicRetrievalConfig"]);return null!=r&&Ke(n,["dynamicRetrievalConfig"],function(e,t){const n={},r=Ye(t,["mode"]);null!=r&&Ke(n,["mode"],r);const o=Ye(t,["dynamicThreshold"]);return null!=o&&Ke(n,["dynamicThreshold"],o),n}(0,r)),n}function Nn(e,t){const n={},r=Ye(t,["functionDeclarations"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map((e=>function(e,t){const n={},r=Ye(t,["behavior"]);null!=r&&Ke(n,["behavior"],r);const o=Ye(t,["description"]);null!=o&&Ke(n,["description"],o);const i=Ye(t,["name"]);null!=i&&Ke(n,["name"],i);const s=Ye(t,["parameters"]);null!=s&&Ke(n,["parameters"],s);const a=Ye(t,["response"]);return null!=a&&Ke(n,["response"],a),n}(0,e)))),Ke(n,["functionDeclarations"],e)}if(void 0!==Ye(t,["retrieval"]))throw new Error("retrieval parameter is not supported in Gemini API.");const o=Ye(t,["googleSearch"]);null!=o&&Ke(n,["googleSearch"],On(0,o));const i=Ye(t,["googleSearchRetrieval"]);if(null!=i&&Ke(n,["googleSearchRetrieval"],In(0,i)),void 0!==Ye(t,["enterpriseWebSearch"]))throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(void 0!==Ye(t,["googleMaps"]))throw new Error("googleMaps parameter is not supported in Gemini API.");null!=Ye(t,["urlContext"])&&Ke(n,["urlContext"],{});const s=Ye(t,["codeExecution"]);return null!=s&&Ke(n,["codeExecution"],s),n}function Rn(e,t){const n={},r=Ye(t,["latLng"]);null!=r&&Ke(n,["latLng"],function(e,t){const n={},r=Ye(t,["latitude"]);null!=r&&Ke(n,["latitude"],r);const o=Ye(t,["longitude"]);return null!=o&&Ke(n,["longitude"],o),n}(0,r));const o=Ye(t,["languageCode"]);return null!=o&&Ke(n,["languageCode"],o),n}function Pn(e,t){const n={},r=Ye(t,["functionCallingConfig"]);null!=r&&Ke(n,["functionCallingConfig"],function(e,t){const n={},r=Ye(t,["mode"]);null!=r&&Ke(n,["mode"],r);const o=Ye(t,["allowedFunctionNames"]);return null!=o&&Ke(n,["allowedFunctionNames"],o),n}(0,r));const o=Ye(t,["retrievalConfig"]);return null!=o&&Ke(n,["retrievalConfig"],Rn(0,o)),n}function jn(e,t){const n={},r=Ye(t,["model"]);null!=r&&Ke(n,["model"],tn(e,r));const o=Ye(t,["config"]);return null!=o&&Ke(n,["config"],function(e,t,n){const r=Ye(t,["ttl"]);void 0!==n&&null!=r&&Ke(n,["ttl"],r);const o=Ye(t,["expireTime"]);void 0!==n&&null!=o&&Ke(n,["expireTime"],o);const i=Ye(t,["displayName"]);void 0!==n&&null!=i&&Ke(n,["displayName"],i);const s=Ye(t,["contents"]);if(void 0!==n&&null!=s){let e=fn(0,s);Array.isArray(e)&&(e=e.map((e=>An(0,e)))),Ke(n,["contents"],e)}const a=Ye(t,["systemInstruction"]);void 0!==n&&null!=a&&Ke(n,["systemInstruction"],An(0,cn(0,a)));const l=Ye(t,["tools"]);if(void 0!==n&&null!=l){let e=l;Array.isArray(e)&&(e=e.map((e=>Nn(0,e)))),Ke(n,["tools"],e)}const u=Ye(t,["toolConfig"]);if(void 0!==n&&null!=u&&Ke(n,["toolConfig"],Pn(0,u)),void 0!==Ye(t,["kmsKeyName"]))throw new Error("kmsKeyName parameter is not supported in Gemini API.");return{}}(0,o,n)),n}function Ln(e,t){const n={},r=Ye(t,["name"]);null!=r&&Ke(n,["_url","name"],xn(e,r));const o=Ye(t,["config"]);return null!=o&&Ke(n,["config"],function(e,t,n){const r=Ye(t,["ttl"]);void 0!==n&&null!=r&&Ke(n,["ttl"],r);const o=Ye(t,["expireTime"]);return void 0!==n&&null!=o&&Ke(n,["expireTime"],o),{}}(0,o,n)),n}function Dn(e,t){const n={},r=Ye(t,["config"]);return null!=r&&Ke(n,["config"],function(e,t,n){const r=Ye(t,["pageSize"]);void 0!==n&&null!=r&&Ke(n,["_query","pageSize"],r);const o=Ye(t,["pageToken"]);return void 0!==n&&null!=o&&Ke(n,["_query","pageToken"],o),{}}(0,r,n)),n}function Mn(e,t){const n={},r=Ye(t,["videoMetadata"]);null!=r&&Ke(n,["videoMetadata"],function(e,t){const n={},r=Ye(t,["fps"]);null!=r&&Ke(n,["fps"],r);const o=Ye(t,["endOffset"]);null!=o&&Ke(n,["endOffset"],o);const i=Ye(t,["startOffset"]);return null!=i&&Ke(n,["startOffset"],i),n}(0,r));const o=Ye(t,["thought"]);null!=o&&Ke(n,["thought"],o);const i=Ye(t,["inlineData"]);null!=i&&Ke(n,["inlineData"],function(e,t){const n={},r=Ye(t,["displayName"]);null!=r&&Ke(n,["displayName"],r);const o=Ye(t,["data"]);null!=o&&Ke(n,["data"],o);const i=Ye(t,["mimeType"]);return null!=i&&Ke(n,["mimeType"],i),n}(0,i));const s=Ye(t,["fileData"]);null!=s&&Ke(n,["fileData"],function(e,t){const n={},r=Ye(t,["displayName"]);null!=r&&Ke(n,["displayName"],r);const o=Ye(t,["fileUri"]);null!=o&&Ke(n,["fileUri"],o);const i=Ye(t,["mimeType"]);return null!=i&&Ke(n,["mimeType"],i),n}(0,s));const a=Ye(t,["codeExecutionResult"]);null!=a&&Ke(n,["codeExecutionResult"],a);const l=Ye(t,["executableCode"]);null!=l&&Ke(n,["executableCode"],l);const u=Ye(t,["functionCall"]);null!=u&&Ke(n,["functionCall"],u);const c=Ye(t,["functionResponse"]);null!=c&&Ke(n,["functionResponse"],c);const d=Ye(t,["text"]);return null!=d&&Ke(n,["text"],d),n}function Un(e,t){const n={},r=Ye(t,["parts"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map((e=>Mn(0,e)))),Ke(n,["parts"],e)}const o=Ye(t,["role"]);return null!=o&&Ke(n,["role"],o),n}function Fn(e,t){const n={},r=Ye(t,["timeRangeFilter"]);return null!=r&&Ke(n,["timeRangeFilter"],function(e,t){const n={},r=Ye(t,["startTime"]);null!=r&&Ke(n,["startTime"],r);const o=Ye(t,["endTime"]);return null!=o&&Ke(n,["endTime"],o),n}(0,r)),n}function $n(e,t){const n={},r=Ye(t,["dynamicRetrievalConfig"]);return null!=r&&Ke(n,["dynamicRetrievalConfig"],function(e,t){const n={},r=Ye(t,["mode"]);null!=r&&Ke(n,["mode"],r);const o=Ye(t,["dynamicThreshold"]);return null!=o&&Ke(n,["dynamicThreshold"],o),n}(0,r)),n}function zn(e,t){const n={},r=Ye(t,["apiKeyConfig"]);null!=r&&Ke(n,["apiKeyConfig"],function(e,t){const n={},r=Ye(t,["apiKeyString"]);return null!=r&&Ke(n,["apiKeyString"],r),n}(0,r));const o=Ye(t,["authType"]);null!=o&&Ke(n,["authType"],o);const i=Ye(t,["googleServiceAccountConfig"]);null!=i&&Ke(n,["googleServiceAccountConfig"],i);const s=Ye(t,["httpBasicAuthConfig"]);null!=s&&Ke(n,["httpBasicAuthConfig"],s);const a=Ye(t,["oauthConfig"]);null!=a&&Ke(n,["oauthConfig"],a);const l=Ye(t,["oidcConfig"]);return null!=l&&Ke(n,["oidcConfig"],l),n}function Bn(e,t){const n={},r=Ye(t,["functionDeclarations"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map((e=>function(e,t){const n={};if(void 0!==Ye(t,["behavior"]))throw new Error("behavior parameter is not supported in Vertex AI.");const r=Ye(t,["description"]);null!=r&&Ke(n,["description"],r);const o=Ye(t,["name"]);null!=o&&Ke(n,["name"],o);const i=Ye(t,["parameters"]);null!=i&&Ke(n,["parameters"],i);const s=Ye(t,["response"]);return null!=s&&Ke(n,["response"],s),n}(0,e)))),Ke(n,["functionDeclarations"],e)}const o=Ye(t,["retrieval"]);null!=o&&Ke(n,["retrieval"],o);const i=Ye(t,["googleSearch"]);null!=i&&Ke(n,["googleSearch"],Fn(0,i));const s=Ye(t,["googleSearchRetrieval"]);null!=s&&Ke(n,["googleSearchRetrieval"],$n(0,s));null!=Ye(t,["enterpriseWebSearch"])&&Ke(n,["enterpriseWebSearch"],{});const a=Ye(t,["googleMaps"]);if(null!=a&&Ke(n,["googleMaps"],function(e,t){const n={},r=Ye(t,["authConfig"]);return null!=r&&Ke(n,["authConfig"],zn(0,r)),n}(0,a)),void 0!==Ye(t,["urlContext"]))throw new Error("urlContext parameter is not supported in Vertex AI.");const l=Ye(t,["codeExecution"]);return null!=l&&Ke(n,["codeExecution"],l),n}function qn(e,t){const n={},r=Ye(t,["latLng"]);null!=r&&Ke(n,["latLng"],function(e,t){const n={},r=Ye(t,["latitude"]);null!=r&&Ke(n,["latitude"],r);const o=Ye(t,["longitude"]);return null!=o&&Ke(n,["longitude"],o),n}(0,r));const o=Ye(t,["languageCode"]);return null!=o&&Ke(n,["languageCode"],o),n}function Vn(e,t){const n={},r=Ye(t,["functionCallingConfig"]);null!=r&&Ke(n,["functionCallingConfig"],function(e,t){const n={},r=Ye(t,["mode"]);null!=r&&Ke(n,["mode"],r);const o=Ye(t,["allowedFunctionNames"]);return null!=o&&Ke(n,["allowedFunctionNames"],o),n}(0,r));const o=Ye(t,["retrievalConfig"]);return null!=o&&Ke(n,["retrievalConfig"],qn(0,o)),n}function Hn(e,t){const n={},r=Ye(t,["model"]);null!=r&&Ke(n,["model"],tn(e,r));const o=Ye(t,["config"]);return null!=o&&Ke(n,["config"],function(e,t,n){const r=Ye(t,["ttl"]);void 0!==n&&null!=r&&Ke(n,["ttl"],r);const o=Ye(t,["expireTime"]);void 0!==n&&null!=o&&Ke(n,["expireTime"],o);const i=Ye(t,["displayName"]);void 0!==n&&null!=i&&Ke(n,["displayName"],i);const s=Ye(t,["contents"]);if(void 0!==n&&null!=s){let e=fn(0,s);Array.isArray(e)&&(e=e.map((e=>Un(0,e)))),Ke(n,["contents"],e)}const a=Ye(t,["systemInstruction"]);void 0!==n&&null!=a&&Ke(n,["systemInstruction"],Un(0,cn(0,a)));const l=Ye(t,["tools"]);if(void 0!==n&&null!=l){let e=l;Array.isArray(e)&&(e=e.map((e=>Bn(0,e)))),Ke(n,["tools"],e)}const u=Ye(t,["toolConfig"]);void 0!==n&&null!=u&&Ke(n,["toolConfig"],Vn(0,u));const c=Ye(t,["kmsKeyName"]);return void 0!==n&&null!=c&&Ke(n,["encryption_spec","kmsKeyName"],c),{}}(0,o,n)),n}function Wn(e,t){const n={},r=Ye(t,["name"]);null!=r&&Ke(n,["_url","name"],xn(e,r));const o=Ye(t,["config"]);return null!=o&&Ke(n,["config"],function(e,t,n){const r=Ye(t,["ttl"]);void 0!==n&&null!=r&&Ke(n,["ttl"],r);const o=Ye(t,["expireTime"]);return void 0!==n&&null!=o&&Ke(n,["expireTime"],o),{}}(0,o,n)),n}function Gn(e,t){const n={},r=Ye(t,["config"]);return null!=r&&Ke(n,["config"],function(e,t,n){const r=Ye(t,["pageSize"]);void 0!==n&&null!=r&&Ke(n,["_query","pageSize"],r);const o=Ye(t,["pageToken"]);return void 0!==n&&null!=o&&Ke(n,["_query","pageToken"],o),{}}(0,r,n)),n}function Jn(e,t){const n={},r=Ye(t,["name"]);null!=r&&Ke(n,["name"],r);const o=Ye(t,["displayName"]);null!=o&&Ke(n,["displayName"],o);const i=Ye(t,["model"]);null!=i&&Ke(n,["model"],i);const s=Ye(t,["createTime"]);null!=s&&Ke(n,["createTime"],s);const a=Ye(t,["updateTime"]);null!=a&&Ke(n,["updateTime"],a);const l=Ye(t,["expireTime"]);null!=l&&Ke(n,["expireTime"],l);const u=Ye(t,["usageMetadata"]);return null!=u&&Ke(n,["usageMetadata"],u),n}function Kn(e,t){const n={},r=Ye(t,["name"]);null!=r&&Ke(n,["name"],r);const o=Ye(t,["displayName"]);null!=o&&Ke(n,["displayName"],o);const i=Ye(t,["model"]);null!=i&&Ke(n,["model"],i);const s=Ye(t,["createTime"]);null!=s&&Ke(n,["createTime"],s);const a=Ye(t,["updateTime"]);null!=a&&Ke(n,["updateTime"],a);const l=Ye(t,["expireTime"]);null!=l&&Ke(n,["expireTime"],l);const u=Ye(t,["usageMetadata"]);return null!=u&&Ke(n,["usageMetadata"],u),n}var Yn;!function(e){e.PAGED_ITEM_BATCH_JOBS="batchJobs",e.PAGED_ITEM_MODELS="models",e.PAGED_ITEM_TUNING_JOBS="tuningJobs",e.PAGED_ITEM_FILES="files",e.PAGED_ITEM_CACHED_CONTENTS="cachedContents"}(Yn||(Yn={}));class Zn{constructor(e,t,n,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=t,this.init(e,n,r)}init(e,t,n){var r,o;this.nameInternal=e,this.pageInternal=t[this.nameInternal]||[],this.idxInternal=0;let i={config:{}};i=n?"object"===typeof n?Object.assign({},n):n:{config:{}},i.config&&(i.config.pageToken=t.nextPageToken),this.paramsInternal=i,this.pageInternalSize=null!==(o=null===(r=i.config)||void 0===r?void 0:r.pageSize)&&void 0!==o?o:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength){if(!this.hasNextPage())return{value:void 0,done:!0};await this.nextPage()}const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return void 0!==(null===(e=this.params.config)||void 0===e?void 0:e.pageToken)}}class Qn extends Ge{constructor(e){var t;super(),t=this,this.apiClient=e,this.list=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Zn(Yn.PAGED_ITEM_CACHED_CONTENTS,(e=>t.listInternal(e)),await t.listInternal(e),e)}}async create(e){var t,n,r,o;let i,s="",a={};if(this.apiClient.isVertexAI()){const r=Hn(this.apiClient,e);return s=Je("cachedContents",r._url),a=r._query,delete r.config,delete r._url,delete r._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(r),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then((e=>e.json())),i.then((e=>Kn(this.apiClient,e)))}{const t=jn(this.apiClient,e);return s=Je("cachedContents",t._url),a=t._query,delete t.config,delete t._url,delete t._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then((e=>e.json())),i.then((e=>Jn(this.apiClient,e)))}}async get(e){var t,n,r,o;let i,s="",a={};if(this.apiClient.isVertexAI()){const r=function(e,t){const n={},r=Ye(t,["name"]);null!=r&&Ke(n,["_url","name"],xn(e,r));const o=Ye(t,["config"]);return null!=o&&Ke(n,["config"],o),n}(this.apiClient,e);return s=Je("{name}",r._url),a=r._query,delete r.config,delete r._url,delete r._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(r),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then((e=>e.json())),i.then((e=>Kn(this.apiClient,e)))}{const t=function(e,t){const n={},r=Ye(t,["name"]);null!=r&&Ke(n,["_url","name"],xn(e,r));const o=Ye(t,["config"]);return null!=o&&Ke(n,["config"],o),n}(this.apiClient,e);return s=Je("{name}",t._url),a=t._query,delete t.config,delete t._url,delete t._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then((e=>e.json())),i.then((e=>Jn(this.apiClient,e)))}}async delete(e){var t,n,r,o;let i,s="",a={};if(this.apiClient.isVertexAI()){const r=function(e,t){const n={},r=Ye(t,["name"]);null!=r&&Ke(n,["_url","name"],xn(e,r));const o=Ye(t,["config"]);return null!=o&&Ke(n,["config"],o),n}(this.apiClient,e);return s=Je("{name}",r._url),a=r._query,delete r.config,delete r._url,delete r._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(r),httpMethod:"DELETE",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then((e=>e.json())),i.then((()=>{const e={},t=new Wt;return Object.assign(t,e),t}))}{const t=function(e,t){const n={},r=Ye(t,["name"]);null!=r&&Ke(n,["_url","name"],xn(e,r));const o=Ye(t,["config"]);return null!=o&&Ke(n,["config"],o),n}(this.apiClient,e);return s=Je("{name}",t._url),a=t._query,delete t.config,delete t._url,delete t._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(t),httpMethod:"DELETE",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then((e=>e.json())),i.then((()=>{const e={},t=new Wt;return Object.assign(t,e),t}))}}async update(e){var t,n,r,o;let i,s="",a={};if(this.apiClient.isVertexAI()){const r=Wn(this.apiClient,e);return s=Je("{name}",r._url),a=r._query,delete r.config,delete r._url,delete r._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(r),httpMethod:"PATCH",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then((e=>e.json())),i.then((e=>Kn(this.apiClient,e)))}{const t=Ln(this.apiClient,e);return s=Je("{name}",t._url),a=t._query,delete t.config,delete t._url,delete t._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(t),httpMethod:"PATCH",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then((e=>e.json())),i.then((e=>Jn(this.apiClient,e)))}}async listInternal(e){var t,n,r,o;let i,s="",a={};if(this.apiClient.isVertexAI()){const r=Gn(this.apiClient,e);return s=Je("cachedContents",r._url),a=r._query,delete r.config,delete r._url,delete r._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(r),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then((e=>e.json())),i.then((e=>{const t=function(e,t){const n={},r=Ye(t,["nextPageToken"]);null!=r&&Ke(n,["nextPageToken"],r);const o=Ye(t,["cachedContents"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map((e=>Kn(0,e)))),Ke(n,["cachedContents"],e)}return n}(this.apiClient,e),n=new Gt;return Object.assign(n,t),n}))}{const t=Dn(this.apiClient,e);return s=Je("cachedContents",t._url),a=t._query,delete t.config,delete t._url,delete t._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then((e=>e.json())),i.then((e=>{const t=function(e,t){const n={},r=Ye(t,["nextPageToken"]);null!=r&&Ke(n,["nextPageToken"],r);const o=Ye(t,["cachedContents"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map((e=>Jn(0,e)))),Ke(n,["cachedContents"],e)}return n}(this.apiClient,e),n=new Gt;return Object.assign(n,t),n}))}}}function Xn(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function er(e){return this instanceof er?(this.v=e,this):new er(e)}function tr(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r=Object.create(("function"===typeof AsyncIterator?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",(function(e){return function(t){return Promise.resolve(t).then(e,u)}})),r[Symbol.asyncIterator]=function(){return this},r;function s(e,t){o[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||a(e,t)}))},t&&(r[e]=t(r[e])))}function a(e,t){try{(n=o[e](t)).value instanceof er?Promise.resolve(n.value.v).then(l,u):c(i[0][2],n)}catch(r){c(i[0][3],r)}var n}function l(e){a("next",e)}function u(e){a("throw",e)}function c(e,t){e(t),i.shift(),i.length&&a(i[0][0],i[0][1])}}function nr(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=Xn(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,o,(t=e[n](t)).done,t.value)}))}}}function rr(e){var t;if(void 0==e.candidates||0===e.candidates.length)return!1;const n=null===(t=e.candidates[0])||void 0===t?void 0:t.content;return void 0!==n&&or(n)}function or(e){if(void 0===e.parts||0===e.parts.length)return!1;for(const t of e.parts){if(void 0===t||0===Object.keys(t).length)return!1;if(!t.thought&&void 0!==t.text&&""===t.text)return!1}return!0}function ir(e){if(void 0===e||0===e.length)return[];const t=[],n=e.length;let r=0;for(;r<n;)if("user"===e[r].role)t.push(e[r]),r++;else{const o=[];let i=!0;for(;r<n&&"model"===e[r].role;)o.push(e[r]),i&&!or(e[r])&&(i=!1),r++;i?t.push(...o):t.pop()}return t}"function"===typeof SuppressedError&&SuppressedError;class sr{constructor(e,t){this.modelsModule=e,this.apiClient=t}create(e){return new ar(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class ar{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];this.apiClient=e,this.modelsModule=t,this.model=n,this.config=r,this.history=o,this.sendPromise=Promise.resolve(),function(e){if(0!==e.length)for(const t of e)if("user"!==t.role&&"model"!==t.role)throw new Error(`Role must be user or model, but got ${t.role}.`)}(o)}async sendMessage(e){var t;await this.sendPromise;const n=cn(this.apiClient,e.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(n),config:null!==(t=e.config)&&void 0!==t?t:this.config});return this.sendPromise=(async()=>{var e,t,o;const i=await r,s=null===(t=null===(e=i.candidates)||void 0===e?void 0:e[0])||void 0===t?void 0:t.content,a=i.automaticFunctionCallingHistory,l=this.getHistory(!0).length;let u=[];null!=a&&(u=null!==(o=a.slice(l))&&void 0!==o?o:[]);const c=s?[s]:[];this.recordHistory(n,c,u)})(),await this.sendPromise.catch((()=>{this.sendPromise=Promise.resolve()})),r}async sendMessageStream(e){var t;await this.sendPromise;const n=cn(this.apiClient,e.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(n),config:null!==(t=e.config)&&void 0!==t?t:this.config});this.sendPromise=r.then((()=>{})).catch((()=>{}));const o=await r;return this.processStreamResponse(o,n)}getHistory(){const e=arguments.length>0&&void 0!==arguments[0]&&arguments[0]?ir(this.history):this.history;return structuredClone(e)}processStreamResponse(e,t){var n,r;return tr(this,arguments,(function*(){var o,i,s,a;const l=[];try{for(var u,c=!0,d=nr(e);!(o=(u=yield er(d.next())).done);c=!0){a=u.value,c=!1;const e=a;if(rr(e)){const t=null===(r=null===(n=e.candidates)||void 0===n?void 0:n[0])||void 0===r?void 0:r.content;void 0!==t&&l.push(t)}yield yield er(e)}}catch(f){i={error:f}}finally{try{c||o||!(s=d.return)||(yield er(s.call(d)))}finally{if(i)throw i.error}}this.recordHistory(t,l)}))}recordHistory(e,t,n){let r=[];t.length>0&&t.every((e=>void 0!==e.role))?r=t:r.push({role:"model",parts:[]}),n&&n.length>0?this.history.push(...ir(n)):this.history.push(e),this.history.push(...r)}}function lr(e,t){const n={},r=Ye(t,["config"]);return null!=r&&Ke(n,["config"],function(e,t,n){const r=Ye(t,["pageSize"]);void 0!==n&&null!=r&&Ke(n,["_query","pageSize"],r);const o=Ye(t,["pageToken"]);return void 0!==n&&null!=o&&Ke(n,["_query","pageToken"],o),{}}(0,r,n)),n}function ur(e,t){const n={},r=Ye(t,["name"]);null!=r&&Ke(n,["name"],r);const o=Ye(t,["displayName"]);null!=o&&Ke(n,["displayName"],o);const i=Ye(t,["mimeType"]);null!=i&&Ke(n,["mimeType"],i);const s=Ye(t,["sizeBytes"]);null!=s&&Ke(n,["sizeBytes"],s);const a=Ye(t,["createTime"]);null!=a&&Ke(n,["createTime"],a);const l=Ye(t,["expirationTime"]);null!=l&&Ke(n,["expirationTime"],l);const u=Ye(t,["updateTime"]);null!=u&&Ke(n,["updateTime"],u);const c=Ye(t,["sha256Hash"]);null!=c&&Ke(n,["sha256Hash"],c);const d=Ye(t,["uri"]);null!=d&&Ke(n,["uri"],d);const f=Ye(t,["downloadUri"]);null!=f&&Ke(n,["downloadUri"],f);const h=Ye(t,["state"]);null!=h&&Ke(n,["state"],h);const p=Ye(t,["source"]);null!=p&&Ke(n,["source"],p);const m=Ye(t,["videoMetadata"]);null!=m&&Ke(n,["videoMetadata"],m);const g=Ye(t,["error"]);return null!=g&&Ke(n,["error"],function(e,t){const n={},r=Ye(t,["details"]);null!=r&&Ke(n,["details"],r);const o=Ye(t,["message"]);null!=o&&Ke(n,["message"],o);const i=Ye(t,["code"]);return null!=i&&Ke(n,["code"],i),n}(0,g)),n}function cr(e,t){const n={},r=Ye(t,["name"]);null!=r&&Ke(n,["name"],r);const o=Ye(t,["displayName"]);null!=o&&Ke(n,["displayName"],o);const i=Ye(t,["mimeType"]);null!=i&&Ke(n,["mimeType"],i);const s=Ye(t,["sizeBytes"]);null!=s&&Ke(n,["sizeBytes"],s);const a=Ye(t,["createTime"]);null!=a&&Ke(n,["createTime"],a);const l=Ye(t,["expirationTime"]);null!=l&&Ke(n,["expirationTime"],l);const u=Ye(t,["updateTime"]);null!=u&&Ke(n,["updateTime"],u);const c=Ye(t,["sha256Hash"]);null!=c&&Ke(n,["sha256Hash"],c);const d=Ye(t,["uri"]);null!=d&&Ke(n,["uri"],d);const f=Ye(t,["downloadUri"]);null!=f&&Ke(n,["downloadUri"],f);const h=Ye(t,["state"]);null!=h&&Ke(n,["state"],h);const p=Ye(t,["source"]);null!=p&&Ke(n,["source"],p);const m=Ye(t,["videoMetadata"]);null!=m&&Ke(n,["videoMetadata"],m);const g=Ye(t,["error"]);return null!=g&&Ke(n,["error"],function(e,t){const n={},r=Ye(t,["details"]);null!=r&&Ke(n,["details"],r);const o=Ye(t,["message"]);null!=o&&Ke(n,["message"],o);const i=Ye(t,["code"]);return null!=i&&Ke(n,["code"],i),n}(0,g)),n}class dr extends Ge{constructor(e){var t;super(),t=this,this.apiClient=e,this.list=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Zn(Yn.PAGED_ITEM_FILES,(e=>t.listInternal(e)),await t.listInternal(e),e)}}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then((e=>cr(this.apiClient,e)))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=lr(this.apiClient,e);return o=Je("files",s._url),i=s._query,delete s.config,delete s._url,delete s._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(s),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then((e=>e.json())),r.then((e=>{const t=function(e,t){const n={},r=Ye(t,["nextPageToken"]);null!=r&&Ke(n,["nextPageToken"],r);const o=Ye(t,["files"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map((e=>cr(0,e)))),Ke(n,["files"],e)}return n}(this.apiClient,e),n=new Jt;return Object.assign(n,t),n}))}}async createInternal(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=function(e,t){const n={},r=Ye(t,["file"]);null!=r&&Ke(n,["file"],ur(0,r));const o=Ye(t,["config"]);return null!=o&&Ke(n,["config"],o),n}(this.apiClient,e);return o=Je("upload/v1beta/files",s._url),i=s._query,delete s.config,delete s._url,delete s._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(s),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then((e=>e.json())),r.then((()=>{const e={},t=new Yt;return Object.assign(t,e),t}))}}async get(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=function(e,t){const n={},r=Ye(t,["name"]);null!=r&&Ke(n,["_url","file"],Sn(0,r));const o=Ye(t,["config"]);return null!=o&&Ke(n,["config"],o),n}(this.apiClient,e);return o=Je("files/{file}",s._url),i=s._query,delete s.config,delete s._url,delete s._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(s),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then((e=>e.json())),r.then((e=>cr(this.apiClient,e)))}}async delete(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=function(e,t){const n={},r=Ye(t,["name"]);null!=r&&Ke(n,["_url","file"],Sn(0,r));const o=Ye(t,["config"]);return null!=o&&Ke(n,["config"],o),n}(this.apiClient,e);return o=Je("files/{file}",s._url),i=s._query,delete s.config,delete s._url,delete s._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then((e=>e.json())),r.then((()=>{const e={},t=new Zt;return Object.assign(t,e),t}))}}}function fr(e,t){const n={},r=Ye(t,["prebuiltVoiceConfig"]);return null!=r&&Ke(n,["prebuiltVoiceConfig"],function(e,t){const n={},r=Ye(t,["voiceName"]);return null!=r&&Ke(n,["voiceName"],r),n}(0,r)),n}function hr(e,t){const n={},r=Ye(t,["prebuiltVoiceConfig"]);return null!=r&&Ke(n,["prebuiltVoiceConfig"],function(e,t){const n={},r=Ye(t,["voiceName"]);return null!=r&&Ke(n,["voiceName"],r),n}(0,r)),n}function pr(e,t){const n={},r=Ye(t,["speakerVoiceConfigs"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map((e=>function(e,t){const n={},r=Ye(t,["speaker"]);null!=r&&Ke(n,["speaker"],r);const o=Ye(t,["voiceConfig"]);return null!=o&&Ke(n,["voiceConfig"],fr(0,o)),n}(0,e)))),Ke(n,["speakerVoiceConfigs"],e)}return n}function mr(e,t){const n={},r=Ye(t,["videoMetadata"]);null!=r&&Ke(n,["videoMetadata"],function(e,t){const n={},r=Ye(t,["fps"]);null!=r&&Ke(n,["fps"],r);const o=Ye(t,["endOffset"]);null!=o&&Ke(n,["endOffset"],o);const i=Ye(t,["startOffset"]);return null!=i&&Ke(n,["startOffset"],i),n}(0,r));const o=Ye(t,["thought"]);null!=o&&Ke(n,["thought"],o);const i=Ye(t,["inlineData"]);null!=i&&Ke(n,["inlineData"],function(e,t){const n={};if(void 0!==Ye(t,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const r=Ye(t,["data"]);null!=r&&Ke(n,["data"],r);const o=Ye(t,["mimeType"]);return null!=o&&Ke(n,["mimeType"],o),n}(0,i));const s=Ye(t,["fileData"]);null!=s&&Ke(n,["fileData"],function(e,t){const n={};if(void 0!==Ye(t,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const r=Ye(t,["fileUri"]);null!=r&&Ke(n,["fileUri"],r);const o=Ye(t,["mimeType"]);return null!=o&&Ke(n,["mimeType"],o),n}(0,s));const a=Ye(t,["codeExecutionResult"]);null!=a&&Ke(n,["codeExecutionResult"],a);const l=Ye(t,["executableCode"]);null!=l&&Ke(n,["executableCode"],l);const u=Ye(t,["functionCall"]);null!=u&&Ke(n,["functionCall"],u);const c=Ye(t,["functionResponse"]);null!=c&&Ke(n,["functionResponse"],c);const d=Ye(t,["text"]);return null!=d&&Ke(n,["text"],d),n}function gr(e,t){const n={},r=Ye(t,["videoMetadata"]);null!=r&&Ke(n,["videoMetadata"],function(e,t){const n={},r=Ye(t,["fps"]);null!=r&&Ke(n,["fps"],r);const o=Ye(t,["endOffset"]);null!=o&&Ke(n,["endOffset"],o);const i=Ye(t,["startOffset"]);return null!=i&&Ke(n,["startOffset"],i),n}(0,r));const o=Ye(t,["thought"]);null!=o&&Ke(n,["thought"],o);const i=Ye(t,["inlineData"]);null!=i&&Ke(n,["inlineData"],function(e,t){const n={},r=Ye(t,["displayName"]);null!=r&&Ke(n,["displayName"],r);const o=Ye(t,["data"]);null!=o&&Ke(n,["data"],o);const i=Ye(t,["mimeType"]);return null!=i&&Ke(n,["mimeType"],i),n}(0,i));const s=Ye(t,["fileData"]);null!=s&&Ke(n,["fileData"],function(e,t){const n={},r=Ye(t,["displayName"]);null!=r&&Ke(n,["displayName"],r);const o=Ye(t,["fileUri"]);null!=o&&Ke(n,["fileUri"],o);const i=Ye(t,["mimeType"]);return null!=i&&Ke(n,["mimeType"],i),n}(0,s));const a=Ye(t,["codeExecutionResult"]);null!=a&&Ke(n,["codeExecutionResult"],a);const l=Ye(t,["executableCode"]);null!=l&&Ke(n,["executableCode"],l);const u=Ye(t,["functionCall"]);null!=u&&Ke(n,["functionCall"],u);const c=Ye(t,["functionResponse"]);null!=c&&Ke(n,["functionResponse"],c);const d=Ye(t,["text"]);return null!=d&&Ke(n,["text"],d),n}function vr(e,t){const n={},r=Ye(t,["timeRangeFilter"]);return null!=r&&Ke(n,["timeRangeFilter"],function(e,t){const n={},r=Ye(t,["startTime"]);null!=r&&Ke(n,["startTime"],r);const o=Ye(t,["endTime"]);return null!=o&&Ke(n,["endTime"],o),n}(0,r)),n}function yr(e,t){const n={},r=Ye(t,["timeRangeFilter"]);return null!=r&&Ke(n,["timeRangeFilter"],function(e,t){const n={},r=Ye(t,["startTime"]);null!=r&&Ke(n,["startTime"],r);const o=Ye(t,["endTime"]);return null!=o&&Ke(n,["endTime"],o),n}(0,r)),n}function br(e,t){const n={},r=Ye(t,["dynamicRetrievalConfig"]);return null!=r&&Ke(n,["dynamicRetrievalConfig"],function(e,t){const n={},r=Ye(t,["mode"]);null!=r&&Ke(n,["mode"],r);const o=Ye(t,["dynamicThreshold"]);return null!=o&&Ke(n,["dynamicThreshold"],o),n}(0,r)),n}function wr(e,t){const n={},r=Ye(t,["dynamicRetrievalConfig"]);return null!=r&&Ke(n,["dynamicRetrievalConfig"],function(e,t){const n={},r=Ye(t,["mode"]);null!=r&&Ke(n,["mode"],r);const o=Ye(t,["dynamicThreshold"]);return null!=o&&Ke(n,["dynamicThreshold"],o),n}(0,r)),n}function xr(e,t){const n={},r=Ye(t,["apiKeyConfig"]);null!=r&&Ke(n,["apiKeyConfig"],function(e,t){const n={},r=Ye(t,["apiKeyString"]);return null!=r&&Ke(n,["apiKeyString"],r),n}(0,r));const o=Ye(t,["authType"]);null!=o&&Ke(n,["authType"],o);const i=Ye(t,["googleServiceAccountConfig"]);null!=i&&Ke(n,["googleServiceAccountConfig"],i);const s=Ye(t,["httpBasicAuthConfig"]);null!=s&&Ke(n,["httpBasicAuthConfig"],s);const a=Ye(t,["oauthConfig"]);null!=a&&Ke(n,["oauthConfig"],a);const l=Ye(t,["oidcConfig"]);return null!=l&&Ke(n,["oidcConfig"],l),n}function _r(e,t){const n={},r=Ye(t,["functionDeclarations"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map((e=>function(e,t){const n={},r=Ye(t,["behavior"]);null!=r&&Ke(n,["behavior"],r);const o=Ye(t,["description"]);null!=o&&Ke(n,["description"],o);const i=Ye(t,["name"]);null!=i&&Ke(n,["name"],i);const s=Ye(t,["parameters"]);null!=s&&Ke(n,["parameters"],s);const a=Ye(t,["response"]);return null!=a&&Ke(n,["response"],a),n}(0,e)))),Ke(n,["functionDeclarations"],e)}if(void 0!==Ye(t,["retrieval"]))throw new Error("retrieval parameter is not supported in Gemini API.");const o=Ye(t,["googleSearch"]);null!=o&&Ke(n,["googleSearch"],vr(0,o));const i=Ye(t,["googleSearchRetrieval"]);if(null!=i&&Ke(n,["googleSearchRetrieval"],br(0,i)),void 0!==Ye(t,["enterpriseWebSearch"]))throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(void 0!==Ye(t,["googleMaps"]))throw new Error("googleMaps parameter is not supported in Gemini API.");null!=Ye(t,["urlContext"])&&Ke(n,["urlContext"],{});const s=Ye(t,["codeExecution"]);return null!=s&&Ke(n,["codeExecution"],s),n}function kr(e,t){const n={},r=Ye(t,["functionDeclarations"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map((e=>function(e,t){const n={};if(void 0!==Ye(t,["behavior"]))throw new Error("behavior parameter is not supported in Vertex AI.");const r=Ye(t,["description"]);null!=r&&Ke(n,["description"],r);const o=Ye(t,["name"]);null!=o&&Ke(n,["name"],o);const i=Ye(t,["parameters"]);null!=i&&Ke(n,["parameters"],i);const s=Ye(t,["response"]);return null!=s&&Ke(n,["response"],s),n}(0,e)))),Ke(n,["functionDeclarations"],e)}const o=Ye(t,["retrieval"]);null!=o&&Ke(n,["retrieval"],o);const i=Ye(t,["googleSearch"]);null!=i&&Ke(n,["googleSearch"],yr(0,i));const s=Ye(t,["googleSearchRetrieval"]);null!=s&&Ke(n,["googleSearchRetrieval"],wr(0,s));null!=Ye(t,["enterpriseWebSearch"])&&Ke(n,["enterpriseWebSearch"],{});const a=Ye(t,["googleMaps"]);if(null!=a&&Ke(n,["googleMaps"],function(e,t){const n={},r=Ye(t,["authConfig"]);return null!=r&&Ke(n,["authConfig"],xr(0,r)),n}(0,a)),void 0!==Ye(t,["urlContext"]))throw new Error("urlContext parameter is not supported in Vertex AI.");const l=Ye(t,["codeExecution"]);return null!=l&&Ke(n,["codeExecution"],l),n}function Sr(e,t){const n={},r=Ye(t,["automaticActivityDetection"]);null!=r&&Ke(n,["automaticActivityDetection"],function(e,t){const n={},r=Ye(t,["disabled"]);null!=r&&Ke(n,["disabled"],r);const o=Ye(t,["startOfSpeechSensitivity"]);null!=o&&Ke(n,["startOfSpeechSensitivity"],o);const i=Ye(t,["endOfSpeechSensitivity"]);null!=i&&Ke(n,["endOfSpeechSensitivity"],i);const s=Ye(t,["prefixPaddingMs"]);null!=s&&Ke(n,["prefixPaddingMs"],s);const a=Ye(t,["silenceDurationMs"]);return null!=a&&Ke(n,["silenceDurationMs"],a),n}(0,r));const o=Ye(t,["activityHandling"]);null!=o&&Ke(n,["activityHandling"],o);const i=Ye(t,["turnCoverage"]);return null!=i&&Ke(n,["turnCoverage"],i),n}function Cr(e,t){const n={},r=Ye(t,["automaticActivityDetection"]);null!=r&&Ke(n,["automaticActivityDetection"],function(e,t){const n={},r=Ye(t,["disabled"]);null!=r&&Ke(n,["disabled"],r);const o=Ye(t,["startOfSpeechSensitivity"]);null!=o&&Ke(n,["startOfSpeechSensitivity"],o);const i=Ye(t,["endOfSpeechSensitivity"]);null!=i&&Ke(n,["endOfSpeechSensitivity"],i);const s=Ye(t,["prefixPaddingMs"]);null!=s&&Ke(n,["prefixPaddingMs"],s);const a=Ye(t,["silenceDurationMs"]);return null!=a&&Ke(n,["silenceDurationMs"],a),n}(0,r));const o=Ye(t,["activityHandling"]);null!=o&&Ke(n,["activityHandling"],o);const i=Ye(t,["turnCoverage"]);return null!=i&&Ke(n,["turnCoverage"],i),n}function Er(e,t){const n={},r=Ye(t,["triggerTokens"]);null!=r&&Ke(n,["triggerTokens"],r);const o=Ye(t,["slidingWindow"]);return null!=o&&Ke(n,["slidingWindow"],function(e,t){const n={},r=Ye(t,["targetTokens"]);return null!=r&&Ke(n,["targetTokens"],r),n}(0,o)),n}function Tr(e,t){const n={},r=Ye(t,["triggerTokens"]);null!=r&&Ke(n,["triggerTokens"],r);const o=Ye(t,["slidingWindow"]);return null!=o&&Ke(n,["slidingWindow"],function(e,t){const n={},r=Ye(t,["targetTokens"]);return null!=r&&Ke(n,["targetTokens"],r),n}(0,o)),n}function Ar(e,t,n){const r=Ye(t,["generationConfig"]);void 0!==n&&null!=r&&Ke(n,["setup","generationConfig"],r);const o=Ye(t,["responseModalities"]);void 0!==n&&null!=o&&Ke(n,["setup","generationConfig","responseModalities"],o);const i=Ye(t,["temperature"]);void 0!==n&&null!=i&&Ke(n,["setup","generationConfig","temperature"],i);const s=Ye(t,["topP"]);void 0!==n&&null!=s&&Ke(n,["setup","generationConfig","topP"],s);const a=Ye(t,["topK"]);void 0!==n&&null!=a&&Ke(n,["setup","generationConfig","topK"],a);const l=Ye(t,["maxOutputTokens"]);void 0!==n&&null!=l&&Ke(n,["setup","generationConfig","maxOutputTokens"],l);const u=Ye(t,["mediaResolution"]);void 0!==n&&null!=u&&Ke(n,["setup","generationConfig","mediaResolution"],u);const c=Ye(t,["seed"]);void 0!==n&&null!=c&&Ke(n,["setup","generationConfig","seed"],c);const d=Ye(t,["speechConfig"]);void 0!==n&&null!=d&&Ke(n,["setup","generationConfig","speechConfig"],function(e,t){const n={},r=Ye(t,["voiceConfig"]);null!=r&&Ke(n,["voiceConfig"],fr(0,r));const o=Ye(t,["multiSpeakerVoiceConfig"]);null!=o&&Ke(n,["multiSpeakerVoiceConfig"],pr(0,o));const i=Ye(t,["languageCode"]);return null!=i&&Ke(n,["languageCode"],i),n}(0,yn(0,d)));const f=Ye(t,["enableAffectiveDialog"]);void 0!==n&&null!=f&&Ke(n,["setup","generationConfig","enableAffectiveDialog"],f);const h=Ye(t,["systemInstruction"]);void 0!==n&&null!=h&&Ke(n,["setup","systemInstruction"],function(e,t){const n={},r=Ye(t,["parts"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map((e=>mr(0,e)))),Ke(n,["parts"],e)}const o=Ye(t,["role"]);return null!=o&&Ke(n,["role"],o),n}(0,cn(0,h)));const p=Ye(t,["tools"]);if(void 0!==n&&null!=p){let e=wn(0,p);Array.isArray(e)&&(e=e.map((e=>_r(0,bn(0,e))))),Ke(n,["setup","tools"],e)}const m=Ye(t,["sessionResumption"]);void 0!==n&&null!=m&&Ke(n,["setup","sessionResumption"],function(e,t){const n={},r=Ye(t,["handle"]);if(null!=r&&Ke(n,["handle"],r),void 0!==Ye(t,["transparent"]))throw new Error("transparent parameter is not supported in Gemini API.");return n}(0,m));const g=Ye(t,["inputAudioTranscription"]);void 0!==n&&null!=g&&Ke(n,["setup","inputAudioTranscription"],{});const v=Ye(t,["outputAudioTranscription"]);void 0!==n&&null!=v&&Ke(n,["setup","outputAudioTranscription"],{});const y=Ye(t,["realtimeInputConfig"]);void 0!==n&&null!=y&&Ke(n,["setup","realtimeInputConfig"],Sr(0,y));const b=Ye(t,["contextWindowCompression"]);void 0!==n&&null!=b&&Ke(n,["setup","contextWindowCompression"],Er(0,b));const w=Ye(t,["proactivity"]);return void 0!==n&&null!=w&&Ke(n,["setup","proactivity"],function(e,t){const n={},r=Ye(t,["proactiveAudio"]);return null!=r&&Ke(n,["proactiveAudio"],r),n}(0,w)),{}}function Or(e,t,n){const r=Ye(t,["generationConfig"]);void 0!==n&&null!=r&&Ke(n,["setup","generationConfig"],r);const o=Ye(t,["responseModalities"]);void 0!==n&&null!=o&&Ke(n,["setup","generationConfig","responseModalities"],o);const i=Ye(t,["temperature"]);void 0!==n&&null!=i&&Ke(n,["setup","generationConfig","temperature"],i);const s=Ye(t,["topP"]);void 0!==n&&null!=s&&Ke(n,["setup","generationConfig","topP"],s);const a=Ye(t,["topK"]);void 0!==n&&null!=a&&Ke(n,["setup","generationConfig","topK"],a);const l=Ye(t,["maxOutputTokens"]);void 0!==n&&null!=l&&Ke(n,["setup","generationConfig","maxOutputTokens"],l);const u=Ye(t,["mediaResolution"]);void 0!==n&&null!=u&&Ke(n,["setup","generationConfig","mediaResolution"],u);const c=Ye(t,["seed"]);void 0!==n&&null!=c&&Ke(n,["setup","generationConfig","seed"],c);const d=Ye(t,["speechConfig"]);void 0!==n&&null!=d&&Ke(n,["setup","generationConfig","speechConfig"],function(e,t){const n={},r=Ye(t,["voiceConfig"]);if(null!=r&&Ke(n,["voiceConfig"],hr(0,r)),void 0!==Ye(t,["multiSpeakerVoiceConfig"]))throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const o=Ye(t,["languageCode"]);return null!=o&&Ke(n,["languageCode"],o),n}(0,yn(0,d)));const f=Ye(t,["enableAffectiveDialog"]);void 0!==n&&null!=f&&Ke(n,["setup","generationConfig","enableAffectiveDialog"],f);const h=Ye(t,["systemInstruction"]);void 0!==n&&null!=h&&Ke(n,["setup","systemInstruction"],function(e,t){const n={},r=Ye(t,["parts"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map((e=>gr(0,e)))),Ke(n,["parts"],e)}const o=Ye(t,["role"]);return null!=o&&Ke(n,["role"],o),n}(0,cn(0,h)));const p=Ye(t,["tools"]);if(void 0!==n&&null!=p){let e=wn(0,p);Array.isArray(e)&&(e=e.map((e=>kr(0,bn(0,e))))),Ke(n,["setup","tools"],e)}const m=Ye(t,["sessionResumption"]);void 0!==n&&null!=m&&Ke(n,["setup","sessionResumption"],function(e,t){const n={},r=Ye(t,["handle"]);null!=r&&Ke(n,["handle"],r);const o=Ye(t,["transparent"]);return null!=o&&Ke(n,["transparent"],o),n}(0,m));const g=Ye(t,["inputAudioTranscription"]);void 0!==n&&null!=g&&Ke(n,["setup","inputAudioTranscription"],{});const v=Ye(t,["outputAudioTranscription"]);void 0!==n&&null!=v&&Ke(n,["setup","outputAudioTranscription"],{});const y=Ye(t,["realtimeInputConfig"]);void 0!==n&&null!=y&&Ke(n,["setup","realtimeInputConfig"],Cr(0,y));const b=Ye(t,["contextWindowCompression"]);void 0!==n&&null!=b&&Ke(n,["setup","contextWindowCompression"],Tr(0,b));const w=Ye(t,["proactivity"]);return void 0!==n&&null!=w&&Ke(n,["setup","proactivity"],function(e,t){const n={},r=Ye(t,["proactiveAudio"]);return null!=r&&Ke(n,["proactiveAudio"],r),n}(0,w)),{}}function Ir(e,t){const n={},r=Ye(t,["media"]);null!=r&&Ke(n,["mediaChunks"],nn(e,r));const o=Ye(t,["audio"]);null!=o&&Ke(n,["audio"],function(e,t){const n=rn(0,t);if(n.mimeType&&n.mimeType.startsWith("audio/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}(0,o));const i=Ye(t,["audioStreamEnd"]);null!=i&&Ke(n,["audioStreamEnd"],i);const s=Ye(t,["video"]);null!=s&&Ke(n,["video"],function(e,t){const n=rn(0,t);if(n.mimeType&&n.mimeType.startsWith("image/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}(0,s));const a=Ye(t,["text"]);null!=a&&Ke(n,["text"],a);null!=Ye(t,["activityStart"])&&Ke(n,["activityStart"],{});return null!=Ye(t,["activityEnd"])&&Ke(n,["activityEnd"],{}),n}function Nr(e,t){const n={},r=Ye(t,["media"]);if(null!=r&&Ke(n,["mediaChunks"],nn(e,r)),void 0!==Ye(t,["audio"]))throw new Error("audio parameter is not supported in Vertex AI.");const o=Ye(t,["audioStreamEnd"]);if(null!=o&&Ke(n,["audioStreamEnd"],o),void 0!==Ye(t,["video"]))throw new Error("video parameter is not supported in Vertex AI.");if(void 0!==Ye(t,["text"]))throw new Error("text parameter is not supported in Vertex AI.");null!=Ye(t,["activityStart"])&&Ke(n,["activityStart"],{});return null!=Ye(t,["activityEnd"])&&Ke(n,["activityEnd"],{}),n}function Rr(e,t){const n={},r=Ye(t,["text"]);null!=r&&Ke(n,["text"],r);const o=Ye(t,["weight"]);return null!=o&&Ke(n,["weight"],o),n}function Pr(e,t){const n={},r=Ye(t,["temperature"]);null!=r&&Ke(n,["temperature"],r);const o=Ye(t,["topK"]);null!=o&&Ke(n,["topK"],o);const i=Ye(t,["seed"]);null!=i&&Ke(n,["seed"],i);const s=Ye(t,["guidance"]);null!=s&&Ke(n,["guidance"],s);const a=Ye(t,["bpm"]);null!=a&&Ke(n,["bpm"],a);const l=Ye(t,["density"]);null!=l&&Ke(n,["density"],l);const u=Ye(t,["brightness"]);null!=u&&Ke(n,["brightness"],u);const c=Ye(t,["scale"]);null!=c&&Ke(n,["scale"],c);const d=Ye(t,["muteBass"]);null!=d&&Ke(n,["muteBass"],d);const f=Ye(t,["muteDrums"]);null!=f&&Ke(n,["muteDrums"],f);const h=Ye(t,["onlyBassAndDrums"]);return null!=h&&Ke(n,["onlyBassAndDrums"],h),n}function jr(e,t){const n={},r=Ye(t,["model"]);return null!=r&&Ke(n,["model"],r),n}function Lr(e,t){const n={},r=Ye(t,["weightedPrompts"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map((e=>Rr(0,e)))),Ke(n,["weightedPrompts"],e)}return n}function Dr(e,t){const n={},r=Ye(t,["setup"]);null!=r&&Ke(n,["setup"],jr(0,r));const o=Ye(t,["clientContent"]);null!=o&&Ke(n,["clientContent"],Lr(0,o));const i=Ye(t,["musicGenerationConfig"]);null!=i&&Ke(n,["musicGenerationConfig"],Pr(0,i));const s=Ye(t,["playbackControl"]);return null!=s&&Ke(n,["playbackControl"],s),n}function Mr(e,t){const n={},r=Ye(t,["videoMetadata"]);null!=r&&Ke(n,["videoMetadata"],function(e,t){const n={},r=Ye(t,["fps"]);null!=r&&Ke(n,["fps"],r);const o=Ye(t,["endOffset"]);null!=o&&Ke(n,["endOffset"],o);const i=Ye(t,["startOffset"]);return null!=i&&Ke(n,["startOffset"],i),n}(0,r));const o=Ye(t,["thought"]);null!=o&&Ke(n,["thought"],o);const i=Ye(t,["inlineData"]);null!=i&&Ke(n,["inlineData"],function(e,t){const n={},r=Ye(t,["data"]);null!=r&&Ke(n,["data"],r);const o=Ye(t,["mimeType"]);return null!=o&&Ke(n,["mimeType"],o),n}(0,i));const s=Ye(t,["fileData"]);null!=s&&Ke(n,["fileData"],function(e,t){const n={},r=Ye(t,["fileUri"]);null!=r&&Ke(n,["fileUri"],r);const o=Ye(t,["mimeType"]);return null!=o&&Ke(n,["mimeType"],o),n}(0,s));const a=Ye(t,["codeExecutionResult"]);null!=a&&Ke(n,["codeExecutionResult"],a);const l=Ye(t,["executableCode"]);null!=l&&Ke(n,["executableCode"],l);const u=Ye(t,["functionCall"]);null!=u&&Ke(n,["functionCall"],u);const c=Ye(t,["functionResponse"]);null!=c&&Ke(n,["functionResponse"],c);const d=Ye(t,["text"]);return null!=d&&Ke(n,["text"],d),n}function Ur(e,t){const n={},r=Ye(t,["videoMetadata"]);null!=r&&Ke(n,["videoMetadata"],function(e,t){const n={},r=Ye(t,["fps"]);null!=r&&Ke(n,["fps"],r);const o=Ye(t,["endOffset"]);null!=o&&Ke(n,["endOffset"],o);const i=Ye(t,["startOffset"]);return null!=i&&Ke(n,["startOffset"],i),n}(0,r));const o=Ye(t,["thought"]);null!=o&&Ke(n,["thought"],o);const i=Ye(t,["inlineData"]);null!=i&&Ke(n,["inlineData"],function(e,t){const n={},r=Ye(t,["displayName"]);null!=r&&Ke(n,["displayName"],r);const o=Ye(t,["data"]);null!=o&&Ke(n,["data"],o);const i=Ye(t,["mimeType"]);return null!=i&&Ke(n,["mimeType"],i),n}(0,i));const s=Ye(t,["fileData"]);null!=s&&Ke(n,["fileData"],function(e,t){const n={},r=Ye(t,["displayName"]);null!=r&&Ke(n,["displayName"],r);const o=Ye(t,["fileUri"]);null!=o&&Ke(n,["fileUri"],o);const i=Ye(t,["mimeType"]);return null!=i&&Ke(n,["mimeType"],i),n}(0,s));const a=Ye(t,["codeExecutionResult"]);null!=a&&Ke(n,["codeExecutionResult"],a);const l=Ye(t,["executableCode"]);null!=l&&Ke(n,["executableCode"],l);const u=Ye(t,["functionCall"]);null!=u&&Ke(n,["functionCall"],u);const c=Ye(t,["functionResponse"]);null!=c&&Ke(n,["functionResponse"],c);const d=Ye(t,["text"]);return null!=d&&Ke(n,["text"],d),n}function Fr(e,t){const n={},r=Ye(t,["text"]);null!=r&&Ke(n,["text"],r);const o=Ye(t,["finished"]);return null!=o&&Ke(n,["finished"],o),n}function $r(e,t){const n={},r=Ye(t,["text"]);null!=r&&Ke(n,["text"],r);const o=Ye(t,["finished"]);return null!=o&&Ke(n,["finished"],o),n}function zr(e,t){const n={},r=Ye(t,["urlMetadata"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map((e=>function(e,t){const n={},r=Ye(t,["retrievedUrl"]);null!=r&&Ke(n,["retrievedUrl"],r);const o=Ye(t,["urlRetrievalStatus"]);return null!=o&&Ke(n,["urlRetrievalStatus"],o),n}(0,e)))),Ke(n,["urlMetadata"],e)}return n}function Br(e,t){const n={},r=Ye(t,["modelTurn"]);null!=r&&Ke(n,["modelTurn"],function(e,t){const n={},r=Ye(t,["parts"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map((e=>Mr(0,e)))),Ke(n,["parts"],e)}const o=Ye(t,["role"]);return null!=o&&Ke(n,["role"],o),n}(0,r));const o=Ye(t,["turnComplete"]);null!=o&&Ke(n,["turnComplete"],o);const i=Ye(t,["interrupted"]);null!=i&&Ke(n,["interrupted"],i);const s=Ye(t,["groundingMetadata"]);null!=s&&Ke(n,["groundingMetadata"],s);const a=Ye(t,["generationComplete"]);null!=a&&Ke(n,["generationComplete"],a);const l=Ye(t,["inputTranscription"]);null!=l&&Ke(n,["inputTranscription"],Fr(0,l));const u=Ye(t,["outputTranscription"]);null!=u&&Ke(n,["outputTranscription"],Fr(0,u));const c=Ye(t,["urlContextMetadata"]);return null!=c&&Ke(n,["urlContextMetadata"],zr(0,c)),n}function qr(e,t){const n={},r=Ye(t,["modelTurn"]);null!=r&&Ke(n,["modelTurn"],function(e,t){const n={},r=Ye(t,["parts"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map((e=>Ur(0,e)))),Ke(n,["parts"],e)}const o=Ye(t,["role"]);return null!=o&&Ke(n,["role"],o),n}(0,r));const o=Ye(t,["turnComplete"]);null!=o&&Ke(n,["turnComplete"],o);const i=Ye(t,["interrupted"]);null!=i&&Ke(n,["interrupted"],i);const s=Ye(t,["groundingMetadata"]);null!=s&&Ke(n,["groundingMetadata"],s);const a=Ye(t,["generationComplete"]);null!=a&&Ke(n,["generationComplete"],a);const l=Ye(t,["inputTranscription"]);null!=l&&Ke(n,["inputTranscription"],$r(0,l));const u=Ye(t,["outputTranscription"]);return null!=u&&Ke(n,["outputTranscription"],$r(0,u)),n}function Vr(e,t){const n={},r=Ye(t,["functionCalls"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map((e=>function(e,t){const n={},r=Ye(t,["id"]);null!=r&&Ke(n,["id"],r);const o=Ye(t,["args"]);null!=o&&Ke(n,["args"],o);const i=Ye(t,["name"]);return null!=i&&Ke(n,["name"],i),n}(0,e)))),Ke(n,["functionCalls"],e)}return n}function Hr(e,t){const n={},r=Ye(t,["functionCalls"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map((e=>function(e,t){const n={},r=Ye(t,["args"]);null!=r&&Ke(n,["args"],r);const o=Ye(t,["name"]);return null!=o&&Ke(n,["name"],o),n}(0,e)))),Ke(n,["functionCalls"],e)}return n}function Wr(e,t){const n={},r=Ye(t,["modality"]);null!=r&&Ke(n,["modality"],r);const o=Ye(t,["tokenCount"]);return null!=o&&Ke(n,["tokenCount"],o),n}function Gr(e,t){const n={},r=Ye(t,["modality"]);null!=r&&Ke(n,["modality"],r);const o=Ye(t,["tokenCount"]);return null!=o&&Ke(n,["tokenCount"],o),n}function Jr(e,t){const n={};null!=Ye(t,["setupComplete"])&&Ke(n,["setupComplete"],{});const r=Ye(t,["serverContent"]);null!=r&&Ke(n,["serverContent"],Br(0,r));const o=Ye(t,["toolCall"]);null!=o&&Ke(n,["toolCall"],Vr(0,o));const i=Ye(t,["toolCallCancellation"]);null!=i&&Ke(n,["toolCallCancellation"],function(e,t){const n={},r=Ye(t,["ids"]);return null!=r&&Ke(n,["ids"],r),n}(0,i));const s=Ye(t,["usageMetadata"]);null!=s&&Ke(n,["usageMetadata"],function(e,t){const n={},r=Ye(t,["promptTokenCount"]);null!=r&&Ke(n,["promptTokenCount"],r);const o=Ye(t,["cachedContentTokenCount"]);null!=o&&Ke(n,["cachedContentTokenCount"],o);const i=Ye(t,["responseTokenCount"]);null!=i&&Ke(n,["responseTokenCount"],i);const s=Ye(t,["toolUsePromptTokenCount"]);null!=s&&Ke(n,["toolUsePromptTokenCount"],s);const a=Ye(t,["thoughtsTokenCount"]);null!=a&&Ke(n,["thoughtsTokenCount"],a);const l=Ye(t,["totalTokenCount"]);null!=l&&Ke(n,["totalTokenCount"],l);const u=Ye(t,["promptTokensDetails"]);if(null!=u){let e=u;Array.isArray(e)&&(e=e.map((e=>Wr(0,e)))),Ke(n,["promptTokensDetails"],e)}const c=Ye(t,["cacheTokensDetails"]);if(null!=c){let e=c;Array.isArray(e)&&(e=e.map((e=>Wr(0,e)))),Ke(n,["cacheTokensDetails"],e)}const d=Ye(t,["responseTokensDetails"]);if(null!=d){let e=d;Array.isArray(e)&&(e=e.map((e=>Wr(0,e)))),Ke(n,["responseTokensDetails"],e)}const f=Ye(t,["toolUsePromptTokensDetails"]);if(null!=f){let e=f;Array.isArray(e)&&(e=e.map((e=>Wr(0,e)))),Ke(n,["toolUsePromptTokensDetails"],e)}return n}(0,s));const a=Ye(t,["goAway"]);null!=a&&Ke(n,["goAway"],function(e,t){const n={},r=Ye(t,["timeLeft"]);return null!=r&&Ke(n,["timeLeft"],r),n}(0,a));const l=Ye(t,["sessionResumptionUpdate"]);return null!=l&&Ke(n,["sessionResumptionUpdate"],function(e,t){const n={},r=Ye(t,["newHandle"]);null!=r&&Ke(n,["newHandle"],r);const o=Ye(t,["resumable"]);null!=o&&Ke(n,["resumable"],o);const i=Ye(t,["lastConsumedClientMessageIndex"]);return null!=i&&Ke(n,["lastConsumedClientMessageIndex"],i),n}(0,l)),n}function Kr(e,t){const n={};null!=Ye(t,["setupComplete"])&&Ke(n,["setupComplete"],{});const r=Ye(t,["serverContent"]);null!=r&&Ke(n,["serverContent"],qr(0,r));const o=Ye(t,["toolCall"]);null!=o&&Ke(n,["toolCall"],Hr(0,o));const i=Ye(t,["toolCallCancellation"]);null!=i&&Ke(n,["toolCallCancellation"],function(e,t){const n={},r=Ye(t,["ids"]);return null!=r&&Ke(n,["ids"],r),n}(0,i));const s=Ye(t,["usageMetadata"]);null!=s&&Ke(n,["usageMetadata"],function(e,t){const n={},r=Ye(t,["promptTokenCount"]);null!=r&&Ke(n,["promptTokenCount"],r);const o=Ye(t,["cachedContentTokenCount"]);null!=o&&Ke(n,["cachedContentTokenCount"],o);const i=Ye(t,["candidatesTokenCount"]);null!=i&&Ke(n,["responseTokenCount"],i);const s=Ye(t,["toolUsePromptTokenCount"]);null!=s&&Ke(n,["toolUsePromptTokenCount"],s);const a=Ye(t,["thoughtsTokenCount"]);null!=a&&Ke(n,["thoughtsTokenCount"],a);const l=Ye(t,["totalTokenCount"]);null!=l&&Ke(n,["totalTokenCount"],l);const u=Ye(t,["promptTokensDetails"]);if(null!=u){let e=u;Array.isArray(e)&&(e=e.map((e=>Gr(0,e)))),Ke(n,["promptTokensDetails"],e)}const c=Ye(t,["cacheTokensDetails"]);if(null!=c){let e=c;Array.isArray(e)&&(e=e.map((e=>Gr(0,e)))),Ke(n,["cacheTokensDetails"],e)}const d=Ye(t,["candidatesTokensDetails"]);if(null!=d){let e=d;Array.isArray(e)&&(e=e.map((e=>Gr(0,e)))),Ke(n,["responseTokensDetails"],e)}const f=Ye(t,["toolUsePromptTokensDetails"]);if(null!=f){let e=f;Array.isArray(e)&&(e=e.map((e=>Gr(0,e)))),Ke(n,["toolUsePromptTokensDetails"],e)}const h=Ye(t,["trafficType"]);return null!=h&&Ke(n,["trafficType"],h),n}(0,s));const a=Ye(t,["goAway"]);null!=a&&Ke(n,["goAway"],function(e,t){const n={},r=Ye(t,["timeLeft"]);return null!=r&&Ke(n,["timeLeft"],r),n}(0,a));const l=Ye(t,["sessionResumptionUpdate"]);return null!=l&&Ke(n,["sessionResumptionUpdate"],function(e,t){const n={},r=Ye(t,["newHandle"]);null!=r&&Ke(n,["newHandle"],r);const o=Ye(t,["resumable"]);null!=o&&Ke(n,["resumable"],o);const i=Ye(t,["lastConsumedClientMessageIndex"]);return null!=i&&Ke(n,["lastConsumedClientMessageIndex"],i),n}(0,l)),n}function Yr(e,t){const n={},r=Ye(t,["weightedPrompts"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map((e=>function(e,t){const n={},r=Ye(t,["text"]);null!=r&&Ke(n,["text"],r);const o=Ye(t,["weight"]);return null!=o&&Ke(n,["weight"],o),n}(0,e)))),Ke(n,["weightedPrompts"],e)}return n}function Zr(e,t){const n={},r=Ye(t,["clientContent"]);null!=r&&Ke(n,["clientContent"],Yr(0,r));const o=Ye(t,["musicGenerationConfig"]);return null!=o&&Ke(n,["musicGenerationConfig"],function(e,t){const n={},r=Ye(t,["temperature"]);null!=r&&Ke(n,["temperature"],r);const o=Ye(t,["topK"]);null!=o&&Ke(n,["topK"],o);const i=Ye(t,["seed"]);null!=i&&Ke(n,["seed"],i);const s=Ye(t,["guidance"]);null!=s&&Ke(n,["guidance"],s);const a=Ye(t,["bpm"]);null!=a&&Ke(n,["bpm"],a);const l=Ye(t,["density"]);null!=l&&Ke(n,["density"],l);const u=Ye(t,["brightness"]);null!=u&&Ke(n,["brightness"],u);const c=Ye(t,["scale"]);null!=c&&Ke(n,["scale"],c);const d=Ye(t,["muteBass"]);null!=d&&Ke(n,["muteBass"],d);const f=Ye(t,["muteDrums"]);null!=f&&Ke(n,["muteDrums"],f);const h=Ye(t,["onlyBassAndDrums"]);return null!=h&&Ke(n,["onlyBassAndDrums"],h),n}(0,o)),n}function Qr(e,t){const n={},r=Ye(t,["audioChunks"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map((e=>function(e,t){const n={},r=Ye(t,["data"]);null!=r&&Ke(n,["data"],r);const o=Ye(t,["mimeType"]);null!=o&&Ke(n,["mimeType"],o);const i=Ye(t,["sourceMetadata"]);return null!=i&&Ke(n,["sourceMetadata"],Zr(0,i)),n}(0,e)))),Ke(n,["audioChunks"],e)}return n}function Xr(e,t){const n={};null!=Ye(t,["setupComplete"])&&Ke(n,["setupComplete"],{});const r=Ye(t,["serverContent"]);null!=r&&Ke(n,["serverContent"],Qr(0,r));const o=Ye(t,["filteredPrompt"]);return null!=o&&Ke(n,["filteredPrompt"],function(e,t){const n={},r=Ye(t,["text"]);null!=r&&Ke(n,["text"],r);const o=Ye(t,["filteredReason"]);return null!=o&&Ke(n,["filteredReason"],o),n}(0,o)),n}function eo(e,t){const n={},r=Ye(t,["videoMetadata"]);null!=r&&Ke(n,["videoMetadata"],function(e,t){const n={},r=Ye(t,["fps"]);null!=r&&Ke(n,["fps"],r);const o=Ye(t,["endOffset"]);null!=o&&Ke(n,["endOffset"],o);const i=Ye(t,["startOffset"]);return null!=i&&Ke(n,["startOffset"],i),n}(0,r));const o=Ye(t,["thought"]);null!=o&&Ke(n,["thought"],o);const i=Ye(t,["inlineData"]);null!=i&&Ke(n,["inlineData"],function(e,t){const n={};if(void 0!==Ye(t,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const r=Ye(t,["data"]);null!=r&&Ke(n,["data"],r);const o=Ye(t,["mimeType"]);return null!=o&&Ke(n,["mimeType"],o),n}(0,i));const s=Ye(t,["fileData"]);null!=s&&Ke(n,["fileData"],function(e,t){const n={};if(void 0!==Ye(t,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const r=Ye(t,["fileUri"]);null!=r&&Ke(n,["fileUri"],r);const o=Ye(t,["mimeType"]);return null!=o&&Ke(n,["mimeType"],o),n}(0,s));const a=Ye(t,["codeExecutionResult"]);null!=a&&Ke(n,["codeExecutionResult"],a);const l=Ye(t,["executableCode"]);null!=l&&Ke(n,["executableCode"],l);const u=Ye(t,["functionCall"]);null!=u&&Ke(n,["functionCall"],u);const c=Ye(t,["functionResponse"]);null!=c&&Ke(n,["functionResponse"],c);const d=Ye(t,["text"]);return null!=d&&Ke(n,["text"],d),n}function to(e,t){const n={},r=Ye(t,["parts"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map((e=>eo(0,e)))),Ke(n,["parts"],e)}const o=Ye(t,["role"]);return null!=o&&Ke(n,["role"],o),n}function no(e,t){const n={},r=Ye(t,["timeRangeFilter"]);return null!=r&&Ke(n,["timeRangeFilter"],function(e,t){const n={},r=Ye(t,["startTime"]);null!=r&&Ke(n,["startTime"],r);const o=Ye(t,["endTime"]);return null!=o&&Ke(n,["endTime"],o),n}(0,r)),n}function ro(e,t){const n={},r=Ye(t,["dynamicRetrievalConfig"]);return null!=r&&Ke(n,["dynamicRetrievalConfig"],function(e,t){const n={},r=Ye(t,["mode"]);null!=r&&Ke(n,["mode"],r);const o=Ye(t,["dynamicThreshold"]);return null!=o&&Ke(n,["dynamicThreshold"],o),n}(0,r)),n}function oo(e,t){const n={},r=Ye(t,["functionDeclarations"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map((e=>function(e,t){const n={},r=Ye(t,["behavior"]);null!=r&&Ke(n,["behavior"],r);const o=Ye(t,["description"]);null!=o&&Ke(n,["description"],o);const i=Ye(t,["name"]);null!=i&&Ke(n,["name"],i);const s=Ye(t,["parameters"]);null!=s&&Ke(n,["parameters"],s);const a=Ye(t,["response"]);return null!=a&&Ke(n,["response"],a),n}(0,e)))),Ke(n,["functionDeclarations"],e)}if(void 0!==Ye(t,["retrieval"]))throw new Error("retrieval parameter is not supported in Gemini API.");const o=Ye(t,["googleSearch"]);null!=o&&Ke(n,["googleSearch"],no(0,o));const i=Ye(t,["googleSearchRetrieval"]);if(null!=i&&Ke(n,["googleSearchRetrieval"],ro(0,i)),void 0!==Ye(t,["enterpriseWebSearch"]))throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(void 0!==Ye(t,["googleMaps"]))throw new Error("googleMaps parameter is not supported in Gemini API.");null!=Ye(t,["urlContext"])&&Ke(n,["urlContext"],{});const s=Ye(t,["codeExecution"]);return null!=s&&Ke(n,["codeExecution"],s),n}function io(e,t){const n={},r=Ye(t,["latLng"]);null!=r&&Ke(n,["latLng"],function(e,t){const n={},r=Ye(t,["latitude"]);null!=r&&Ke(n,["latitude"],r);const o=Ye(t,["longitude"]);return null!=o&&Ke(n,["longitude"],o),n}(0,r));const o=Ye(t,["languageCode"]);return null!=o&&Ke(n,["languageCode"],o),n}function so(e,t){const n={},r=Ye(t,["functionCallingConfig"]);null!=r&&Ke(n,["functionCallingConfig"],function(e,t){const n={},r=Ye(t,["mode"]);null!=r&&Ke(n,["mode"],r);const o=Ye(t,["allowedFunctionNames"]);return null!=o&&Ke(n,["allowedFunctionNames"],o),n}(0,r));const o=Ye(t,["retrievalConfig"]);return null!=o&&Ke(n,["retrievalConfig"],io(0,o)),n}function ao(e,t){const n={},r=Ye(t,["prebuiltVoiceConfig"]);return null!=r&&Ke(n,["prebuiltVoiceConfig"],function(e,t){const n={},r=Ye(t,["voiceName"]);return null!=r&&Ke(n,["voiceName"],r),n}(0,r)),n}function lo(e,t){const n={},r=Ye(t,["speakerVoiceConfigs"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map((e=>function(e,t){const n={},r=Ye(t,["speaker"]);null!=r&&Ke(n,["speaker"],r);const o=Ye(t,["voiceConfig"]);return null!=o&&Ke(n,["voiceConfig"],ao(0,o)),n}(0,e)))),Ke(n,["speakerVoiceConfigs"],e)}return n}function uo(e,t,n){const r={},o=Ye(t,["systemInstruction"]);void 0!==n&&null!=o&&Ke(n,["systemInstruction"],to(0,cn(0,o)));const i=Ye(t,["temperature"]);null!=i&&Ke(r,["temperature"],i);const s=Ye(t,["topP"]);null!=s&&Ke(r,["topP"],s);const a=Ye(t,["topK"]);null!=a&&Ke(r,["topK"],a);const l=Ye(t,["candidateCount"]);null!=l&&Ke(r,["candidateCount"],l);const u=Ye(t,["maxOutputTokens"]);null!=u&&Ke(r,["maxOutputTokens"],u);const c=Ye(t,["stopSequences"]);null!=c&&Ke(r,["stopSequences"],c);const d=Ye(t,["responseLogprobs"]);null!=d&&Ke(r,["responseLogprobs"],d);const f=Ye(t,["logprobs"]);null!=f&&Ke(r,["logprobs"],f);const h=Ye(t,["presencePenalty"]);null!=h&&Ke(r,["presencePenalty"],h);const p=Ye(t,["frequencyPenalty"]);null!=p&&Ke(r,["frequencyPenalty"],p);const m=Ye(t,["seed"]);null!=m&&Ke(r,["seed"],m);const g=Ye(t,["responseMimeType"]);null!=g&&Ke(r,["responseMimeType"],g);const v=Ye(t,["responseSchema"]);if(null!=v&&Ke(r,["responseSchema"],function(e,t){const n={},r=Ye(t,["anyOf"]);null!=r&&Ke(n,["anyOf"],r);const o=Ye(t,["default"]);null!=o&&Ke(n,["default"],o);const i=Ye(t,["description"]);null!=i&&Ke(n,["description"],i);const s=Ye(t,["enum"]);null!=s&&Ke(n,["enum"],s);const a=Ye(t,["example"]);null!=a&&Ke(n,["example"],a);const l=Ye(t,["format"]);null!=l&&Ke(n,["format"],l);const u=Ye(t,["items"]);null!=u&&Ke(n,["items"],u);const c=Ye(t,["maxItems"]);null!=c&&Ke(n,["maxItems"],c);const d=Ye(t,["maxLength"]);null!=d&&Ke(n,["maxLength"],d);const f=Ye(t,["maxProperties"]);null!=f&&Ke(n,["maxProperties"],f);const h=Ye(t,["maximum"]);null!=h&&Ke(n,["maximum"],h);const p=Ye(t,["minItems"]);null!=p&&Ke(n,["minItems"],p);const m=Ye(t,["minLength"]);null!=m&&Ke(n,["minLength"],m);const g=Ye(t,["minProperties"]);null!=g&&Ke(n,["minProperties"],g);const v=Ye(t,["minimum"]);null!=v&&Ke(n,["minimum"],v);const y=Ye(t,["nullable"]);null!=y&&Ke(n,["nullable"],y);const b=Ye(t,["pattern"]);null!=b&&Ke(n,["pattern"],b);const w=Ye(t,["properties"]);null!=w&&Ke(n,["properties"],w);const x=Ye(t,["propertyOrdering"]);null!=x&&Ke(n,["propertyOrdering"],x);const _=Ye(t,["required"]);null!=_&&Ke(n,["required"],_);const k=Ye(t,["title"]);null!=k&&Ke(n,["title"],k);const S=Ye(t,["type"]);return null!=S&&Ke(n,["type"],S),n}(0,gn(0,v))),void 0!==Ye(t,["routingConfig"]))throw new Error("routingConfig parameter is not supported in Gemini API.");if(void 0!==Ye(t,["modelSelectionConfig"]))throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const y=Ye(t,["safetySettings"]);if(void 0!==n&&null!=y){let e=y;Array.isArray(e)&&(e=e.map((e=>function(e,t){const n={};if(void 0!==Ye(t,["method"]))throw new Error("method parameter is not supported in Gemini API.");const r=Ye(t,["category"]);null!=r&&Ke(n,["category"],r);const o=Ye(t,["threshold"]);return null!=o&&Ke(n,["threshold"],o),n}(0,e)))),Ke(n,["safetySettings"],e)}const b=Ye(t,["tools"]);if(void 0!==n&&null!=b){let e=wn(0,b);Array.isArray(e)&&(e=e.map((e=>oo(0,bn(0,e))))),Ke(n,["tools"],e)}const w=Ye(t,["toolConfig"]);if(void 0!==n&&null!=w&&Ke(n,["toolConfig"],so(0,w)),void 0!==Ye(t,["labels"]))throw new Error("labels parameter is not supported in Gemini API.");const x=Ye(t,["cachedContent"]);void 0!==n&&null!=x&&Ke(n,["cachedContent"],xn(e,x));const _=Ye(t,["responseModalities"]);null!=_&&Ke(r,["responseModalities"],_);const k=Ye(t,["mediaResolution"]);null!=k&&Ke(r,["mediaResolution"],k);const S=Ye(t,["speechConfig"]);if(null!=S&&Ke(r,["speechConfig"],function(e,t){const n={},r=Ye(t,["voiceConfig"]);null!=r&&Ke(n,["voiceConfig"],ao(0,r));const o=Ye(t,["multiSpeakerVoiceConfig"]);null!=o&&Ke(n,["multiSpeakerVoiceConfig"],lo(0,o));const i=Ye(t,["languageCode"]);return null!=i&&Ke(n,["languageCode"],i),n}(0,vn(0,S))),void 0!==Ye(t,["audioTimestamp"]))throw new Error("audioTimestamp parameter is not supported in Gemini API.");const C=Ye(t,["thinkingConfig"]);return null!=C&&Ke(r,["thinkingConfig"],function(e,t){const n={},r=Ye(t,["includeThoughts"]);null!=r&&Ke(n,["includeThoughts"],r);const o=Ye(t,["thinkingBudget"]);return null!=o&&Ke(n,["thinkingBudget"],o),n}(0,C)),r}function co(e,t){const n={},r=Ye(t,["model"]);null!=r&&Ke(n,["_url","model"],en(e,r));const o=Ye(t,["contents"]);if(null!=o){let e=fn(0,o);Array.isArray(e)&&(e=e.map((e=>to(0,e)))),Ke(n,["contents"],e)}const i=Ye(t,["config"]);return null!=i&&Ke(n,["generationConfig"],uo(e,i,n)),n}function fo(e,t){const n={},r=Ye(t,["model"]);null!=r&&Ke(n,["_url","model"],en(e,r));const o=Ye(t,["contents"]);null!=o&&Ke(n,["requests[]","content"],dn(e,o));const i=Ye(t,["config"]);null!=i&&Ke(n,["config"],function(e,t,n){const r=Ye(t,["taskType"]);void 0!==n&&null!=r&&Ke(n,["requests[]","taskType"],r);const o=Ye(t,["title"]);void 0!==n&&null!=o&&Ke(n,["requests[]","title"],o);const i=Ye(t,["outputDimensionality"]);if(void 0!==n&&null!=i&&Ke(n,["requests[]","outputDimensionality"],i),void 0!==Ye(t,["mimeType"]))throw new Error("mimeType parameter is not supported in Gemini API.");if(void 0!==Ye(t,["autoTruncate"]))throw new Error("autoTruncate parameter is not supported in Gemini API.");return{}}(0,i,n));const s=Ye(t,["model"]);return void 0!==s&&Ke(n,["requests[]","model"],en(e,s)),n}function ho(e,t){const n={},r=Ye(t,["model"]);null!=r&&Ke(n,["_url","model"],en(e,r));const o=Ye(t,["prompt"]);null!=o&&Ke(n,["instances[0]","prompt"],o);const i=Ye(t,["config"]);return null!=i&&Ke(n,["config"],function(e,t,n){if(void 0!==Ye(t,["outputGcsUri"]))throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(void 0!==Ye(t,["negativePrompt"]))throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=Ye(t,["numberOfImages"]);void 0!==n&&null!=r&&Ke(n,["parameters","sampleCount"],r);const o=Ye(t,["aspectRatio"]);void 0!==n&&null!=o&&Ke(n,["parameters","aspectRatio"],o);const i=Ye(t,["guidanceScale"]);if(void 0!==n&&null!=i&&Ke(n,["parameters","guidanceScale"],i),void 0!==Ye(t,["seed"]))throw new Error("seed parameter is not supported in Gemini API.");const s=Ye(t,["safetyFilterLevel"]);void 0!==n&&null!=s&&Ke(n,["parameters","safetySetting"],s);const a=Ye(t,["personGeneration"]);void 0!==n&&null!=a&&Ke(n,["parameters","personGeneration"],a);const l=Ye(t,["includeSafetyAttributes"]);void 0!==n&&null!=l&&Ke(n,["parameters","includeSafetyAttributes"],l);const u=Ye(t,["includeRaiReason"]);void 0!==n&&null!=u&&Ke(n,["parameters","includeRaiReason"],u);const c=Ye(t,["language"]);void 0!==n&&null!=c&&Ke(n,["parameters","language"],c);const d=Ye(t,["outputMimeType"]);void 0!==n&&null!=d&&Ke(n,["parameters","outputOptions","mimeType"],d);const f=Ye(t,["outputCompressionQuality"]);if(void 0!==n&&null!=f&&Ke(n,["parameters","outputOptions","compressionQuality"],f),void 0!==Ye(t,["addWatermark"]))throw new Error("addWatermark parameter is not supported in Gemini API.");if(void 0!==Ye(t,["enhancePrompt"]))throw new Error("enhancePrompt parameter is not supported in Gemini API.");return{}}(0,i,n)),n}function po(e,t){const n={},r=Ye(t,["config"]);return null!=r&&Ke(n,["config"],function(e,t,n){const r=Ye(t,["pageSize"]);void 0!==n&&null!=r&&Ke(n,["_query","pageSize"],r);const o=Ye(t,["pageToken"]);void 0!==n&&null!=o&&Ke(n,["_query","pageToken"],o);const i=Ye(t,["filter"]);void 0!==n&&null!=i&&Ke(n,["_query","filter"],i);const s=Ye(t,["queryBase"]);return void 0!==n&&null!=s&&Ke(n,["_url","models_url"],Cn(e,s)),{}}(e,r,n)),n}function mo(e,t){const n={},r=Ye(t,["model"]);null!=r&&Ke(n,["_url","name"],en(e,r));const o=Ye(t,["config"]);return null!=o&&Ke(n,["config"],function(e,t,n){const r=Ye(t,["displayName"]);void 0!==n&&null!=r&&Ke(n,["displayName"],r);const o=Ye(t,["description"]);void 0!==n&&null!=o&&Ke(n,["description"],o);const i=Ye(t,["defaultCheckpointId"]);return void 0!==n&&null!=i&&Ke(n,["defaultCheckpointId"],i),{}}(0,o,n)),n}function go(e,t){const n={},r=Ye(t,["model"]);null!=r&&Ke(n,["_url","model"],en(e,r));const o=Ye(t,["contents"]);if(null!=o){let e=fn(0,o);Array.isArray(e)&&(e=e.map((e=>to(0,e)))),Ke(n,["contents"],e)}const i=Ye(t,["config"]);return null!=i&&Ke(n,["config"],function(e,t){if(void 0!==Ye(t,["systemInstruction"]))throw new Error("systemInstruction parameter is not supported in Gemini API.");if(void 0!==Ye(t,["tools"]))throw new Error("tools parameter is not supported in Gemini API.");if(void 0!==Ye(t,["generationConfig"]))throw new Error("generationConfig parameter is not supported in Gemini API.");return{}}(0,i)),n}function vo(e,t){const n={},r=Ye(t,["model"]);null!=r&&Ke(n,["_url","model"],en(e,r));const o=Ye(t,["prompt"]);null!=o&&Ke(n,["instances[0]","prompt"],o);const i=Ye(t,["image"]);null!=i&&Ke(n,["instances[0]","image"],function(e,t){const n={};if(void 0!==Ye(t,["gcsUri"]))throw new Error("gcsUri parameter is not supported in Gemini API.");const r=Ye(t,["imageBytes"]);null!=r&&Ke(n,["bytesBase64Encoded"],kn(0,r));const o=Ye(t,["mimeType"]);return null!=o&&Ke(n,["mimeType"],o),n}(0,i));const s=Ye(t,["config"]);return null!=s&&Ke(n,["config"],function(e,t,n){const r=Ye(t,["numberOfVideos"]);if(void 0!==n&&null!=r&&Ke(n,["parameters","sampleCount"],r),void 0!==Ye(t,["outputGcsUri"]))throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(void 0!==Ye(t,["fps"]))throw new Error("fps parameter is not supported in Gemini API.");const o=Ye(t,["durationSeconds"]);if(void 0!==n&&null!=o&&Ke(n,["parameters","durationSeconds"],o),void 0!==Ye(t,["seed"]))throw new Error("seed parameter is not supported in Gemini API.");const i=Ye(t,["aspectRatio"]);if(void 0!==n&&null!=i&&Ke(n,["parameters","aspectRatio"],i),void 0!==Ye(t,["resolution"]))throw new Error("resolution parameter is not supported in Gemini API.");const s=Ye(t,["personGeneration"]);if(void 0!==n&&null!=s&&Ke(n,["parameters","personGeneration"],s),void 0!==Ye(t,["pubsubTopic"]))throw new Error("pubsubTopic parameter is not supported in Gemini API.");const a=Ye(t,["negativePrompt"]);if(void 0!==n&&null!=a&&Ke(n,["parameters","negativePrompt"],a),void 0!==Ye(t,["enhancePrompt"]))throw new Error("enhancePrompt parameter is not supported in Gemini API.");if(void 0!==Ye(t,["generateAudio"]))throw new Error("generateAudio parameter is not supported in Gemini API.");return{}}(0,s,n)),n}function yo(e,t){const n={},r=Ye(t,["videoMetadata"]);null!=r&&Ke(n,["videoMetadata"],function(e,t){const n={},r=Ye(t,["fps"]);null!=r&&Ke(n,["fps"],r);const o=Ye(t,["endOffset"]);null!=o&&Ke(n,["endOffset"],o);const i=Ye(t,["startOffset"]);return null!=i&&Ke(n,["startOffset"],i),n}(0,r));const o=Ye(t,["thought"]);null!=o&&Ke(n,["thought"],o);const i=Ye(t,["inlineData"]);null!=i&&Ke(n,["inlineData"],function(e,t){const n={},r=Ye(t,["displayName"]);null!=r&&Ke(n,["displayName"],r);const o=Ye(t,["data"]);null!=o&&Ke(n,["data"],o);const i=Ye(t,["mimeType"]);return null!=i&&Ke(n,["mimeType"],i),n}(0,i));const s=Ye(t,["fileData"]);null!=s&&Ke(n,["fileData"],function(e,t){const n={},r=Ye(t,["displayName"]);null!=r&&Ke(n,["displayName"],r);const o=Ye(t,["fileUri"]);null!=o&&Ke(n,["fileUri"],o);const i=Ye(t,["mimeType"]);return null!=i&&Ke(n,["mimeType"],i),n}(0,s));const a=Ye(t,["codeExecutionResult"]);null!=a&&Ke(n,["codeExecutionResult"],a);const l=Ye(t,["executableCode"]);null!=l&&Ke(n,["executableCode"],l);const u=Ye(t,["functionCall"]);null!=u&&Ke(n,["functionCall"],u);const c=Ye(t,["functionResponse"]);null!=c&&Ke(n,["functionResponse"],c);const d=Ye(t,["text"]);return null!=d&&Ke(n,["text"],d),n}function bo(e,t){const n={},r=Ye(t,["parts"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map((e=>yo(0,e)))),Ke(n,["parts"],e)}const o=Ye(t,["role"]);return null!=o&&Ke(n,["role"],o),n}function wo(e,t){const n={},r=Ye(t,["timeRangeFilter"]);return null!=r&&Ke(n,["timeRangeFilter"],function(e,t){const n={},r=Ye(t,["startTime"]);null!=r&&Ke(n,["startTime"],r);const o=Ye(t,["endTime"]);return null!=o&&Ke(n,["endTime"],o),n}(0,r)),n}function xo(e,t){const n={},r=Ye(t,["dynamicRetrievalConfig"]);return null!=r&&Ke(n,["dynamicRetrievalConfig"],function(e,t){const n={},r=Ye(t,["mode"]);null!=r&&Ke(n,["mode"],r);const o=Ye(t,["dynamicThreshold"]);return null!=o&&Ke(n,["dynamicThreshold"],o),n}(0,r)),n}function _o(e,t){const n={},r=Ye(t,["apiKeyConfig"]);null!=r&&Ke(n,["apiKeyConfig"],function(e,t){const n={},r=Ye(t,["apiKeyString"]);return null!=r&&Ke(n,["apiKeyString"],r),n}(0,r));const o=Ye(t,["authType"]);null!=o&&Ke(n,["authType"],o);const i=Ye(t,["googleServiceAccountConfig"]);null!=i&&Ke(n,["googleServiceAccountConfig"],i);const s=Ye(t,["httpBasicAuthConfig"]);null!=s&&Ke(n,["httpBasicAuthConfig"],s);const a=Ye(t,["oauthConfig"]);null!=a&&Ke(n,["oauthConfig"],a);const l=Ye(t,["oidcConfig"]);return null!=l&&Ke(n,["oidcConfig"],l),n}function ko(e,t){const n={},r=Ye(t,["functionDeclarations"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map((e=>function(e,t){const n={};if(void 0!==Ye(t,["behavior"]))throw new Error("behavior parameter is not supported in Vertex AI.");const r=Ye(t,["description"]);null!=r&&Ke(n,["description"],r);const o=Ye(t,["name"]);null!=o&&Ke(n,["name"],o);const i=Ye(t,["parameters"]);null!=i&&Ke(n,["parameters"],i);const s=Ye(t,["response"]);return null!=s&&Ke(n,["response"],s),n}(0,e)))),Ke(n,["functionDeclarations"],e)}const o=Ye(t,["retrieval"]);null!=o&&Ke(n,["retrieval"],o);const i=Ye(t,["googleSearch"]);null!=i&&Ke(n,["googleSearch"],wo(0,i));const s=Ye(t,["googleSearchRetrieval"]);null!=s&&Ke(n,["googleSearchRetrieval"],xo(0,s));null!=Ye(t,["enterpriseWebSearch"])&&Ke(n,["enterpriseWebSearch"],{});const a=Ye(t,["googleMaps"]);if(null!=a&&Ke(n,["googleMaps"],function(e,t){const n={},r=Ye(t,["authConfig"]);return null!=r&&Ke(n,["authConfig"],_o(0,r)),n}(0,a)),void 0!==Ye(t,["urlContext"]))throw new Error("urlContext parameter is not supported in Vertex AI.");const l=Ye(t,["codeExecution"]);return null!=l&&Ke(n,["codeExecution"],l),n}function So(e,t){const n={},r=Ye(t,["latLng"]);null!=r&&Ke(n,["latLng"],function(e,t){const n={},r=Ye(t,["latitude"]);null!=r&&Ke(n,["latitude"],r);const o=Ye(t,["longitude"]);return null!=o&&Ke(n,["longitude"],o),n}(0,r));const o=Ye(t,["languageCode"]);return null!=o&&Ke(n,["languageCode"],o),n}function Co(e,t){const n={},r=Ye(t,["functionCallingConfig"]);null!=r&&Ke(n,["functionCallingConfig"],function(e,t){const n={},r=Ye(t,["mode"]);null!=r&&Ke(n,["mode"],r);const o=Ye(t,["allowedFunctionNames"]);return null!=o&&Ke(n,["allowedFunctionNames"],o),n}(0,r));const o=Ye(t,["retrievalConfig"]);return null!=o&&Ke(n,["retrievalConfig"],So(0,o)),n}function Eo(e,t){const n={},r=Ye(t,["prebuiltVoiceConfig"]);return null!=r&&Ke(n,["prebuiltVoiceConfig"],function(e,t){const n={},r=Ye(t,["voiceName"]);return null!=r&&Ke(n,["voiceName"],r),n}(0,r)),n}function To(e,t,n){const r={},o=Ye(t,["systemInstruction"]);void 0!==n&&null!=o&&Ke(n,["systemInstruction"],bo(0,cn(0,o)));const i=Ye(t,["temperature"]);null!=i&&Ke(r,["temperature"],i);const s=Ye(t,["topP"]);null!=s&&Ke(r,["topP"],s);const a=Ye(t,["topK"]);null!=a&&Ke(r,["topK"],a);const l=Ye(t,["candidateCount"]);null!=l&&Ke(r,["candidateCount"],l);const u=Ye(t,["maxOutputTokens"]);null!=u&&Ke(r,["maxOutputTokens"],u);const c=Ye(t,["stopSequences"]);null!=c&&Ke(r,["stopSequences"],c);const d=Ye(t,["responseLogprobs"]);null!=d&&Ke(r,["responseLogprobs"],d);const f=Ye(t,["logprobs"]);null!=f&&Ke(r,["logprobs"],f);const h=Ye(t,["presencePenalty"]);null!=h&&Ke(r,["presencePenalty"],h);const p=Ye(t,["frequencyPenalty"]);null!=p&&Ke(r,["frequencyPenalty"],p);const m=Ye(t,["seed"]);null!=m&&Ke(r,["seed"],m);const g=Ye(t,["responseMimeType"]);null!=g&&Ke(r,["responseMimeType"],g);const v=Ye(t,["responseSchema"]);null!=v&&Ke(r,["responseSchema"],function(e,t){const n={},r=Ye(t,["anyOf"]);null!=r&&Ke(n,["anyOf"],r);const o=Ye(t,["default"]);null!=o&&Ke(n,["default"],o);const i=Ye(t,["description"]);null!=i&&Ke(n,["description"],i);const s=Ye(t,["enum"]);null!=s&&Ke(n,["enum"],s);const a=Ye(t,["example"]);null!=a&&Ke(n,["example"],a);const l=Ye(t,["format"]);null!=l&&Ke(n,["format"],l);const u=Ye(t,["items"]);null!=u&&Ke(n,["items"],u);const c=Ye(t,["maxItems"]);null!=c&&Ke(n,["maxItems"],c);const d=Ye(t,["maxLength"]);null!=d&&Ke(n,["maxLength"],d);const f=Ye(t,["maxProperties"]);null!=f&&Ke(n,["maxProperties"],f);const h=Ye(t,["maximum"]);null!=h&&Ke(n,["maximum"],h);const p=Ye(t,["minItems"]);null!=p&&Ke(n,["minItems"],p);const m=Ye(t,["minLength"]);null!=m&&Ke(n,["minLength"],m);const g=Ye(t,["minProperties"]);null!=g&&Ke(n,["minProperties"],g);const v=Ye(t,["minimum"]);null!=v&&Ke(n,["minimum"],v);const y=Ye(t,["nullable"]);null!=y&&Ke(n,["nullable"],y);const b=Ye(t,["pattern"]);null!=b&&Ke(n,["pattern"],b);const w=Ye(t,["properties"]);null!=w&&Ke(n,["properties"],w);const x=Ye(t,["propertyOrdering"]);null!=x&&Ke(n,["propertyOrdering"],x);const _=Ye(t,["required"]);null!=_&&Ke(n,["required"],_);const k=Ye(t,["title"]);null!=k&&Ke(n,["title"],k);const S=Ye(t,["type"]);return null!=S&&Ke(n,["type"],S),n}(0,gn(0,v)));const y=Ye(t,["routingConfig"]);null!=y&&Ke(r,["routingConfig"],y);const b=Ye(t,["modelSelectionConfig"]);null!=b&&Ke(r,["modelConfig"],function(e,t){const n={},r=Ye(t,["featureSelectionPreference"]);return null!=r&&Ke(n,["featureSelectionPreference"],r),n}(0,b));const w=Ye(t,["safetySettings"]);if(void 0!==n&&null!=w){let e=w;Array.isArray(e)&&(e=e.map((e=>function(e,t){const n={},r=Ye(t,["method"]);null!=r&&Ke(n,["method"],r);const o=Ye(t,["category"]);null!=o&&Ke(n,["category"],o);const i=Ye(t,["threshold"]);return null!=i&&Ke(n,["threshold"],i),n}(0,e)))),Ke(n,["safetySettings"],e)}const x=Ye(t,["tools"]);if(void 0!==n&&null!=x){let e=wn(0,x);Array.isArray(e)&&(e=e.map((e=>ko(0,bn(0,e))))),Ke(n,["tools"],e)}const _=Ye(t,["toolConfig"]);void 0!==n&&null!=_&&Ke(n,["toolConfig"],Co(0,_));const k=Ye(t,["labels"]);void 0!==n&&null!=k&&Ke(n,["labels"],k);const S=Ye(t,["cachedContent"]);void 0!==n&&null!=S&&Ke(n,["cachedContent"],xn(e,S));const C=Ye(t,["responseModalities"]);null!=C&&Ke(r,["responseModalities"],C);const E=Ye(t,["mediaResolution"]);null!=E&&Ke(r,["mediaResolution"],E);const T=Ye(t,["speechConfig"]);null!=T&&Ke(r,["speechConfig"],function(e,t){const n={},r=Ye(t,["voiceConfig"]);if(null!=r&&Ke(n,["voiceConfig"],Eo(0,r)),void 0!==Ye(t,["multiSpeakerVoiceConfig"]))throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const o=Ye(t,["languageCode"]);return null!=o&&Ke(n,["languageCode"],o),n}(0,vn(0,T)));const A=Ye(t,["audioTimestamp"]);null!=A&&Ke(r,["audioTimestamp"],A);const O=Ye(t,["thinkingConfig"]);return null!=O&&Ke(r,["thinkingConfig"],function(e,t){const n={},r=Ye(t,["includeThoughts"]);null!=r&&Ke(n,["includeThoughts"],r);const o=Ye(t,["thinkingBudget"]);return null!=o&&Ke(n,["thinkingBudget"],o),n}(0,O)),r}function Ao(e,t){const n={},r=Ye(t,["model"]);null!=r&&Ke(n,["_url","model"],en(e,r));const o=Ye(t,["contents"]);if(null!=o){let e=fn(0,o);Array.isArray(e)&&(e=e.map((e=>bo(0,e)))),Ke(n,["contents"],e)}const i=Ye(t,["config"]);return null!=i&&Ke(n,["generationConfig"],To(e,i,n)),n}function Oo(e,t){const n={},r=Ye(t,["model"]);null!=r&&Ke(n,["_url","model"],en(e,r));const o=Ye(t,["contents"]);null!=o&&Ke(n,["instances[]","content"],dn(e,o));const i=Ye(t,["config"]);return null!=i&&Ke(n,["config"],function(e,t,n){const r=Ye(t,["taskType"]);void 0!==n&&null!=r&&Ke(n,["instances[]","task_type"],r);const o=Ye(t,["title"]);void 0!==n&&null!=o&&Ke(n,["instances[]","title"],o);const i=Ye(t,["outputDimensionality"]);void 0!==n&&null!=i&&Ke(n,["parameters","outputDimensionality"],i);const s=Ye(t,["mimeType"]);void 0!==n&&null!=s&&Ke(n,["instances[]","mimeType"],s);const a=Ye(t,["autoTruncate"]);return void 0!==n&&null!=a&&Ke(n,["parameters","autoTruncate"],a),{}}(0,i,n)),n}function Io(e,t){const n={},r=Ye(t,["model"]);null!=r&&Ke(n,["_url","model"],en(e,r));const o=Ye(t,["prompt"]);null!=o&&Ke(n,["instances[0]","prompt"],o);const i=Ye(t,["config"]);return null!=i&&Ke(n,["config"],function(e,t,n){const r=Ye(t,["outputGcsUri"]);void 0!==n&&null!=r&&Ke(n,["parameters","storageUri"],r);const o=Ye(t,["negativePrompt"]);void 0!==n&&null!=o&&Ke(n,["parameters","negativePrompt"],o);const i=Ye(t,["numberOfImages"]);void 0!==n&&null!=i&&Ke(n,["parameters","sampleCount"],i);const s=Ye(t,["aspectRatio"]);void 0!==n&&null!=s&&Ke(n,["parameters","aspectRatio"],s);const a=Ye(t,["guidanceScale"]);void 0!==n&&null!=a&&Ke(n,["parameters","guidanceScale"],a);const l=Ye(t,["seed"]);void 0!==n&&null!=l&&Ke(n,["parameters","seed"],l);const u=Ye(t,["safetyFilterLevel"]);void 0!==n&&null!=u&&Ke(n,["parameters","safetySetting"],u);const c=Ye(t,["personGeneration"]);void 0!==n&&null!=c&&Ke(n,["parameters","personGeneration"],c);const d=Ye(t,["includeSafetyAttributes"]);void 0!==n&&null!=d&&Ke(n,["parameters","includeSafetyAttributes"],d);const f=Ye(t,["includeRaiReason"]);void 0!==n&&null!=f&&Ke(n,["parameters","includeRaiReason"],f);const h=Ye(t,["language"]);void 0!==n&&null!=h&&Ke(n,["parameters","language"],h);const p=Ye(t,["outputMimeType"]);void 0!==n&&null!=p&&Ke(n,["parameters","outputOptions","mimeType"],p);const m=Ye(t,["outputCompressionQuality"]);void 0!==n&&null!=m&&Ke(n,["parameters","outputOptions","compressionQuality"],m);const g=Ye(t,["addWatermark"]);void 0!==n&&null!=g&&Ke(n,["parameters","addWatermark"],g);const v=Ye(t,["enhancePrompt"]);return void 0!==n&&null!=v&&Ke(n,["parameters","enhancePrompt"],v),{}}(0,i,n)),n}function No(e,t){const n={},r=Ye(t,["gcsUri"]);null!=r&&Ke(n,["gcsUri"],r);const o=Ye(t,["imageBytes"]);null!=o&&Ke(n,["bytesBase64Encoded"],kn(0,o));const i=Ye(t,["mimeType"]);return null!=i&&Ke(n,["mimeType"],i),n}function Ro(e,t){const n={},r=Ye(t,["referenceImage"]);null!=r&&Ke(n,["referenceImage"],No(0,r));const o=Ye(t,["referenceId"]);null!=o&&Ke(n,["referenceId"],o);const i=Ye(t,["referenceType"]);null!=i&&Ke(n,["referenceType"],i);const s=Ye(t,["maskImageConfig"]);null!=s&&Ke(n,["maskImageConfig"],function(e,t){const n={},r=Ye(t,["maskMode"]);null!=r&&Ke(n,["maskMode"],r);const o=Ye(t,["segmentationClasses"]);null!=o&&Ke(n,["maskClasses"],o);const i=Ye(t,["maskDilation"]);return null!=i&&Ke(n,["dilation"],i),n}(0,s));const a=Ye(t,["controlImageConfig"]);null!=a&&Ke(n,["controlImageConfig"],function(e,t){const n={},r=Ye(t,["controlType"]);null!=r&&Ke(n,["controlType"],r);const o=Ye(t,["enableControlImageComputation"]);return null!=o&&Ke(n,["computeControl"],o),n}(0,a));const l=Ye(t,["styleImageConfig"]);null!=l&&Ke(n,["styleImageConfig"],function(e,t){const n={},r=Ye(t,["styleDescription"]);return null!=r&&Ke(n,["styleDescription"],r),n}(0,l));const u=Ye(t,["subjectImageConfig"]);return null!=u&&Ke(n,["subjectImageConfig"],function(e,t){const n={},r=Ye(t,["subjectType"]);null!=r&&Ke(n,["subjectType"],r);const o=Ye(t,["subjectDescription"]);return null!=o&&Ke(n,["subjectDescription"],o),n}(0,u)),n}function Po(e,t){const n={},r=Ye(t,["model"]);null!=r&&Ke(n,["_url","model"],en(e,r));const o=Ye(t,["prompt"]);null!=o&&Ke(n,["instances[0]","prompt"],o);const i=Ye(t,["referenceImages"]);if(null!=i){let e=i;Array.isArray(e)&&(e=e.map((e=>Ro(0,e)))),Ke(n,["instances[0]","referenceImages"],e)}const s=Ye(t,["config"]);return null!=s&&Ke(n,["config"],function(e,t,n){const r=Ye(t,["outputGcsUri"]);void 0!==n&&null!=r&&Ke(n,["parameters","storageUri"],r);const o=Ye(t,["negativePrompt"]);void 0!==n&&null!=o&&Ke(n,["parameters","negativePrompt"],o);const i=Ye(t,["numberOfImages"]);void 0!==n&&null!=i&&Ke(n,["parameters","sampleCount"],i);const s=Ye(t,["aspectRatio"]);void 0!==n&&null!=s&&Ke(n,["parameters","aspectRatio"],s);const a=Ye(t,["guidanceScale"]);void 0!==n&&null!=a&&Ke(n,["parameters","guidanceScale"],a);const l=Ye(t,["seed"]);void 0!==n&&null!=l&&Ke(n,["parameters","seed"],l);const u=Ye(t,["safetyFilterLevel"]);void 0!==n&&null!=u&&Ke(n,["parameters","safetySetting"],u);const c=Ye(t,["personGeneration"]);void 0!==n&&null!=c&&Ke(n,["parameters","personGeneration"],c);const d=Ye(t,["includeSafetyAttributes"]);void 0!==n&&null!=d&&Ke(n,["parameters","includeSafetyAttributes"],d);const f=Ye(t,["includeRaiReason"]);void 0!==n&&null!=f&&Ke(n,["parameters","includeRaiReason"],f);const h=Ye(t,["language"]);void 0!==n&&null!=h&&Ke(n,["parameters","language"],h);const p=Ye(t,["outputMimeType"]);void 0!==n&&null!=p&&Ke(n,["parameters","outputOptions","mimeType"],p);const m=Ye(t,["outputCompressionQuality"]);void 0!==n&&null!=m&&Ke(n,["parameters","outputOptions","compressionQuality"],m);const g=Ye(t,["editMode"]);void 0!==n&&null!=g&&Ke(n,["parameters","editMode"],g);const v=Ye(t,["baseSteps"]);return void 0!==n&&null!=v&&Ke(n,["parameters","editConfig","baseSteps"],v),{}}(0,s,n)),n}function jo(e,t){const n={},r=Ye(t,["model"]);null!=r&&Ke(n,["_url","model"],en(e,r));const o=Ye(t,["image"]);null!=o&&Ke(n,["instances[0]","image"],No(0,o));const i=Ye(t,["upscaleFactor"]);null!=i&&Ke(n,["parameters","upscaleConfig","upscaleFactor"],i);const s=Ye(t,["config"]);return null!=s&&Ke(n,["config"],function(e,t,n){const r=Ye(t,["includeRaiReason"]);void 0!==n&&null!=r&&Ke(n,["parameters","includeRaiReason"],r);const o=Ye(t,["outputMimeType"]);void 0!==n&&null!=o&&Ke(n,["parameters","outputOptions","mimeType"],o);const i=Ye(t,["outputCompressionQuality"]);void 0!==n&&null!=i&&Ke(n,["parameters","outputOptions","compressionQuality"],i);const s=Ye(t,["numberOfImages"]);void 0!==n&&null!=s&&Ke(n,["parameters","sampleCount"],s);const a=Ye(t,["mode"]);return void 0!==n&&null!=a&&Ke(n,["parameters","mode"],a),{}}(0,s,n)),n}function Lo(e,t){const n={},r=Ye(t,["config"]);return null!=r&&Ke(n,["config"],function(e,t,n){const r=Ye(t,["pageSize"]);void 0!==n&&null!=r&&Ke(n,["_query","pageSize"],r);const o=Ye(t,["pageToken"]);void 0!==n&&null!=o&&Ke(n,["_query","pageToken"],o);const i=Ye(t,["filter"]);void 0!==n&&null!=i&&Ke(n,["_query","filter"],i);const s=Ye(t,["queryBase"]);return void 0!==n&&null!=s&&Ke(n,["_url","models_url"],Cn(e,s)),{}}(e,r,n)),n}function Do(e,t){const n={},r=Ye(t,["model"]);null!=r&&Ke(n,["_url","model"],en(e,r));const o=Ye(t,["config"]);return null!=o&&Ke(n,["config"],function(e,t,n){const r=Ye(t,["displayName"]);void 0!==n&&null!=r&&Ke(n,["displayName"],r);const o=Ye(t,["description"]);void 0!==n&&null!=o&&Ke(n,["description"],o);const i=Ye(t,["defaultCheckpointId"]);return void 0!==n&&null!=i&&Ke(n,["defaultCheckpointId"],i),{}}(0,o,n)),n}function Mo(e,t){const n={},r=Ye(t,["model"]);null!=r&&Ke(n,["_url","model"],en(e,r));const o=Ye(t,["contents"]);if(null!=o){let e=fn(0,o);Array.isArray(e)&&(e=e.map((e=>bo(0,e)))),Ke(n,["contents"],e)}const i=Ye(t,["config"]);return null!=i&&Ke(n,["config"],function(e,t,n){const r=Ye(t,["systemInstruction"]);void 0!==n&&null!=r&&Ke(n,["systemInstruction"],bo(0,cn(0,r)));const o=Ye(t,["tools"]);if(void 0!==n&&null!=o){let e=o;Array.isArray(e)&&(e=e.map((e=>ko(0,e)))),Ke(n,["tools"],e)}const i=Ye(t,["generationConfig"]);return void 0!==n&&null!=i&&Ke(n,["generationConfig"],i),{}}(0,i,n)),n}function Uo(e,t){const n={},r=Ye(t,["model"]);null!=r&&Ke(n,["_url","model"],en(e,r));const o=Ye(t,["prompt"]);null!=o&&Ke(n,["instances[0]","prompt"],o);const i=Ye(t,["image"]);null!=i&&Ke(n,["instances[0]","image"],No(0,i));const s=Ye(t,["config"]);return null!=s&&Ke(n,["config"],function(e,t,n){const r=Ye(t,["numberOfVideos"]);void 0!==n&&null!=r&&Ke(n,["parameters","sampleCount"],r);const o=Ye(t,["outputGcsUri"]);void 0!==n&&null!=o&&Ke(n,["parameters","storageUri"],o);const i=Ye(t,["fps"]);void 0!==n&&null!=i&&Ke(n,["parameters","fps"],i);const s=Ye(t,["durationSeconds"]);void 0!==n&&null!=s&&Ke(n,["parameters","durationSeconds"],s);const a=Ye(t,["seed"]);void 0!==n&&null!=a&&Ke(n,["parameters","seed"],a);const l=Ye(t,["aspectRatio"]);void 0!==n&&null!=l&&Ke(n,["parameters","aspectRatio"],l);const u=Ye(t,["resolution"]);void 0!==n&&null!=u&&Ke(n,["parameters","resolution"],u);const c=Ye(t,["personGeneration"]);void 0!==n&&null!=c&&Ke(n,["parameters","personGeneration"],c);const d=Ye(t,["pubsubTopic"]);void 0!==n&&null!=d&&Ke(n,["parameters","pubsubTopic"],d);const f=Ye(t,["negativePrompt"]);void 0!==n&&null!=f&&Ke(n,["parameters","negativePrompt"],f);const h=Ye(t,["enhancePrompt"]);void 0!==n&&null!=h&&Ke(n,["parameters","enhancePrompt"],h);const p=Ye(t,["generateAudio"]);return void 0!==n&&null!=p&&Ke(n,["parameters","generateAudio"],p),{}}(0,s,n)),n}function Fo(e,t){const n={},r=Ye(t,["videoMetadata"]);null!=r&&Ke(n,["videoMetadata"],function(e,t){const n={},r=Ye(t,["fps"]);null!=r&&Ke(n,["fps"],r);const o=Ye(t,["endOffset"]);null!=o&&Ke(n,["endOffset"],o);const i=Ye(t,["startOffset"]);return null!=i&&Ke(n,["startOffset"],i),n}(0,r));const o=Ye(t,["thought"]);null!=o&&Ke(n,["thought"],o);const i=Ye(t,["inlineData"]);null!=i&&Ke(n,["inlineData"],function(e,t){const n={},r=Ye(t,["data"]);null!=r&&Ke(n,["data"],r);const o=Ye(t,["mimeType"]);return null!=o&&Ke(n,["mimeType"],o),n}(0,i));const s=Ye(t,["fileData"]);null!=s&&Ke(n,["fileData"],function(e,t){const n={},r=Ye(t,["fileUri"]);null!=r&&Ke(n,["fileUri"],r);const o=Ye(t,["mimeType"]);return null!=o&&Ke(n,["mimeType"],o),n}(0,s));const a=Ye(t,["codeExecutionResult"]);null!=a&&Ke(n,["codeExecutionResult"],a);const l=Ye(t,["executableCode"]);null!=l&&Ke(n,["executableCode"],l);const u=Ye(t,["functionCall"]);null!=u&&Ke(n,["functionCall"],u);const c=Ye(t,["functionResponse"]);null!=c&&Ke(n,["functionResponse"],c);const d=Ye(t,["text"]);return null!=d&&Ke(n,["text"],d),n}function $o(e,t){const n={},r=Ye(t,["urlMetadata"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map((e=>function(e,t){const n={},r=Ye(t,["retrievedUrl"]);null!=r&&Ke(n,["retrievedUrl"],r);const o=Ye(t,["urlRetrievalStatus"]);return null!=o&&Ke(n,["urlRetrievalStatus"],o),n}(0,e)))),Ke(n,["urlMetadata"],e)}return n}function zo(e,t){const n={},r=Ye(t,["content"]);null!=r&&Ke(n,["content"],function(e,t){const n={},r=Ye(t,["parts"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map((e=>Fo(0,e)))),Ke(n,["parts"],e)}const o=Ye(t,["role"]);return null!=o&&Ke(n,["role"],o),n}(0,r));const o=Ye(t,["citationMetadata"]);null!=o&&Ke(n,["citationMetadata"],function(e,t){const n={},r=Ye(t,["citationSources"]);return null!=r&&Ke(n,["citations"],r),n}(0,o));const i=Ye(t,["tokenCount"]);null!=i&&Ke(n,["tokenCount"],i);const s=Ye(t,["finishReason"]);null!=s&&Ke(n,["finishReason"],s);const a=Ye(t,["urlContextMetadata"]);null!=a&&Ke(n,["urlContextMetadata"],$o(0,a));const l=Ye(t,["avgLogprobs"]);null!=l&&Ke(n,["avgLogprobs"],l);const u=Ye(t,["groundingMetadata"]);null!=u&&Ke(n,["groundingMetadata"],u);const c=Ye(t,["index"]);null!=c&&Ke(n,["index"],c);const d=Ye(t,["logprobsResult"]);null!=d&&Ke(n,["logprobsResult"],d);const f=Ye(t,["safetyRatings"]);return null!=f&&Ke(n,["safetyRatings"],f),n}function Bo(e,t){const n={},r=Ye(t,["candidates"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map((e=>zo(0,e)))),Ke(n,["candidates"],e)}const o=Ye(t,["modelVersion"]);null!=o&&Ke(n,["modelVersion"],o);const i=Ye(t,["promptFeedback"]);null!=i&&Ke(n,["promptFeedback"],i);const s=Ye(t,["usageMetadata"]);return null!=s&&Ke(n,["usageMetadata"],s),n}function qo(e,t){const n={},r=Ye(t,["embeddings"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map((e=>function(e,t){const n={},r=Ye(t,["values"]);return null!=r&&Ke(n,["values"],r),n}(0,e)))),Ke(n,["embeddings"],e)}return null!=Ye(t,["metadata"])&&Ke(n,["metadata"],{}),n}function Vo(e,t){const n={},r=Ye(t,["safetyAttributes","categories"]);null!=r&&Ke(n,["categories"],r);const o=Ye(t,["safetyAttributes","scores"]);null!=o&&Ke(n,["scores"],o);const i=Ye(t,["contentType"]);return null!=i&&Ke(n,["contentType"],i),n}function Ho(e,t){const n={},r=Ye(t,["_self"]);null!=r&&Ke(n,["image"],function(e,t){const n={},r=Ye(t,["bytesBase64Encoded"]);null!=r&&Ke(n,["imageBytes"],kn(0,r));const o=Ye(t,["mimeType"]);return null!=o&&Ke(n,["mimeType"],o),n}(0,r));const o=Ye(t,["raiFilteredReason"]);null!=o&&Ke(n,["raiFilteredReason"],o);const i=Ye(t,["_self"]);return null!=i&&Ke(n,["safetyAttributes"],Vo(0,i)),n}function Wo(e,t){const n={},r=Ye(t,["name"]);null!=r&&Ke(n,["name"],r);const o=Ye(t,["displayName"]);null!=o&&Ke(n,["displayName"],o);const i=Ye(t,["description"]);null!=i&&Ke(n,["description"],i);const s=Ye(t,["version"]);null!=s&&Ke(n,["version"],s);const a=Ye(t,["_self"]);null!=a&&Ke(n,["tunedModelInfo"],function(e,t){const n={},r=Ye(t,["baseModel"]);null!=r&&Ke(n,["baseModel"],r);const o=Ye(t,["createTime"]);null!=o&&Ke(n,["createTime"],o);const i=Ye(t,["updateTime"]);return null!=i&&Ke(n,["updateTime"],i),n}(0,a));const l=Ye(t,["inputTokenLimit"]);null!=l&&Ke(n,["inputTokenLimit"],l);const u=Ye(t,["outputTokenLimit"]);null!=u&&Ke(n,["outputTokenLimit"],u);const c=Ye(t,["supportedGenerationMethods"]);return null!=c&&Ke(n,["supportedActions"],c),n}function Go(e,t){const n={},r=Ye(t,["_self"]);return null!=r&&Ke(n,["video"],function(e,t){const n={},r=Ye(t,["video","uri"]);null!=r&&Ke(n,["uri"],r);const o=Ye(t,["video","encodedVideo"]);null!=o&&Ke(n,["videoBytes"],kn(0,o));const i=Ye(t,["encoding"]);return null!=i&&Ke(n,["mimeType"],i),n}(0,r)),n}function Jo(e,t){const n={},r=Ye(t,["name"]);null!=r&&Ke(n,["name"],r);const o=Ye(t,["metadata"]);null!=o&&Ke(n,["metadata"],o);const i=Ye(t,["done"]);null!=i&&Ke(n,["done"],i);const s=Ye(t,["error"]);null!=s&&Ke(n,["error"],s);const a=Ye(t,["response","generateVideoResponse"]);return null!=a&&Ke(n,["response"],function(e,t){const n={},r=Ye(t,["generatedSamples"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map((e=>Go(0,e)))),Ke(n,["generatedVideos"],e)}const o=Ye(t,["raiMediaFilteredCount"]);null!=o&&Ke(n,["raiMediaFilteredCount"],o);const i=Ye(t,["raiMediaFilteredReasons"]);return null!=i&&Ke(n,["raiMediaFilteredReasons"],i),n}(0,a)),n}function Ko(e,t){const n={},r=Ye(t,["videoMetadata"]);null!=r&&Ke(n,["videoMetadata"],function(e,t){const n={},r=Ye(t,["fps"]);null!=r&&Ke(n,["fps"],r);const o=Ye(t,["endOffset"]);null!=o&&Ke(n,["endOffset"],o);const i=Ye(t,["startOffset"]);return null!=i&&Ke(n,["startOffset"],i),n}(0,r));const o=Ye(t,["thought"]);null!=o&&Ke(n,["thought"],o);const i=Ye(t,["inlineData"]);null!=i&&Ke(n,["inlineData"],function(e,t){const n={},r=Ye(t,["displayName"]);null!=r&&Ke(n,["displayName"],r);const o=Ye(t,["data"]);null!=o&&Ke(n,["data"],o);const i=Ye(t,["mimeType"]);return null!=i&&Ke(n,["mimeType"],i),n}(0,i));const s=Ye(t,["fileData"]);null!=s&&Ke(n,["fileData"],function(e,t){const n={},r=Ye(t,["displayName"]);null!=r&&Ke(n,["displayName"],r);const o=Ye(t,["fileUri"]);null!=o&&Ke(n,["fileUri"],o);const i=Ye(t,["mimeType"]);return null!=i&&Ke(n,["mimeType"],i),n}(0,s));const a=Ye(t,["codeExecutionResult"]);null!=a&&Ke(n,["codeExecutionResult"],a);const l=Ye(t,["executableCode"]);null!=l&&Ke(n,["executableCode"],l);const u=Ye(t,["functionCall"]);null!=u&&Ke(n,["functionCall"],u);const c=Ye(t,["functionResponse"]);null!=c&&Ke(n,["functionResponse"],c);const d=Ye(t,["text"]);return null!=d&&Ke(n,["text"],d),n}function Yo(e,t){const n={},r=Ye(t,["content"]);null!=r&&Ke(n,["content"],function(e,t){const n={},r=Ye(t,["parts"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map((e=>Ko(0,e)))),Ke(n,["parts"],e)}const o=Ye(t,["role"]);return null!=o&&Ke(n,["role"],o),n}(0,r));const o=Ye(t,["citationMetadata"]);null!=o&&Ke(n,["citationMetadata"],function(e,t){const n={},r=Ye(t,["citations"]);return null!=r&&Ke(n,["citations"],r),n}(0,o));const i=Ye(t,["finishMessage"]);null!=i&&Ke(n,["finishMessage"],i);const s=Ye(t,["finishReason"]);null!=s&&Ke(n,["finishReason"],s);const a=Ye(t,["avgLogprobs"]);null!=a&&Ke(n,["avgLogprobs"],a);const l=Ye(t,["groundingMetadata"]);null!=l&&Ke(n,["groundingMetadata"],l);const u=Ye(t,["index"]);null!=u&&Ke(n,["index"],u);const c=Ye(t,["logprobsResult"]);null!=c&&Ke(n,["logprobsResult"],c);const d=Ye(t,["safetyRatings"]);return null!=d&&Ke(n,["safetyRatings"],d),n}function Zo(e,t){const n={},r=Ye(t,["candidates"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map((e=>Yo(0,e)))),Ke(n,["candidates"],e)}const o=Ye(t,["createTime"]);null!=o&&Ke(n,["createTime"],o);const i=Ye(t,["responseId"]);null!=i&&Ke(n,["responseId"],i);const s=Ye(t,["modelVersion"]);null!=s&&Ke(n,["modelVersion"],s);const a=Ye(t,["promptFeedback"]);null!=a&&Ke(n,["promptFeedback"],a);const l=Ye(t,["usageMetadata"]);return null!=l&&Ke(n,["usageMetadata"],l),n}function Qo(e,t){const n={},r=Ye(t,["values"]);null!=r&&Ke(n,["values"],r);const o=Ye(t,["statistics"]);return null!=o&&Ke(n,["statistics"],function(e,t){const n={},r=Ye(t,["truncated"]);null!=r&&Ke(n,["truncated"],r);const o=Ye(t,["token_count"]);return null!=o&&Ke(n,["tokenCount"],o),n}(0,o)),n}function Xo(e,t){const n={},r=Ye(t,["predictions[]","embeddings"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map((e=>Qo(0,e)))),Ke(n,["embeddings"],e)}const o=Ye(t,["metadata"]);return null!=o&&Ke(n,["metadata"],function(e,t){const n={},r=Ye(t,["billableCharacterCount"]);return null!=r&&Ke(n,["billableCharacterCount"],r),n}(0,o)),n}function ei(e,t){const n={},r=Ye(t,["safetyAttributes","categories"]);null!=r&&Ke(n,["categories"],r);const o=Ye(t,["safetyAttributes","scores"]);null!=o&&Ke(n,["scores"],o);const i=Ye(t,["contentType"]);return null!=i&&Ke(n,["contentType"],i),n}function ti(e,t){const n={},r=Ye(t,["_self"]);null!=r&&Ke(n,["image"],function(e,t){const n={},r=Ye(t,["gcsUri"]);null!=r&&Ke(n,["gcsUri"],r);const o=Ye(t,["bytesBase64Encoded"]);null!=o&&Ke(n,["imageBytes"],kn(0,o));const i=Ye(t,["mimeType"]);return null!=i&&Ke(n,["mimeType"],i),n}(0,r));const o=Ye(t,["raiFilteredReason"]);null!=o&&Ke(n,["raiFilteredReason"],o);const i=Ye(t,["_self"]);null!=i&&Ke(n,["safetyAttributes"],ei(0,i));const s=Ye(t,["prompt"]);return null!=s&&Ke(n,["enhancedPrompt"],s),n}function ni(e,t){const n={},r=Ye(t,["name"]);null!=r&&Ke(n,["name"],r);const o=Ye(t,["displayName"]);null!=o&&Ke(n,["displayName"],o);const i=Ye(t,["description"]);null!=i&&Ke(n,["description"],i);const s=Ye(t,["versionId"]);null!=s&&Ke(n,["version"],s);const a=Ye(t,["deployedModels"]);if(null!=a){let e=a;Array.isArray(e)&&(e=e.map((e=>function(e,t){const n={},r=Ye(t,["endpoint"]);null!=r&&Ke(n,["name"],r);const o=Ye(t,["deployedModelId"]);return null!=o&&Ke(n,["deployedModelId"],o),n}(0,e)))),Ke(n,["endpoints"],e)}const l=Ye(t,["labels"]);null!=l&&Ke(n,["labels"],l);const u=Ye(t,["_self"]);null!=u&&Ke(n,["tunedModelInfo"],function(e,t){const n={},r=Ye(t,["labels","google-vertex-llm-tuning-base-model-id"]);null!=r&&Ke(n,["baseModel"],r);const o=Ye(t,["createTime"]);null!=o&&Ke(n,["createTime"],o);const i=Ye(t,["updateTime"]);return null!=i&&Ke(n,["updateTime"],i),n}(0,u));const c=Ye(t,["defaultCheckpointId"]);null!=c&&Ke(n,["defaultCheckpointId"],c);const d=Ye(t,["checkpoints"]);if(null!=d){let e=d;Array.isArray(e)&&(e=e.map((e=>function(e,t){const n={},r=Ye(t,["checkpointId"]);null!=r&&Ke(n,["checkpointId"],r);const o=Ye(t,["epoch"]);null!=o&&Ke(n,["epoch"],o);const i=Ye(t,["step"]);return null!=i&&Ke(n,["step"],i),n}(0,e)))),Ke(n,["checkpoints"],e)}return n}function ri(e,t){const n={},r=Ye(t,["_self"]);return null!=r&&Ke(n,["video"],function(e,t){const n={},r=Ye(t,["gcsUri"]);null!=r&&Ke(n,["uri"],r);const o=Ye(t,["bytesBase64Encoded"]);null!=o&&Ke(n,["videoBytes"],kn(0,o));const i=Ye(t,["mimeType"]);return null!=i&&Ke(n,["mimeType"],i),n}(0,r)),n}function oi(e,t){const n={},r=Ye(t,["name"]);null!=r&&Ke(n,["name"],r);const o=Ye(t,["metadata"]);null!=o&&Ke(n,["metadata"],o);const i=Ye(t,["done"]);null!=i&&Ke(n,["done"],i);const s=Ye(t,["error"]);null!=s&&Ke(n,["error"],s);const a=Ye(t,["response"]);return null!=a&&Ke(n,["response"],function(e,t){const n={},r=Ye(t,["videos"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map((e=>ri(0,e)))),Ke(n,["generatedVideos"],e)}const o=Ye(t,["raiMediaFilteredCount"]);null!=o&&Ke(n,["raiMediaFilteredCount"],o);const i=Ye(t,["raiMediaFilteredReasons"]);return null!=i&&Ke(n,["raiMediaFilteredReasons"],i),n}(0,a)),n}const ii="x-goog-api-client",si=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class ai extends Error{constructor(e,t){super(e,t?{cause:t}:{cause:(new Error).stack}),this.message=e,this.name="ClientError"}}class li extends Error{constructor(e,t){super(e,t?{cause:t}:{cause:(new Error).stack}),this.message=e,this.name="ServerError"}}class ui{constructor(e){var t,n;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const r={};this.clientOptions.vertexai?(r.apiVersion=null!==(t=this.clientOptions.apiVersion)&&void 0!==t?t:"v1beta1",r.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(r.apiVersion=null!==(n=this.clientOptions.apiVersion)&&void 0!==n?n:"v1beta",r.baseUrl="https://generativelanguage.googleapis.com/"),r.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=r,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(r,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&"global"!==this.clientOptions.location?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:(this.clientOptions.project=void 0,this.clientOptions.location=void 0)}isVertexAI(){var e;return null!==(e=this.clientOptions.vertexai)&&void 0!==e&&e}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&void 0!==this.clientOptions.httpOptions.apiVersion)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&void 0!==this.clientOptions.httpOptions.baseUrl)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&void 0!==this.clientOptions.httpOptions.headers)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||void 0===e.baseUrl||void 0===e.apiVersion)throw new Error("HTTP options are not correctly set.");const t=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&""!==e.apiVersion&&t.push(e.apiVersion),t.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),t=new URL(e);return t.protocol="http:"==t.protocol?"ws":"wss",t.toString()}setBaseUrl(e){if(!this.clientOptions.httpOptions)throw new Error("HTTP options are not correctly set.");this.clientOptions.httpOptions.baseUrl=e}constructUrl(e,t,n){const r=[this.getRequestUrlInternal(t)];n&&r.push(this.getBaseResourcePath()),""!==e&&r.push(e);return new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(e){return!this.clientOptions.apiKey&&(!!this.clientOptions.vertexai&&(!e.path.startsWith("projects/")&&("GET"!==e.httpMethod||!e.path.startsWith("publishers/google/models"))))}async request(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const n=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,t,n);if(e.queryParams)for(const[i,s]of Object.entries(e.queryParams))r.searchParams.append(i,String(s));let o={};if("GET"===e.httpMethod){if(e.body&&"{}"!==e.body)throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=e.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,t,e.abortSignal),this.unaryApiCall(r,o,e.httpMethod)}patchHttpOptions(e,t){const n=JSON.parse(JSON.stringify(e));for(const[r,o]of Object.entries(t))"object"===typeof o?n[r]=Object.assign(Object.assign({},n[r]),o):void 0!==o&&(n[r]=o);return n}async requestStream(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const n=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,t,n);r.searchParams.has("alt")&&"sse"===r.searchParams.get("alt")||r.searchParams.set("alt","sse");let o={};return o.body=e.body,o=await this.includeExtraHttpOptionsToRequestInit(o,t,e.abortSignal),this.streamApiCall(r,o,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,t,n){if(t&&t.timeout||n){const r=new AbortController,o=r.signal;t.timeout&&(null===t||void 0===t?void 0:t.timeout)>0&&setTimeout((()=>r.abort()),t.timeout),n&&n.addEventListener("abort",(()=>{r.abort()})),e.signal=o}return e.headers=await this.getHeadersInternal(t),e}async unaryApiCall(e,t,n){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:n})).then((async e=>(await ci(e),new Kt(e)))).catch((e=>{throw e instanceof Error?e:new Error(JSON.stringify(e))}))}async streamApiCall(e,t,n){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:n})).then((async e=>(await ci(e),this.processStreamResponse(e)))).catch((e=>{throw e instanceof Error?e:new Error(JSON.stringify(e))}))}processStreamResponse(e){var t;return tr(this,arguments,(function*(){const n=null===(t=null===e||void 0===e?void 0:e.body)||void 0===t?void 0:t.getReader(),r=new TextDecoder("utf-8");if(!n)throw new Error("Response body is empty");try{let t="";for(;;){const{done:i,value:s}=yield er(n.read());if(i){if(t.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const a=r.decode(s);try{const e=JSON.parse(a);if("error"in e){const t=JSON.parse(JSON.stringify(e.error)),n=t.status,r=t.code,o=`got status: ${n}. ${JSON.stringify(e)}`;if(r>=400&&r<500){throw new ai(o)}if(r>=500&&r<600){throw new li(o)}}}catch(o){const e=o;if("ClientError"===e.name||"ServerError"===e.name)throw o}t+=a;let l=t.match(si);for(;l;){const n=l[1];try{const r=new Response(n,{headers:null===e||void 0===e?void 0:e.headers,status:null===e||void 0===e?void 0:e.status,statusText:null===e||void 0===e?void 0:e.statusText});yield yield er(new Kt(r)),t=t.slice(l[0].length),l=t.match(si)}catch(o){throw new Error(`exception parsing stream chunk ${n}. ${o}`)}}}}finally{n.releaseLock()}}))}async apiCall(e,t){return fetch(e,t).catch((e=>{throw new Error(`exception ${e} sending request`)}))}getDefaultHeaders(){const e={},t="google-genai-sdk/1.2.0 "+this.clientOptions.userAgentExtra;return e["User-Agent"]=t,e[ii]=t,e["Content-Type"]="application/json",e}async getHeadersInternal(e){const t=new Headers;if(e&&e.headers){for(const[n,r]of Object.entries(e.headers))t.append(n,r);e.timeout&&e.timeout>0&&t.append("X-Server-Timeout",String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(t),t}async uploadFile(e,t){var n;const r={};null!=t&&(r.mimeType=t.mimeType,r.name=t.name,r.displayName=t.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const o=this.clientOptions.uploader,i=await o.stat(e);r.sizeBytes=String(i.size);const s=null!==(n=null===t||void 0===t?void 0:t.mimeType)&&void 0!==n?n:i.type;if(void 0===s||""===s)throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=s;const a=await this.fetchUploadUrl(r,t);return o.upload(e,a,this)}async downloadFile(e){const t=this.clientOptions.downloader;await t.download(e,this)}async fetchUploadUrl(e,t){var n;let r={};r=(null===t||void 0===t?void 0:t.httpOptions)?t.httpOptions:{apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const o={file:e},i=await this.request({path:Je("upload/v1beta/files",o._url),body:JSON.stringify(o),httpMethod:"POST",httpOptions:r});if(!i||!(null===i||void 0===i?void 0:i.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const s=null===(n=null===i||void 0===i?void 0:i.headers)||void 0===n?void 0:n["x-goog-upload-url"];if(void 0===s)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return s}}async function ci(e){var t;if(void 0===e)throw new li("response is undefined");if(!e.ok){const n=e.status,r=e.statusText;let o;o=(null===(t=e.headers.get("content-type"))||void 0===t?void 0:t.includes("application/json"))?await e.json():{error:{message:await e.text(),code:e.status,status:e.statusText}};const i=`got status: ${n} ${r}. ${JSON.stringify(o)}`;if(n>=400&&n<500){throw new ai(i)}if(n>=500&&n<600){throw new li(i)}throw new Error(i)}}function di(e){for(const t of e){if(hi(t))return!0;if("object"===typeof t&&"inputSchema"in t)return!0}return!1}function fi(e){var t;const n=null!==(t=e[ii])&&void 0!==t?t:"";e[ii]=(n+" mcp_used/unknown").trimStart()}function hi(e){return null!==e&&"object"===typeof e&&"tool"in e&&"callTool"in e}class pi{constructor(e,t,n){this.apiClient=e,this.auth=t,this.webSocketFactory=n}async connect(e){var t,n;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),i=function(e){const t=new Headers;for(const[n,r]of Object.entries(e))t.append(n,r);return t}(this.apiClient.getDefaultHeaders()),s=`${r}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateMusic?key=${this.apiClient.getApiKey()}`;let a=()=>{};const l=new Promise((e=>{a=e})),u=e.callbacks,c=(this.apiClient,{onopen:function(){a({})},onmessage:e=>{!async function(e,t,n){const r=new Xt;let o;o=n.data instanceof Blob?JSON.parse(await n.data.text()):JSON.parse(n.data);const i=Xr(0,o);Object.assign(r,i),t(r)}(0,u.onmessage,e)},onerror:null!==(t=null===u||void 0===u?void 0:u.onerror)&&void 0!==t?t:function(e){},onclose:null!==(n=null===u||void 0===u?void 0:u.onclose)&&void 0!==n?n:function(e){}}),d=this.webSocketFactory.create(s,function(e){const t={};return e.forEach(((e,n)=>{t[n]=e})),t}(i),c);d.connect(),await l;const f=en(this.apiClient,e.model),h=jr(this.apiClient,{model:f}),p=Dr(this.apiClient,{setup:h});return d.send(JSON.stringify(p)),new mi(d,this.apiClient)}}class mi{constructor(e,t){this.conn=e,this.apiClient=t}async setWeightedPrompts(e){if(!e.weightedPrompts||0===Object.keys(e.weightedPrompts).length)throw new Error("Weighted prompts must be set and contain at least one entry.");const t=function(e,t){const n={},r=Ye(t,["weightedPrompts"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map((e=>Rr(0,e)))),Ke(n,["weightedPrompts"],e)}return n}(this.apiClient,e),n=Lr(this.apiClient,t);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const t=function(e,t){const n={},r=Ye(t,["musicGenerationConfig"]);return null!=r&&Ke(n,["musicGenerationConfig"],Pr(0,r)),n}(this.apiClient,e),n=Dr(this.apiClient,t);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const t=Dr(this.apiClient,{playbackControl:e});this.conn.send(JSON.stringify(t))}play(){this.sendPlaybackControl(Lt.PLAY)}pause(){this.sendPlaybackControl(Lt.PAUSE)}stop(){this.sendPlaybackControl(Lt.STOP)}resetContext(){this.sendPlaybackControl(Lt.RESET_CONTEXT)}close(){this.conn.close()}}class gi{constructor(e,t,n){this.apiClient=e,this.auth=t,this.webSocketFactory=n,this.music=new pi(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var t,n,r,o,i,s;const a=this.apiClient.getWebsocketBaseUrl(),l=this.apiClient.getApiVersion();let u;const c=this.apiClient.getDefaultHeaders();e.config&&e.config.tools&&di(e.config.tools)&&fi(c);const d=function(e){const t=new Headers;for(const[n,r]of Object.entries(e))t.append(n,r);return t}(c);if(this.apiClient.isVertexAI())u=`${a}/ws/google.cloud.aiplatform.${l}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(d);else{u=`${a}/ws/google.ai.generativelanguage.${l}.GenerativeService.BidiGenerateContent?key=${this.apiClient.getApiKey()}`}let f=()=>{};const h=new Promise((e=>{f=e})),p=e.callbacks,m=this.apiClient,g={onopen:function(){var e;null===(e=null===p||void 0===p?void 0:p.onopen)||void 0===e||e.call(p),f({})},onmessage:e=>{!async function(e,t,n){const r=new Qt;let o;if(o=n.data instanceof Blob?JSON.parse(await n.data.text()):JSON.parse(n.data),e.isVertexAI()){const e=Kr(0,o);Object.assign(r,e)}else{const e=Jr(0,o);Object.assign(r,e)}t(r)}(m,p.onmessage,e)},onerror:null!==(t=null===p||void 0===p?void 0:p.onerror)&&void 0!==t?t:function(e){},onclose:null!==(n=null===p||void 0===p?void 0:p.onclose)&&void 0!==n?n:function(e){}},v=this.webSocketFactory.create(u,function(e){const t={};return e.forEach(((e,n)=>{t[n]=e})),t}(d),g);v.connect(),await h;let y=en(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&y.startsWith("publishers/")){y=`projects/${this.apiClient.getProject()}/locations/${this.apiClient.getLocation()}/`+y}let b={};this.apiClient.isVertexAI()&&void 0===(null===(r=e.config)||void 0===r?void 0:r.responseModalities)&&(void 0===e.config?e.config={responseModalities:[ct.AUDIO]}:e.config.responseModalities=[ct.AUDIO]),(null===(o=e.config)||void 0===o?void 0:o.generationConfig)&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const w=null!==(s=null===(i=e.config)||void 0===i?void 0:i.tools)&&void 0!==s?s:[],x=[];for(const k of w)if(this.isCallableTool(k)){const e=k;x.push(await e.tool())}else x.push(k);x.length>0&&(e.config.tools=x);const _={model:y,config:e.config,callbacks:e.callbacks};return b=this.apiClient.isVertexAI()?function(e,t){const n={},r=Ye(t,["model"]);null!=r&&Ke(n,["setup","model"],en(e,r));const o=Ye(t,["config"]);return null!=o&&Ke(n,["config"],Or(0,o,n)),n}(this.apiClient,_):function(e,t){const n={},r=Ye(t,["model"]);null!=r&&Ke(n,["setup","model"],en(e,r));const o=Ye(t,["config"]);return null!=o&&Ke(n,["config"],Ar(0,o,n)),n}(this.apiClient,_),delete b.config,v.send(JSON.stringify(b)),new yi(v,this.apiClient)}isCallableTool(e){return"callTool"in e&&"function"===typeof e.callTool}}const vi={turnComplete:!0};class yi{constructor(e,t){this.conn=e,this.apiClient=t}tLiveClientContent(e,t){if(null!==t.turns&&void 0!==t.turns){let r=[];try{r=fn(0,t.turns),r=e.isVertexAI()?r.map((e=>bo(0,e))):r.map((e=>to(0,e)))}catch(n){throw new Error(`Failed to parse client content "turns", type: '${typeof t.turns}'`)}return{clientContent:{turns:r,turnComplete:t.turnComplete}}}return{clientContent:{turnComplete:t.turnComplete}}}tLiveClienttToolResponse(e,t){let n=[];if(null==t.functionResponses)throw new Error("functionResponses is required.");if(n=Array.isArray(t.functionResponses)?t.functionResponses:[t.functionResponses],0===n.length)throw new Error("functionResponses is required.");for(const r of n){if("object"!==typeof r||null===r||!("name"in r)||!("response"in r))throw new Error(`Could not parse function response, type '${typeof r}'.`);if(!e.isVertexAI()&&!("id"in r))throw new Error("FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.")}return{toolResponse:{functionResponses:n}}}sendClientContent(e){e=Object.assign(Object.assign({},vi),e);const t=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(t))}sendRealtimeInput(e){let t={};t=this.apiClient.isVertexAI()?{realtimeInput:Nr(this.apiClient,e)}:{realtimeInput:Ir(this.apiClient,e)},this.conn.send(JSON.stringify(t))}sendToolResponse(e){if(null==e.functionResponses)throw new Error("Tool response parameters are required.");const t=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(t))}close(){this.conn.close()}}function bi(e){var t,n,r;if(null===(t=null===e||void 0===e?void 0:e.automaticFunctionCalling)||void 0===t?void 0:t.disable)return!0;let o=!1;for(const s of null!==(n=null===e||void 0===e?void 0:e.tools)&&void 0!==n?n:[])if(wi(s)){o=!0;break}if(!o)return!0;const i=null===(r=null===e||void 0===e?void 0:e.automaticFunctionCalling)||void 0===r?void 0:r.maximumRemoteCalls;return!!(i&&(i<0||!Number.isInteger(i))||0==i)&&(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",i),!0)}function wi(e){return"callTool"in e&&"function"===typeof e.callTool}function xi(e){var t;return!(null===(t=null===e||void 0===e?void 0:e.automaticFunctionCalling)||void 0===t?void 0:t.ignoreCallHistory)}class _i extends Ge{constructor(e){super(),this.apiClient=e,this.generateContent=async e=>{var t,n,r,o,i;const s=await this.processParamsForMcpUsage(e);if(!function(e){var t,n,r;return null!==(r=null===(n=null===(t=e.config)||void 0===t?void 0:t.tools)||void 0===n?void 0:n.some((e=>hi(e))))&&void 0!==r&&r}(e)||bi(e.config))return await this.generateContentInternal(s);if(function(e){var t,n,r;return null!==(r=null===(n=null===(t=e.config)||void 0===t?void 0:t.tools)||void 0===n?void 0:n.some((e=>!hi(e))))&&void 0!==r&&r}(e))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let a,l;const u=fn(this.apiClient,s.contents),c=null!==(r=null===(n=null===(t=s.config)||void 0===t?void 0:t.automaticFunctionCalling)||void 0===n?void 0:n.maximumRemoteCalls)&&void 0!==r?r:10;let d=0;for(;d<c&&(a=await this.generateContentInternal(s),a.functionCalls&&0!==a.functionCalls.length);){const t=a.candidates[0].content,n=[];for(const r of null!==(i=null===(o=e.config)||void 0===o?void 0:o.tools)&&void 0!==i?i:[])if(wi(r)){const e=r,t=await e.callTool(a.functionCalls);n.push(...t)}d++,l={role:"user",parts:n},s.contents=fn(this.apiClient,s.contents),s.contents.push(t),s.contents.push(l),xi(s.config)&&(u.push(t),u.push(l))}return xi(s.config)&&(a.automaticFunctionCallingHistory=u),a},this.generateContentStream=async e=>{if(bi(e.config)){const t=await this.processParamsForMcpUsage(e);return await this.generateContentStreamInternal(t)}return await this.processAfcStream(e)},this.generateImages=async e=>await this.generateImagesInternal(e).then((e=>{var t;let n;const r=[];if(null===e||void 0===e?void 0:e.generatedImages)for(const i of e.generatedImages)i&&(null===i||void 0===i?void 0:i.safetyAttributes)&&"Positive Prompt"===(null===(t=null===i||void 0===i?void 0:i.safetyAttributes)||void 0===t?void 0:t.contentType)?n=null===i||void 0===i?void 0:i.safetyAttributes:r.push(i);let o;return o=n?{generatedImages:r,positivePromptSafetyAttributes:n}:{generatedImages:r},o})),this.list=async e=>{var t;const n={config:Object.assign(Object.assign({},{queryBase:!0}),null===e||void 0===e?void 0:e.config)};if(this.apiClient.isVertexAI()&&!n.config.queryBase){if(null===(t=n.config)||void 0===t?void 0:t.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");n.config.filter="labels.tune-type:*"}return new Zn(Yn.PAGED_ITEM_MODELS,(e=>this.listInternal(e)),await this.listInternal(n),n)},this.editImage=async e=>{const t={model:e.model,prompt:e.prompt,referenceImages:[],config:e.config};return e.referenceImages&&e.referenceImages&&(t.referenceImages=e.referenceImages.map((e=>e.toReferenceImageAPI()))),await this.editImageInternal(t)},this.upscaleImage=async e=>{let t={numberOfImages:1,mode:"upscale"};e.config&&(t=Object.assign(Object.assign({},t),e.config));const n={model:e.model,image:e.image,upscaleFactor:e.upscaleFactor,config:t};return await this.upscaleImageInternal(n)}}async processParamsForMcpUsage(e){var t,n,r;const o=null===(t=e.config)||void 0===t?void 0:t.tools;if(!o)return e;const i=await Promise.all(o.map((async e=>{if(wi(e)){const t=e;return await t.tool()}return e}))),s={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:i})};if(s.config.tools=i,e.config&&e.config.tools&&di(e.config.tools)){const t=null!==(r=null===(n=e.config.httpOptions)||void 0===n?void 0:n.headers)&&void 0!==r?r:{};let o=Object.assign({},t);0===Object.keys(o).length&&(o=this.apiClient.getDefaultHeaders()),fi(o),s.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:o})}return s}async initAfcToolsMap(e){var t,n,r;const o=new Map;for(const i of null!==(n=null===(t=e.config)||void 0===t?void 0:t.tools)&&void 0!==n?n:[])if(wi(i)){const e=i,t=await e.tool();for(const n of null!==(r=t.functionDeclarations)&&void 0!==r?r:[]){if(!n.name)throw new Error("Function declaration name is required.");if(o.has(n.name))throw new Error(`Duplicate tool declaration name: ${n.name}`);o.set(n.name,e)}}return o}async processAfcStream(e){var t,n,r;const o=null!==(r=null===(n=null===(t=e.config)||void 0===t?void 0:t.automaticFunctionCalling)||void 0===n?void 0:n.maximumRemoteCalls)&&void 0!==r?r:10;let i=!1,s=0;return function(e,t,n){var r,a;return tr(this,arguments,(function*(){for(var l,u,c,d;s<o;){i&&(s++,i=!1);const g=yield er(e.processParamsForMcpUsage(n)),v=yield er(e.generateContentStreamInternal(g)),y=[],b=[];try{for(var f,h=!0,p=(u=void 0,nr(v));!(l=(f=yield er(p.next())).done);h=!0){d=f.value,h=!1;const e=d;if(yield yield er(e),e.candidates&&(null===(r=e.candidates[0])||void 0===r?void 0:r.content)){b.push(e.candidates[0].content);for(const n of null!==(a=e.candidates[0].content.parts)&&void 0!==a?a:[])if(s<o&&n.functionCall){if(!n.functionCall.name)throw new Error("Function call name was not returned by the model.");if(!t.has(n.functionCall.name))throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${t.keys()}, mising tool: ${n.functionCall.name}`);{const e=yield er(t.get(n.functionCall.name).callTool([n.functionCall]));y.push(...e)}}}}}catch(m){u={error:m}}finally{try{h||l||!(c=p.return)||(yield er(c.call(p)))}finally{if(u)throw u.error}}if(!(y.length>0))break;{i=!0;const t=new Dt;t.candidates=[{content:{role:"user",parts:y}}],yield yield er(t);const r=[];r.push(...b),r.push({role:"user",parts:y});const o=fn(e.apiClient,n.contents).concat(r);n.contents=o}}}))}(this,await this.initAfcToolsMap(e),e)}async generateContentInternal(e){var t,n,r,o;let i,s="",a={};if(this.apiClient.isVertexAI()){const r=Ao(this.apiClient,e);return s=Je("{model}:generateContent",r._url),a=r._query,delete r.config,delete r._url,delete r._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(r),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then((e=>e.json())),i.then((e=>{const t=Zo(this.apiClient,e),n=new Dt;return Object.assign(n,t),n}))}{const t=co(this.apiClient,e);return s=Je("{model}:generateContent",t._url),a=t._query,delete t.config,delete t._url,delete t._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then((e=>e.json())),i.then((e=>{const t=Bo(this.apiClient,e),n=new Dt;return Object.assign(n,t),n}))}}async generateContentStreamInternal(e){var t,n,r,o;let i,s="",a={};if(this.apiClient.isVertexAI()){const r=Ao(this.apiClient,e);s=Je("{model}:streamGenerateContent?alt=sse",r._url),a=r._query,delete r.config,delete r._url,delete r._query;const o=this.apiClient;return i=o.requestStream({path:s,queryParams:a,body:JSON.stringify(r),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}),i.then((function(e){return tr(this,arguments,(function*(){var t,n,r,o;try{for(var i,s=!0,a=nr(e);!(t=(i=yield er(a.next())).done);s=!0){o=i.value,s=!1;const e=o,t=Zo(0,yield er(e.json())),n=new Dt;Object.assign(n,t),yield yield er(n)}}catch(l){n={error:l}}finally{try{s||t||!(r=a.return)||(yield er(r.call(a)))}finally{if(n)throw n.error}}}))}))}{const t=co(this.apiClient,e);s=Je("{model}:streamGenerateContent?alt=sse",t._url),a=t._query,delete t.config,delete t._url,delete t._query;const n=this.apiClient;return i=n.requestStream({path:s,queryParams:a,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}),i.then((function(e){return tr(this,arguments,(function*(){var t,n,r,o;try{for(var i,s=!0,a=nr(e);!(t=(i=yield er(a.next())).done);s=!0){o=i.value,s=!1;const e=o,t=Bo(0,yield er(e.json())),n=new Dt;Object.assign(n,t),yield yield er(n)}}catch(l){n={error:l}}finally{try{s||t||!(r=a.return)||(yield er(r.call(a)))}finally{if(n)throw n.error}}}))}))}}async embedContent(e){var t,n,r,o;let i,s="",a={};if(this.apiClient.isVertexAI()){const r=Oo(this.apiClient,e);return s=Je("{model}:predict",r._url),a=r._query,delete r.config,delete r._url,delete r._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(r),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then((e=>e.json())),i.then((e=>{const t=Xo(this.apiClient,e),n=new Mt;return Object.assign(n,t),n}))}{const t=fo(this.apiClient,e);return s=Je("{model}:batchEmbedContents",t._url),a=t._query,delete t.config,delete t._url,delete t._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then((e=>e.json())),i.then((e=>{const t=qo(this.apiClient,e),n=new Mt;return Object.assign(n,t),n}))}}async generateImagesInternal(e){var t,n,r,o;let i,s="",a={};if(this.apiClient.isVertexAI()){const r=Io(this.apiClient,e);return s=Je("{model}:predict",r._url),a=r._query,delete r.config,delete r._url,delete r._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(r),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then((e=>e.json())),i.then((e=>{const t=function(e,t){const n={},r=Ye(t,["predictions"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map((e=>ti(0,e)))),Ke(n,["generatedImages"],e)}const o=Ye(t,["positivePromptSafetyAttributes"]);return null!=o&&Ke(n,["positivePromptSafetyAttributes"],ei(0,o)),n}(this.apiClient,e),n=new Ut;return Object.assign(n,t),n}))}{const t=ho(this.apiClient,e);return s=Je("{model}:predict",t._url),a=t._query,delete t.config,delete t._url,delete t._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then((e=>e.json())),i.then((e=>{const t=function(e,t){const n={},r=Ye(t,["predictions"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map((e=>Ho(0,e)))),Ke(n,["generatedImages"],e)}const o=Ye(t,["positivePromptSafetyAttributes"]);return null!=o&&Ke(n,["positivePromptSafetyAttributes"],Vo(0,o)),n}(this.apiClient,e),n=new Ut;return Object.assign(n,t),n}))}}async editImageInternal(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI()){const s=Po(this.apiClient,e);return o=Je("{model}:predict",s._url),i=s._query,delete s.config,delete s._url,delete s._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(s),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then((e=>e.json())),r.then((e=>{const t=function(e,t){const n={},r=Ye(t,["predictions"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map((e=>ti(0,e)))),Ke(n,["generatedImages"],e)}return n}(this.apiClient,e),n=new Ft;return Object.assign(n,t),n}))}throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI()){const s=jo(this.apiClient,e);return o=Je("{model}:predict",s._url),i=s._query,delete s.config,delete s._url,delete s._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(s),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then((e=>e.json())),r.then((e=>{const t=function(e,t){const n={},r=Ye(t,["predictions"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map((e=>ti(0,e)))),Ke(n,["generatedImages"],e)}return n}(this.apiClient,e),n=new $t;return Object.assign(n,t),n}))}throw new Error("This method is only supported by the Vertex AI.")}async get(e){var t,n,r,o;let i,s="",a={};if(this.apiClient.isVertexAI()){const r=function(e,t){const n={},r=Ye(t,["model"]);null!=r&&Ke(n,["_url","name"],en(e,r));const o=Ye(t,["config"]);return null!=o&&Ke(n,["config"],o),n}(this.apiClient,e);return s=Je("{name}",r._url),a=r._query,delete r.config,delete r._url,delete r._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(r),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then((e=>e.json())),i.then((e=>ni(this.apiClient,e)))}{const t=function(e,t){const n={},r=Ye(t,["model"]);null!=r&&Ke(n,["_url","name"],en(e,r));const o=Ye(t,["config"]);return null!=o&&Ke(n,["config"],o),n}(this.apiClient,e);return s=Je("{name}",t._url),a=t._query,delete t.config,delete t._url,delete t._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then((e=>e.json())),i.then((e=>Wo(this.apiClient,e)))}}async listInternal(e){var t,n,r,o;let i,s="",a={};if(this.apiClient.isVertexAI()){const r=Lo(this.apiClient,e);return s=Je("{models_url}",r._url),a=r._query,delete r.config,delete r._url,delete r._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(r),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then((e=>e.json())),i.then((e=>{const t=function(e,t){const n={},r=Ye(t,["nextPageToken"]);null!=r&&Ke(n,["nextPageToken"],r);const o=Ye(t,["_self"]);if(null!=o){let e=En(0,o);Array.isArray(e)&&(e=e.map((e=>ni(0,e)))),Ke(n,["models"],e)}return n}(this.apiClient,e),n=new zt;return Object.assign(n,t),n}))}{const t=po(this.apiClient,e);return s=Je("{models_url}",t._url),a=t._query,delete t.config,delete t._url,delete t._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then((e=>e.json())),i.then((e=>{const t=function(e,t){const n={},r=Ye(t,["nextPageToken"]);null!=r&&Ke(n,["nextPageToken"],r);const o=Ye(t,["_self"]);if(null!=o){let e=En(0,o);Array.isArray(e)&&(e=e.map((e=>Wo(0,e)))),Ke(n,["models"],e)}return n}(this.apiClient,e),n=new zt;return Object.assign(n,t),n}))}}async update(e){var t,n,r,o;let i,s="",a={};if(this.apiClient.isVertexAI()){const r=Do(this.apiClient,e);return s=Je("{model}",r._url),a=r._query,delete r.config,delete r._url,delete r._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(r),httpMethod:"PATCH",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then((e=>e.json())),i.then((e=>ni(this.apiClient,e)))}{const t=mo(this.apiClient,e);return s=Je("{name}",t._url),a=t._query,delete t.config,delete t._url,delete t._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(t),httpMethod:"PATCH",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then((e=>e.json())),i.then((e=>Wo(this.apiClient,e)))}}async delete(e){var t,n,r,o;let i,s="",a={};if(this.apiClient.isVertexAI()){const r=function(e,t){const n={},r=Ye(t,["model"]);null!=r&&Ke(n,["_url","name"],en(e,r));const o=Ye(t,["config"]);return null!=o&&Ke(n,["config"],o),n}(this.apiClient,e);return s=Je("{name}",r._url),a=r._query,delete r.config,delete r._url,delete r._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(r),httpMethod:"DELETE",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then((e=>e.json())),i.then((()=>{const e={},t=new Bt;return Object.assign(t,e),t}))}{const t=function(e,t){const n={},r=Ye(t,["model"]);null!=r&&Ke(n,["_url","name"],en(e,r));const o=Ye(t,["config"]);return null!=o&&Ke(n,["config"],o),n}(this.apiClient,e);return s=Je("{name}",t._url),a=t._query,delete t.config,delete t._url,delete t._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(t),httpMethod:"DELETE",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then((e=>e.json())),i.then((()=>{const e={},t=new Bt;return Object.assign(t,e),t}))}}async countTokens(e){var t,n,r,o;let i,s="",a={};if(this.apiClient.isVertexAI()){const r=Mo(this.apiClient,e);return s=Je("{model}:countTokens",r._url),a=r._query,delete r.config,delete r._url,delete r._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(r),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then((e=>e.json())),i.then((e=>{const t=function(e,t){const n={},r=Ye(t,["totalTokens"]);return null!=r&&Ke(n,["totalTokens"],r),n}(this.apiClient,e),n=new qt;return Object.assign(n,t),n}))}{const t=go(this.apiClient,e);return s=Je("{model}:countTokens",t._url),a=t._query,delete t.config,delete t._url,delete t._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then((e=>e.json())),i.then((e=>{const t=function(e,t){const n={},r=Ye(t,["totalTokens"]);null!=r&&Ke(n,["totalTokens"],r);const o=Ye(t,["cachedContentTokenCount"]);return null!=o&&Ke(n,["cachedContentTokenCount"],o),n}(this.apiClient,e),n=new qt;return Object.assign(n,t),n}))}}async computeTokens(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI()){const s=function(e,t){const n={},r=Ye(t,["model"]);null!=r&&Ke(n,["_url","model"],en(e,r));const o=Ye(t,["contents"]);if(null!=o){let e=fn(0,o);Array.isArray(e)&&(e=e.map((e=>bo(0,e)))),Ke(n,["contents"],e)}const i=Ye(t,["config"]);return null!=i&&Ke(n,["config"],i),n}(this.apiClient,e);return o=Je("{model}:computeTokens",s._url),i=s._query,delete s.config,delete s._url,delete s._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(s),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then((e=>e.json())),r.then((e=>{const t=function(e,t){const n={},r=Ye(t,["tokensInfo"]);return null!=r&&Ke(n,["tokensInfo"],r),n}(this.apiClient,e),n=new Vt;return Object.assign(n,t),n}))}throw new Error("This method is only supported by the Vertex AI.")}async generateVideos(e){var t,n,r,o;let i,s="",a={};if(this.apiClient.isVertexAI()){const r=Uo(this.apiClient,e);return s=Je("{model}:predictLongRunning",r._url),a=r._query,delete r.config,delete r._url,delete r._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(r),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then((e=>e.json())),i.then((e=>oi(this.apiClient,e)))}{const t=vo(this.apiClient,e);return s=Je("{model}:predictLongRunning",t._url),a=t._query,delete t.config,delete t._url,delete t._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then((e=>e.json())),i.then((e=>Jo(this.apiClient,e)))}}}function ki(e,t){const n={},r=Ye(t,["_self"]);return null!=r&&Ke(n,["video"],function(e,t){const n={},r=Ye(t,["video","uri"]);null!=r&&Ke(n,["uri"],r);const o=Ye(t,["video","encodedVideo"]);null!=o&&Ke(n,["videoBytes"],kn(0,o));const i=Ye(t,["encoding"]);return null!=i&&Ke(n,["mimeType"],i),n}(0,r)),n}function Si(e,t){const n={},r=Ye(t,["name"]);null!=r&&Ke(n,["name"],r);const o=Ye(t,["metadata"]);null!=o&&Ke(n,["metadata"],o);const i=Ye(t,["done"]);null!=i&&Ke(n,["done"],i);const s=Ye(t,["error"]);null!=s&&Ke(n,["error"],s);const a=Ye(t,["response","generateVideoResponse"]);return null!=a&&Ke(n,["response"],function(e,t){const n={},r=Ye(t,["generatedSamples"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map((e=>ki(0,e)))),Ke(n,["generatedVideos"],e)}const o=Ye(t,["raiMediaFilteredCount"]);null!=o&&Ke(n,["raiMediaFilteredCount"],o);const i=Ye(t,["raiMediaFilteredReasons"]);return null!=i&&Ke(n,["raiMediaFilteredReasons"],i),n}(0,a)),n}function Ci(e,t){const n={},r=Ye(t,["_self"]);return null!=r&&Ke(n,["video"],function(e,t){const n={},r=Ye(t,["gcsUri"]);null!=r&&Ke(n,["uri"],r);const o=Ye(t,["bytesBase64Encoded"]);null!=o&&Ke(n,["videoBytes"],kn(0,o));const i=Ye(t,["mimeType"]);return null!=i&&Ke(n,["mimeType"],i),n}(0,r)),n}function Ei(e,t){const n={},r=Ye(t,["name"]);null!=r&&Ke(n,["name"],r);const o=Ye(t,["metadata"]);null!=o&&Ke(n,["metadata"],o);const i=Ye(t,["done"]);null!=i&&Ke(n,["done"],i);const s=Ye(t,["error"]);null!=s&&Ke(n,["error"],s);const a=Ye(t,["response"]);return null!=a&&Ke(n,["response"],function(e,t){const n={},r=Ye(t,["videos"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map((e=>Ci(0,e)))),Ke(n,["generatedVideos"],e)}const o=Ye(t,["raiMediaFilteredCount"]);null!=o&&Ke(n,["raiMediaFilteredCount"],o);const i=Ye(t,["raiMediaFilteredReasons"]);return null!=i&&Ke(n,["raiMediaFilteredReasons"],i),n}(0,a)),n}class Ti extends Ge{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const t=e.operation,n=e.config;if(void 0===t.name||""===t.name)throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const e=t.name.split("/operations/")[0];let r;return n&&"httpOptions"in n&&(r=n.httpOptions),this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:e,config:{httpOptions:r}})}return this.getVideosOperationInternal({operationName:t.name,config:n})}async getVideosOperationInternal(e){var t,n,r,o;let i,s="",a={};if(this.apiClient.isVertexAI()){const r=function(e,t){const n={},r=Ye(t,["operationName"]);null!=r&&Ke(n,["_url","operationName"],r);const o=Ye(t,["config"]);return null!=o&&Ke(n,["config"],o),n}(this.apiClient,e);return s=Je("{operationName}",r._url),a=r._query,delete r.config,delete r._url,delete r._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(r),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then((e=>e.json())),i.then((e=>Ei(this.apiClient,e)))}{const t=function(e,t){const n={},r=Ye(t,["operationName"]);null!=r&&Ke(n,["_url","operationName"],r);const o=Ye(t,["config"]);return null!=o&&Ke(n,["config"],o),n}(this.apiClient,e);return s=Je("{operationName}",t._url),a=t._query,delete t.config,delete t._url,delete t._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then((e=>e.json())),i.then((e=>Si(this.apiClient,e)))}}async fetchPredictVideosOperationInternal(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI()){const s=function(e,t){const n={},r=Ye(t,["operationName"]);null!=r&&Ke(n,["operationName"],r);const o=Ye(t,["resourceName"]);null!=o&&Ke(n,["_url","resourceName"],o);const i=Ye(t,["config"]);return null!=i&&Ke(n,["config"],i),n}(this.apiClient,e);return o=Je("{resourceName}:fetchPredictOperation",s._url),i=s._query,delete s.config,delete s._url,delete s._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(s),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then((e=>e.json())),r.then((e=>Ei(this.apiClient,e)))}throw new Error("This method is only supported by the Vertex AI.")}}function Ai(e,t){const n={},r=Ye(t,["config"]);return null!=r&&Ke(n,["config"],function(e,t,n){const r=Ye(t,["pageSize"]);void 0!==n&&null!=r&&Ke(n,["_query","pageSize"],r);const o=Ye(t,["pageToken"]);void 0!==n&&null!=o&&Ke(n,["_query","pageToken"],o);const i=Ye(t,["filter"]);return void 0!==n&&null!=i&&Ke(n,["_query","filter"],i),{}}(0,r,n)),n}function Oi(e,t){const n={};if(void 0!==Ye(t,["gcsUri"]))throw new Error("gcsUri parameter is not supported in Gemini API.");const r=Ye(t,["examples"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map((e=>function(e,t){const n={},r=Ye(t,["textInput"]);null!=r&&Ke(n,["textInput"],r);const o=Ye(t,["output"]);return null!=o&&Ke(n,["output"],o),n}(0,e)))),Ke(n,["examples","examples"],e)}return n}function Ii(e,t){const n={},r=Ye(t,["baseModel"]);null!=r&&Ke(n,["baseModel"],r);const o=Ye(t,["trainingDataset"]);null!=o&&Ke(n,["tuningTask","trainingData"],Oi(0,o));const i=Ye(t,["config"]);return null!=i&&Ke(n,["config"],function(e,t,n){const r={};if(void 0!==Ye(t,["validationDataset"]))throw new Error("validationDataset parameter is not supported in Gemini API.");const o=Ye(t,["tunedModelDisplayName"]);if(void 0!==n&&null!=o&&Ke(n,["displayName"],o),void 0!==Ye(t,["description"]))throw new Error("description parameter is not supported in Gemini API.");const i=Ye(t,["epochCount"]);void 0!==n&&null!=i&&Ke(n,["tuningTask","hyperparameters","epochCount"],i);const s=Ye(t,["learningRateMultiplier"]);if(null!=s&&Ke(r,["tuningTask","hyperparameters","learningRateMultiplier"],s),void 0!==Ye(t,["exportLastCheckpointOnly"]))throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(void 0!==Ye(t,["adapterSize"]))throw new Error("adapterSize parameter is not supported in Gemini API.");const a=Ye(t,["batchSize"]);void 0!==n&&null!=a&&Ke(n,["tuningTask","hyperparameters","batchSize"],a);const l=Ye(t,["learningRate"]);return void 0!==n&&null!=l&&Ke(n,["tuningTask","hyperparameters","learningRate"],l),r}(0,i,n)),n}function Ni(e,t){const n={},r=Ye(t,["config"]);return null!=r&&Ke(n,["config"],function(e,t,n){const r=Ye(t,["pageSize"]);void 0!==n&&null!=r&&Ke(n,["_query","pageSize"],r);const o=Ye(t,["pageToken"]);void 0!==n&&null!=o&&Ke(n,["_query","pageToken"],o);const i=Ye(t,["filter"]);return void 0!==n&&null!=i&&Ke(n,["_query","filter"],i),{}}(0,r,n)),n}function Ri(e,t,n){const r=Ye(t,["validationDataset"]);void 0!==n&&null!=r&&Ke(n,["supervisedTuningSpec"],function(e,t){const n={},r=Ye(t,["gcsUri"]);return null!=r&&Ke(n,["validationDatasetUri"],r),n}(0,r));const o=Ye(t,["tunedModelDisplayName"]);void 0!==n&&null!=o&&Ke(n,["tunedModelDisplayName"],o);const i=Ye(t,["description"]);void 0!==n&&null!=i&&Ke(n,["description"],i);const s=Ye(t,["epochCount"]);void 0!==n&&null!=s&&Ke(n,["supervisedTuningSpec","hyperParameters","epochCount"],s);const a=Ye(t,["learningRateMultiplier"]);void 0!==n&&null!=a&&Ke(n,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],a);const l=Ye(t,["exportLastCheckpointOnly"]);void 0!==n&&null!=l&&Ke(n,["supervisedTuningSpec","exportLastCheckpointOnly"],l);const u=Ye(t,["adapterSize"]);if(void 0!==n&&null!=u&&Ke(n,["supervisedTuningSpec","hyperParameters","adapterSize"],u),void 0!==Ye(t,["batchSize"]))throw new Error("batchSize parameter is not supported in Vertex AI.");if(void 0!==Ye(t,["learningRate"]))throw new Error("learningRate parameter is not supported in Vertex AI.");return{}}function Pi(e,t){const n={},r=Ye(t,["baseModel"]);null!=r&&Ke(n,["baseModel"],r);const o=Ye(t,["trainingDataset"]);null!=o&&Ke(n,["supervisedTuningSpec","trainingDatasetUri"],function(e,t,n){const r=Ye(t,["gcsUri"]);if(void 0!==n&&null!=r&&Ke(n,["supervisedTuningSpec","trainingDatasetUri"],r),void 0!==Ye(t,["examples"]))throw new Error("examples parameter is not supported in Vertex AI.");return{}}(0,o,n));const i=Ye(t,["config"]);return null!=i&&Ke(n,["config"],Ri(0,i,n)),n}function ji(e,t){const n={},r=Ye(t,["name"]);null!=r&&Ke(n,["name"],r);const o=Ye(t,["state"]);null!=o&&Ke(n,["state"],_n(0,o));const i=Ye(t,["createTime"]);null!=i&&Ke(n,["createTime"],i);const s=Ye(t,["tuningTask","startTime"]);null!=s&&Ke(n,["startTime"],s);const a=Ye(t,["tuningTask","completeTime"]);null!=a&&Ke(n,["endTime"],a);const l=Ye(t,["updateTime"]);null!=l&&Ke(n,["updateTime"],l);const u=Ye(t,["description"]);null!=u&&Ke(n,["description"],u);const c=Ye(t,["baseModel"]);null!=c&&Ke(n,["baseModel"],c);const d=Ye(t,["_self"]);null!=d&&Ke(n,["tunedModel"],function(e,t){const n={},r=Ye(t,["name"]);null!=r&&Ke(n,["model"],r);const o=Ye(t,["name"]);return null!=o&&Ke(n,["endpoint"],o),n}(0,d));const f=Ye(t,["distillationSpec"]);null!=f&&Ke(n,["distillationSpec"],f);const h=Ye(t,["experiment"]);null!=h&&Ke(n,["experiment"],h);const p=Ye(t,["labels"]);null!=p&&Ke(n,["labels"],p);const m=Ye(t,["pipelineJob"]);null!=m&&Ke(n,["pipelineJob"],m);const g=Ye(t,["serviceAccount"]);null!=g&&Ke(n,["serviceAccount"],g);const v=Ye(t,["tunedModelDisplayName"]);return null!=v&&Ke(n,["tunedModelDisplayName"],v),n}function Li(e,t){const n={},r=Ye(t,["model"]);null!=r&&Ke(n,["model"],r);const o=Ye(t,["endpoint"]);null!=o&&Ke(n,["endpoint"],o);const i=Ye(t,["checkpoints"]);if(null!=i){let e=i;Array.isArray(e)&&(e=e.map((e=>function(e,t){const n={},r=Ye(t,["checkpointId"]);null!=r&&Ke(n,["checkpointId"],r);const o=Ye(t,["epoch"]);null!=o&&Ke(n,["epoch"],o);const i=Ye(t,["step"]);null!=i&&Ke(n,["step"],i);const s=Ye(t,["endpoint"]);return null!=s&&Ke(n,["endpoint"],s),n}(0,e)))),Ke(n,["checkpoints"],e)}return n}function Di(e,t){const n={},r=Ye(t,["name"]);null!=r&&Ke(n,["name"],r);const o=Ye(t,["state"]);null!=o&&Ke(n,["state"],_n(0,o));const i=Ye(t,["createTime"]);null!=i&&Ke(n,["createTime"],i);const s=Ye(t,["startTime"]);null!=s&&Ke(n,["startTime"],s);const a=Ye(t,["endTime"]);null!=a&&Ke(n,["endTime"],a);const l=Ye(t,["updateTime"]);null!=l&&Ke(n,["updateTime"],l);const u=Ye(t,["error"]);null!=u&&Ke(n,["error"],u);const c=Ye(t,["description"]);null!=c&&Ke(n,["description"],c);const d=Ye(t,["baseModel"]);null!=d&&Ke(n,["baseModel"],d);const f=Ye(t,["tunedModel"]);null!=f&&Ke(n,["tunedModel"],Li(0,f));const h=Ye(t,["supervisedTuningSpec"]);null!=h&&Ke(n,["supervisedTuningSpec"],h);const p=Ye(t,["tuningDataStats"]);null!=p&&Ke(n,["tuningDataStats"],p);const m=Ye(t,["encryptionSpec"]);null!=m&&Ke(n,["encryptionSpec"],m);const g=Ye(t,["partnerModelTuningSpec"]);null!=g&&Ke(n,["partnerModelTuningSpec"],g);const v=Ye(t,["distillationSpec"]);null!=v&&Ke(n,["distillationSpec"],v);const y=Ye(t,["experiment"]);null!=y&&Ke(n,["experiment"],y);const b=Ye(t,["labels"]);null!=b&&Ke(n,["labels"],b);const w=Ye(t,["pipelineJob"]);null!=w&&Ke(n,["pipelineJob"],w);const x=Ye(t,["serviceAccount"]);null!=x&&Ke(n,["serviceAccount"],x);const _=Ye(t,["tunedModelDisplayName"]);return null!=_&&Ke(n,["tunedModelDisplayName"],_),n}class Mi extends Ge{constructor(e){var t;super(),t=this,this.apiClient=e,this.get=async e=>await this.getInternal(e),this.list=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Zn(Yn.PAGED_ITEM_TUNING_JOBS,(e=>t.listInternal(e)),await t.listInternal(e),e)},this.tune=async e=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(e);{const t=await this.tuneMldevInternal(e);let n="";void 0!==t.metadata&&void 0!==t.metadata.tunedModel?n=t.metadata.tunedModel:void 0!==t.name&&t.name.includes("/operations/")&&(n=t.name.split("/operations/")[0]);return{name:n,state:ft.JOB_STATE_QUEUED}}}}async getInternal(e){var t,n,r,o;let i,s="",a={};if(this.apiClient.isVertexAI()){const r=function(e,t){const n={},r=Ye(t,["name"]);null!=r&&Ke(n,["_url","name"],r);const o=Ye(t,["config"]);return null!=o&&Ke(n,["config"],o),n}(this.apiClient,e);return s=Je("{name}",r._url),a=r._query,delete r.config,delete r._url,delete r._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(r),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then((e=>e.json())),i.then((e=>Di(this.apiClient,e)))}{const t=function(e,t){const n={},r=Ye(t,["name"]);null!=r&&Ke(n,["_url","name"],r);const o=Ye(t,["config"]);return null!=o&&Ke(n,["config"],o),n}(this.apiClient,e);return s=Je("{name}",t._url),a=t._query,delete t.config,delete t._url,delete t._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then((e=>e.json())),i.then((e=>ji(this.apiClient,e)))}}async listInternal(e){var t,n,r,o;let i,s="",a={};if(this.apiClient.isVertexAI()){const r=Ni(this.apiClient,e);return s=Je("tuningJobs",r._url),a=r._query,delete r.config,delete r._url,delete r._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(r),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then((e=>e.json())),i.then((e=>{const t=function(e,t){const n={},r=Ye(t,["nextPageToken"]);null!=r&&Ke(n,["nextPageToken"],r);const o=Ye(t,["tuningJobs"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map((e=>Di(0,e)))),Ke(n,["tuningJobs"],e)}return n}(this.apiClient,e),n=new Ht;return Object.assign(n,t),n}))}{const t=Ai(this.apiClient,e);return s=Je("tunedModels",t._url),a=t._query,delete t.config,delete t._url,delete t._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then((e=>e.json())),i.then((e=>{const t=function(e,t){const n={},r=Ye(t,["nextPageToken"]);null!=r&&Ke(n,["nextPageToken"],r);const o=Ye(t,["tunedModels"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map((e=>ji(0,e)))),Ke(n,["tuningJobs"],e)}return n}(this.apiClient,e),n=new Ht;return Object.assign(n,t),n}))}}async tuneInternal(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI()){const s=Pi(this.apiClient,e);return o=Je("tuningJobs",s._url),i=s._query,delete s.config,delete s._url,delete s._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(s),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then((e=>e.json())),r.then((e=>Di(this.apiClient,e)))}throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Ii(this.apiClient,e);return o=Je("tunedModels",s._url),i=s._query,delete s.config,delete s._url,delete s._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(s),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then((e=>e.json())),r.then((e=>function(e,t){const n={},r=Ye(t,["name"]);null!=r&&Ke(n,["name"],r);const o=Ye(t,["metadata"]);null!=o&&Ke(n,["metadata"],o);const i=Ye(t,["done"]);null!=i&&Ke(n,["done"],i);const s=Ye(t,["error"]);return null!=s&&Ke(n,["error"],s),n}(this.apiClient,e)))}}}class Ui{async download(e,t){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const Fi="x-goog-upload-status";function $i(e){return new Promise((t=>setTimeout(t,e)))}class zi{async upload(e,t,n){if("string"===typeof e)throw new Error("File path is not supported in browser uploader.");return await async function(e,t,n){var r,o,i;let s=0,a=0,l=new Kt(new Response),u="upload";for(s=e.size;a<s;){const i=Math.min(8388608,s-a),c=e.slice(a,a+i);a+i>=s&&(u+=", finalize");let d=0,f=1e3;for(;d<3&&(l=await n.request({path:"",body:c,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":u,"X-Goog-Upload-Offset":String(a),"Content-Length":String(i)}}}),!(null===(r=null===l||void 0===l?void 0:l.headers)||void 0===r?void 0:r[Fi]));)d++,await $i(f),f*=2;if(a+=i,"active"!==(null===(o=null===l||void 0===l?void 0:l.headers)||void 0===o?void 0:o[Fi]))break;if(s<=a)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const c=await(null===l||void 0===l?void 0:l.json());if("final"!==(null===(i=null===l||void 0===l?void 0:l.headers)||void 0===i?void 0:i[Fi]))throw new Error("Failed to upload file: Upload status is not finalized.");return c.file}(e,t,n)}async stat(e){if("string"===typeof e)throw new Error("File path is not supported in browser uploader.");return await async function(e){return{size:e.size,type:e.type}}(e)}}class Bi{create(e,t,n){return new qi(e,t,n)}}class qi{constructor(e,t,n){this.url=e,this.headers=t,this.callbacks=n}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(void 0===this.ws)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(void 0===this.ws)throw new Error("WebSocket is not connected");this.ws.close()}}const Vi="x-goog-api-key";class Hi{constructor(e){this.apiKey=e}async addAuthHeaders(e){null===e.get(Vi)&&e.append(Vi,this.apiKey)}}class Wi{constructor(e){var t;if(null==e.apiKey)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=null!==(t=e.vertexai)&&void 0!==t&&t,this.apiKey=e.apiKey;const n=We(e,void 0,void 0);n&&(e.httpOptions?e.httpOptions.baseUrl=n:e.httpOptions={baseUrl:n}),this.apiVersion=e.apiVersion;const r=new Hi(this.apiKey);this.apiClient=new ui({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:"gl-node/web",uploader:new zi,downloader:new Ui}),this.models=new _i(this.apiClient),this.live=new gi(this.apiClient,r,new Bi),this.chats=new sr(this.models,this.apiClient),this.caches=new Qn(this.apiClient),this.files=new dr(this.apiClient),this.operations=new Ti(this.apiClient),this.tunings=new Mi(this.apiClient)}}},6727:(e,t,n)=>{"use strict";n.d(t,{BV:()=>we,C5:()=>ge,Kd:()=>tt,N_:()=>rt,Zp:()=>ee,ok:()=>at,qh:()=>ye,sv:()=>ve,zy:()=>Z});var r=n(5043),o=(n(4358),"popstate");function i(){return f((function(e,t){let{pathname:n,search:r,hash:o}=e.location;return u("",{pathname:n,search:r,hash:o},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:c(t)}),null,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function s(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function a(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function l(e,t){return{usr:e.state,key:e.key,idx:t}}function u(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return{pathname:"string"===typeof e?e:e.pathname,search:"",hash:"",..."string"===typeof t?d(t):t,state:n,key:t&&t.key||r||Math.random().toString(36).substring(2,10)}}function c(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function d(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function f(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:i=document.defaultView,v5Compat:a=!1}=r,d=i.history,f="POP",h=null,p=m();function m(){return(d.state||{idx:null}).idx}function g(){f="POP";let e=m(),t=null==e?null:e-p;p=e,h&&h({action:f,location:y.location,delta:t})}function v(e){let t="null"!==i.location.origin?i.location.origin:i.location.href,n="string"===typeof e?e:c(e);return n=n.replace(/ $/,"%20"),s(t,`No window.location.(origin|href) available to create URL for href: ${n}`),new URL(n,t)}null==p&&(p=0,d.replaceState({...d.state,idx:p},""));let y={get action(){return f},get location(){return e(i,d)},listen(e){if(h)throw new Error("A history only accepts one active listener");return i.addEventListener(o,g),h=e,()=>{i.removeEventListener(o,g),h=null}},createHref:e=>t(i,e),createURL:v,encodeLocation(e){let t=v(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){f="PUSH";let r=u(y.location,e,t);n&&n(r,e),p=m()+1;let o=l(r,p),s=y.createHref(r);try{d.pushState(o,"",s)}catch(c){if(c instanceof DOMException&&"DataCloneError"===c.name)throw c;i.location.assign(s)}a&&h&&h({action:f,location:y.location,delta:1})},replace:function(e,t){f="REPLACE";let r=u(y.location,e,t);n&&n(r,e),p=m();let o=l(r,p),i=y.createHref(r);d.replaceState(o,"",i),a&&h&&h({action:f,location:y.location,delta:0})},go:e=>d.go(e)};return y}function h(e,t){return p(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function p(e,t,n,r){let o=A(("string"===typeof t?d(t):t).pathname||"/",n);if(null==o)return null;let i=m(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(i);let s=null;for(let a=0;null==s&&a<i.length;++a){let e=T(o);s=C(i[a],e,r)}return s}function m(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=(e,o,i)=>{let a={relativePath:void 0===i?e.path||"":i,caseSensitive:!0===e.caseSensitive,childrenIndex:o,route:e};a.relativePath.startsWith("/")&&(s(a.relativePath.startsWith(r),`Absolute route path "${a.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),a.relativePath=a.relativePath.slice(r.length));let l=P([r,a.relativePath]),u=n.concat(a);e.children&&e.children.length>0&&(s(!0!==e.index,`Index routes must not have child routes. Please remove all child routes from route path "${l}".`),m(e.children,t,u,l)),(null!=e.path||e.index)&&t.push({path:l,score:S(l,e.index),routesMeta:u})};return e.forEach(((e,t)=>{if(""!==e.path&&e.path?.includes("?"))for(let n of g(e.path))o(e,t,n);else o(e,t)})),t}function g(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,o=n.endsWith("?"),i=n.replace(/\?$/,"");if(0===r.length)return o?[i,""]:[i];let s=g(r.join("/")),a=[];return a.push(...s.map((e=>""===e?i:[i,e].join("/")))),o&&a.push(...s),a.map((t=>e.startsWith("/")&&""===t?"/":t))}var v=/^:[\w-]+$/,y=3,b=2,w=1,x=10,_=-2,k=e=>"*"===e;function S(e,t){let n=e.split("/"),r=n.length;return n.some(k)&&(r+=_),t&&(r+=b),n.filter((e=>!k(e))).reduce(((e,t)=>e+(v.test(t)?y:""===t?w:x)),r)}function C(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:r}=e,o={},i="/",s=[];for(let a=0;a<r.length;++a){let e=r[a],l=a===r.length-1,u="/"===i?t:t.slice(i.length)||"/",c=E({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},u),d=e.route;if(!c&&l&&n&&!r[r.length-1].route.index&&(c=E({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},u)),!c)return null;Object.assign(o,c.params),s.push({params:o,pathname:P([i,c.pathname]),pathnameBase:j(P([i,c.pathnameBase])),route:d}),"/"!==c.pathnameBase&&(i=P([i,c.pathnameBase]))}return s}function E(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];a("*"===e||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),o+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":""!==e&&"/"!==e&&(o+="(?:(?=\\/|$))");let i=new RegExp(o,t?void 0:"i");return[i,r]}(e.path,e.caseSensitive,e.end),o=t.match(n);if(!o)return null;let i=o[0],s=i.replace(/(.)\/+$/,"$1"),l=o.slice(1);return{params:r.reduce(((e,t,n)=>{let{paramName:r,isOptional:o}=t;if("*"===r){let e=l[n]||"";s=i.slice(0,i.length-e.length).replace(/(.)\/+$/,"$1")}const a=l[n];return e[r]=o&&!a?void 0:(a||"").replace(/%2F/g,"/"),e}),{}),pathname:i,pathnameBase:s,pattern:e}}function T(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return a(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function A(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function O(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function I(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function N(e){let t=I(e);return t.map(((e,n)=>n===t.length-1?e.pathname:e.pathnameBase))}function R(e,t,n){let r,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?r=d(e):(r={...e},s(!r.pathname||!r.pathname.includes("?"),O("?","pathname","search",r)),s(!r.pathname||!r.pathname.includes("#"),O("#","pathname","hash",r)),s(!r.search||!r.search.includes("#"),O("#","search","hash",r)));let i,a=""===e||""===r.pathname,l=a?"/":r.pathname;if(null==l)i=n;else{let e=t.length-1;if(!o&&l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}i=e>=0?t[e]:"/"}let u=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:n,search:r="",hash:o=""}="string"===typeof e?d(e):e,i=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:i,search:L(r),hash:D(o)}}(r,i),c=l&&"/"!==l&&l.endsWith("/"),f=(a||"."===l)&&n.endsWith("/");return u.pathname.endsWith("/")||!c&&!f||(u.pathname+="/"),u}var P=e=>e.join("/").replace(/\/\/+/g,"/"),j=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),L=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",D=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function M(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var U=["POST","PUT","PATCH","DELETE"],F=(new Set(U),["GET",...U]);new Set(F),Symbol("ResetLoaderData");var $=r.createContext(null);$.displayName="DataRouter";var z=r.createContext(null);z.displayName="DataRouterState";var B=r.createContext({isTransitioning:!1});B.displayName="ViewTransition";var q=r.createContext(new Map);q.displayName="Fetchers";var V=r.createContext(null);V.displayName="Await";var H=r.createContext(null);H.displayName="Navigation";var W=r.createContext(null);W.displayName="Location";var G=r.createContext({outlet:null,matches:[],isDataRoute:!1});G.displayName="Route";var J=r.createContext(null);J.displayName="RouteError";var K=!0;function Y(){return null!=r.useContext(W)}function Z(){return s(Y(),"useLocation() may be used only in the context of a <Router> component."),r.useContext(W).location}var Q="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function X(e){r.useContext(H).static||r.useLayoutEffect(e)}function ee(){let{isDataRoute:e}=r.useContext(G);return e?function(){let{router:e}=ce("useNavigate"),t=fe("useNavigate"),n=r.useRef(!1);X((()=>{n.current=!0}));let o=r.useCallback((async function(r){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};a(n.current,Q),n.current&&("number"===typeof r?e.navigate(r):await e.navigate(r,{fromRouteId:t,...o}))}),[e,t]);return o}():function(){s(Y(),"useNavigate() may be used only in the context of a <Router> component.");let e=r.useContext($),{basename:t,navigator:n}=r.useContext(H),{matches:o}=r.useContext(G),{pathname:i}=Z(),l=JSON.stringify(N(o)),u=r.useRef(!1);X((()=>{u.current=!0}));let c=r.useCallback((function(r){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(a(u.current,Q),!u.current)return;if("number"===typeof r)return void n.go(r);let s=R(r,JSON.parse(l),i,"path"===o.relative);null==e&&"/"!==t&&(s.pathname="/"===s.pathname?t:P([t,s.pathname])),(o.replace?n.replace:n.push)(s,o.state,o)}),[t,n,l,i,e]);return c}()}var te=r.createContext(null);function ne(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:n}=r.useContext(G),{pathname:o}=Z(),i=JSON.stringify(N(n));return r.useMemo((()=>R(e,JSON.parse(i),o,"path"===t)),[e,i,o,t])}function re(e,t,n,o){s(Y(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:l}=r.useContext(H),{matches:u}=r.useContext(G),c=u[u.length-1],f=c?c.params:{},p=c?c.pathname:"/",m=c?c.pathnameBase:"/",g=c&&c.route;if(K){let e=g&&g.path||"";me(p,!g||e.endsWith("*")||e.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${e}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="${e}"> to <Route path="${"/"===e?"*":`${e}/*`}">.`)}let v,y=Z();if(t){let e="string"===typeof t?d(t):t;s("/"===m||e.pathname?.startsWith(m),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${e.pathname}" was given in the \`location\` prop.`),v=e}else v=y;let b=v.pathname||"/",w=b;if("/"!==m){let e=m.replace(/^\//,"").split("/");w="/"+b.replace(/^\//,"").split("/").slice(e.length).join("/")}let x=!l&&n&&n.matches&&n.matches.length>0?n.matches:h(e,{pathname:w});K&&(a(g||null!=x,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),a(null==x||void 0!==x[x.length-1].route.element||void 0!==x[x.length-1].route.Component||void 0!==x[x.length-1].route.lazy,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`));let _=le(x&&x.map((e=>Object.assign({},e,{params:Object.assign({},f,e.params),pathname:P([m,i.encodeLocation?i.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?m:P([m,i.encodeLocation?i.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),u,n,o);return t&&_?r.createElement(W.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},_):_}function oe(){let e=he(),t=M(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,o="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:o},s={padding:"2px 4px",backgroundColor:o},a=null;return K&&(console.error("Error handled by React Router default ErrorBoundary:",e),a=r.createElement(r.Fragment,null,r.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),r.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",r.createElement("code",{style:s},"ErrorBoundary")," or"," ",r.createElement("code",{style:s},"errorElement")," prop on your route."))),r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),n?r.createElement("pre",{style:i},n):null,a)}var ie=r.createElement(oe,null),se=class extends r.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?r.createElement(G.Provider,{value:this.props.routeContext},r.createElement(J.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ae(e){let{routeContext:t,match:n,children:o}=e,i=r.useContext($);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),r.createElement(G.Provider,{value:t},o)}function le(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null==e){if(!n)return null;if(n.errors)e=n.matches;else{if(0!==t.length||n.initialized||!(n.matches.length>0))return null;e=n.matches}}let o=e,i=n?.errors;if(null!=i){let e=o.findIndex((e=>e.route.id&&void 0!==i?.[e.route.id]));s(e>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),o=o.slice(0,Math.min(o.length,e+1))}let a=!1,l=-1;if(n)for(let r=0;r<o.length;r++){let e=o[r];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(l=r),e.route.id){let{loaderData:t,errors:r}=n,i=e.route.loader&&!t.hasOwnProperty(e.route.id)&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){a=!0,o=l>=0?o.slice(0,l+1):[o[0]];break}}}return o.reduceRight(((e,s,u)=>{let c,d=!1,f=null,h=null;n&&(c=i&&s.route.id?i[s.route.id]:void 0,f=s.route.errorElement||ie,a&&(l<0&&0===u?(me("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),d=!0,h=null):l===u&&(d=!0,h=s.route.hydrateFallbackElement||null)));let p=t.concat(o.slice(0,u+1)),m=()=>{let t;return t=c?f:d?h:s.route.Component?r.createElement(s.route.Component,null):s.route.element?s.route.element:e,r.createElement(ae,{match:s,routeContext:{outlet:e,matches:p,isDataRoute:null!=n},children:t})};return n&&(s.route.ErrorBoundary||s.route.errorElement||0===u)?r.createElement(se,{location:n.location,revalidation:n.revalidation,component:f,error:c,children:m(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):m()}),null)}function ue(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ce(e){let t=r.useContext($);return s(t,ue(e)),t}function de(e){let t=r.useContext(z);return s(t,ue(e)),t}function fe(e){let t=function(e){let t=r.useContext(G);return s(t,ue(e)),t}(e),n=t.matches[t.matches.length-1];return s(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function he(){let e=r.useContext(J),t=de("useRouteError"),n=fe("useRouteError");return void 0!==e?e:t.errors?.[n]}var pe={};function me(e,t,n){t||pe[e]||(pe[e]=!0,a(!1,n))}r.memo((function(e){let{routes:t,future:n,state:r}=e;return re(t,void 0,r,n)}));function ge(e){let{to:t,replace:n,state:o,relative:i}=e;s(Y(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=r.useContext(H);a(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=r.useContext(G),{pathname:c}=Z(),d=ee(),f=R(t,N(u),c,"path"===i),h=JSON.stringify(f);return r.useEffect((()=>{d(JSON.parse(h),{replace:n,state:o,relative:i})}),[d,h,i,n,o]),null}function ve(e){return function(e){let t=r.useContext(G).outlet;return t?r.createElement(te.Provider,{value:e},t):t}(e.context)}function ye(e){s(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function be(e){let{basename:t="/",children:n=null,location:o,navigationType:i="POP",navigator:l,static:u=!1}=e;s(!Y(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),f=r.useMemo((()=>({basename:c,navigator:l,static:u,future:{}})),[c,l,u]);"string"===typeof o&&(o=d(o));let{pathname:h="/",search:p="",hash:m="",state:g=null,key:v="default"}=o,y=r.useMemo((()=>{let e=A(h,c);return null==e?null:{location:{pathname:e,search:p,hash:m,state:g,key:v},navigationType:i}}),[c,h,p,m,g,v,i]);return a(null!=y,`<Router basename="${c}"> is not able to match the URL "${h}${p}${m}" because it does not start with the basename, so the <Router> won't render anything.`),null==y?null:r.createElement(H.Provider,{value:f},r.createElement(W.Provider,{children:n,value:y}))}function we(e){let{children:t,location:n}=e;return re(xe(t),n)}r.Component;function xe(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[];return r.Children.forEach(e,((e,o)=>{if(!r.isValidElement(e))return;let i=[...t,o];if(e.type===r.Fragment)return void n.push.apply(n,xe(e.props.children,i));s(e.type===ye,`[${"string"===typeof e.type?e.type:e.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),s(!e.props.index||!e.props.children,"An index route cannot have child routes.");let a={id:e.props.id||i.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:!0===e.props.hasErrorBoundary||null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=xe(e.props.children,i)),n.push(a)})),n}var _e="get",ke="application/x-www-form-urlencoded";function Se(e){return null!=e&&"string"===typeof e.tagName}function Ce(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return new URLSearchParams("string"===typeof e||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce(((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map((e=>[n,e])):[[n,r]])}),[]))}var Ee=null;var Te=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ae(e){return null==e||Te.has(e)?e:(a(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ke}"`),null)}function Oe(e,t){let n,r,o,i,s;if(Se(a=e)&&"form"===a.tagName.toLowerCase()){let s=e.getAttribute("action");r=s?A(s,t):null,n=e.getAttribute("method")||_e,o=Ae(e.getAttribute("enctype"))||ke,i=new FormData(e)}else if(function(e){return Se(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return Se(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let s=e.form;if(null==s)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let a=e.getAttribute("formaction")||s.getAttribute("action");if(r=a?A(a,t):null,n=e.getAttribute("formmethod")||s.getAttribute("method")||_e,o=Ae(e.getAttribute("formenctype"))||Ae(s.getAttribute("enctype"))||ke,i=new FormData(s,e),!function(){if(null===Ee)try{new FormData(document.createElement("form"),0),Ee=!1}catch(e){Ee=!0}return Ee}()){let{name:t,type:n,value:r}=e;if("image"===n){let e=t?`${t}.`:"";i.append(`${e}x`,"0"),i.append(`${e}y`,"0")}else t&&i.append(t,r)}}else{if(Se(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=_e,r=null,o=ke,s=e}var a;return i&&"text/plain"===o&&(s=i,i=void 0),{action:r,method:n.toLowerCase(),encType:o,formData:i,body:s}}function Ie(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}async function Ne(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise((()=>{}))}}function Re(e){return null!=e&&"string"===typeof e.page}function Pe(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function je(e,t,n,r,o,i){let s=(e,t)=>!n[t]||e.route.id!==n[t].route.id,a=(e,t)=>n[t].pathname!==e.pathname||n[t].route.path?.endsWith("*")&&n[t].params["*"]!==e.params["*"];return"assets"===i?t.filter(((e,t)=>s(e,t)||a(e,t))):"data"===i?t.filter(((t,i)=>{let l=r.routes[t.route.id];if(!l||!l.hasLoader)return!1;if(s(t,i)||a(t,i))return!0;if(t.route.shouldRevalidate){let r=t.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof r)return r}return!0})):[]}function Le(e){return[...new Set(e)]}function De(e,t){let n=new Set,r=new Set(t);return e.reduce(((e,o)=>{if(t&&!Re(o)&&"script"===o.as&&o.href&&r.has(o.href))return e;let i=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}(o));return n.has(i)||(n.add(i),e.push({key:i,link:o})),e}),[])}function Me(e){return{__html:e}}Symbol("SingleFetchRedirect");function Ue(e){let t="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===t.pathname?t.pathname="_root.data":t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}r.Component;function Fe(e){let{error:t,isOutsideRemixApp:n}=e;console.error(t);let o,i=r.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://remix.run/guides/errors for more information."\n        );\n      '}});if(M(t))return r.createElement($e,{title:"Unhandled Thrown Response!"},r.createElement("h1",{style:{fontSize:"24px"}},t.status," ",t.statusText),i);if(t instanceof Error)o=t;else{let e=null==t?"Unknown Error":"object"===typeof t&&"toString"in t?t.toString():JSON.stringify(t);o=new Error(e)}return r.createElement($e,{title:"Application Error!",isOutsideRemixApp:n},r.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),r.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},o.stack),i)}function $e(e){let{title:t,renderScripts:n,isOutsideRemixApp:o,children:i}=e,{routeModules:s}=He();return s.root?.Layout&&!o?i:r.createElement("html",{lang:"en"},r.createElement("head",null,r.createElement("meta",{charSet:"utf-8"}),r.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),r.createElement("title",null,t)),r.createElement("body",null,r.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},i,n?r.createElement(Qe,null):null)))}function ze(e){return!e}function Be(){let e=r.useContext($);return Ie(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function qe(){let e=r.useContext(z);return Ie(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Ve=r.createContext(void 0);function He(){let e=r.useContext(Ve);return Ie(e,"You must render this element inside a <HydratedRouter> element"),e}function We(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function Ge(e,t,n){if(n&&!Ze)return[e[0]];if(t){let n=e.findIndex((e=>void 0!==t[e.route.id]));return e.slice(0,n+1)}return e}function Je(e){let{page:t,...n}=e,{router:o}=Be(),i=r.useMemo((()=>h(o.routes,t,o.basename)),[o.routes,t,o.basename]);return i?r.createElement(Ye,{page:t,matches:i,...n}):null}function Ke(e){let{manifest:t,routeModules:n}=He(),[o,i]=r.useState([]);return r.useEffect((()=>{let r=!1;return async function(e,t,n){return De((await Promise.all(e.map((async e=>{let r=t.routes[e.route.id];if(r){let e=await Ne(r,n);return e.links?e.links():[]}return[]})))).flat(1).filter(Pe).filter((e=>"stylesheet"===e.rel||"preload"===e.rel)).map((e=>"stylesheet"===e.rel?{...e,rel:"prefetch",as:"style"}:{...e,rel:"prefetch"})))}(e,t,n).then((e=>{r||i(e)})),()=>{r=!0}}),[e,t,n]),o}function Ye(e){let{page:t,matches:n,...o}=e,i=Z(),{manifest:s,routeModules:a}=He(),{loaderData:l,matches:u}=qe(),c=r.useMemo((()=>je(t,n,u,s,i,"data")),[t,n,u,s,i]),d=r.useMemo((()=>je(t,n,u,s,i,"assets")),[t,n,u,s,i]),f=r.useMemo((()=>{if(t===i.pathname+i.search+i.hash)return[];let e=new Set,r=!1;if(n.forEach((t=>{let n=s.routes[t.route.id];n&&n.hasLoader&&(!c.some((e=>e.route.id===t.route.id))&&t.route.id in l&&a[t.route.id]?.shouldRevalidate||n.hasClientLoader?r=!0:e.add(t.route.id))})),0===e.size)return[];let o=Ue(t);return r&&e.size>0&&o.searchParams.set("_routes",n.filter((t=>e.has(t.route.id))).map((e=>e.route.id)).join(",")),[o.pathname+o.search]}),[l,i,s,c,n,t,a]),h=r.useMemo((()=>function(e,t){return Le(e.map((e=>{let n=t.routes[e.route.id];if(!n)return[];let r=[n.module];return n.imports&&(r=r.concat(n.imports)),r})).flat(1))}(d,s)),[d,s]),p=Ke(d);return r.createElement(r.Fragment,null,f.map((e=>r.createElement("link",{key:e,rel:"prefetch",as:"fetch",href:e,...o}))),h.map((e=>r.createElement("link",{key:e,rel:"modulepreload",href:e,...o}))),p.map((e=>{let{key:t,link:n}=e;return r.createElement("link",{key:t,...n})})))}Ve.displayName="FrameworkContext";var Ze=!1;function Qe(e){let{manifest:t,serverHandoffString:n,isSpaMode:o,renderMeta:i}=He(),{router:s,static:a,staticContext:l}=Be(),{matches:u}=qe(),c=ze(o);i&&(i.didRenderScripts=!0);let d=Ge(u,null,o);r.useEffect((()=>{Ze=!0}),[]);let f=r.useMemo((()=>{let o=l?`window.__reactRouterContext = ${n};window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());`:" ",i=a?`${t.hmr?.runtime?`import ${JSON.stringify(t.hmr.runtime)};`:""}${c?"":`import ${JSON.stringify(t.url)}`};\n${d.map(((e,n)=>`import * as route${n} from ${JSON.stringify(t.routes[e.route.id].module)};`)).join("\n")}\n  ${c?`window.__reactRouterManifest = ${JSON.stringify(function(e,t){let n=new Set(t.state.matches.map((e=>e.route.id))),r=t.state.location.pathname.split("/").filter(Boolean),o=["/"];for(r.pop();r.length>0;)o.push(`/${r.join("/")}`),r.pop();o.forEach((e=>{let r=h(t.routes,e,t.basename);r&&r.forEach((e=>n.add(e.route.id)))}));let i=[...n].reduce(((t,n)=>Object.assign(t,{[n]:e.routes[n]})),{});return{...e,routes:i}}(t,s),null,2)};`:""}\n  window.__reactRouterRouteModules = {${d.map(((e,t)=>`${JSON.stringify(e.route.id)}:route${t}`)).join(",")}};\n\nimport(${JSON.stringify(t.entry.module)});`:" ";return r.createElement(r.Fragment,null,r.createElement("script",{...e,suppressHydrationWarning:!0,dangerouslySetInnerHTML:Me(o),type:void 0}),r.createElement("script",{...e,suppressHydrationWarning:!0,dangerouslySetInnerHTML:Me(i),type:"module",async:!0}))}),[]),p=d.map((e=>{let n=t.routes[e.route.id];return n?(n.imports||[]).concat([n.module]):[]})).flat(1),m=Ze?[]:t.entry.imports.concat(p);return Ze?null:r.createElement(r.Fragment,null,c?null:r.createElement("link",{rel:"modulepreload",href:t.url,crossOrigin:e.crossOrigin}),r.createElement("link",{rel:"modulepreload",href:t.entry.module,crossOrigin:e.crossOrigin}),(g=m,[...new Set(g)]).map((t=>r.createElement("link",{key:t,rel:"modulepreload",href:t,crossOrigin:e.crossOrigin}))),f);var g}function Xe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach((t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)}))}}var et="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{et&&(window.__reactRouterVersion="7.1.5")}catch(dt){}function tt(e){let{basename:t,children:n,window:o}=e,s=r.useRef();null==s.current&&(s.current=i({window:o,v5Compat:!0}));let a=s.current,[l,u]=r.useState({action:a.action,location:a.location}),c=r.useCallback((e=>{r.startTransition((()=>u(e)))}),[u]);return r.useLayoutEffect((()=>a.listen(c)),[a,c]),r.createElement(be,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:a})}var nt=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,rt=r.forwardRef((function(e,t){let n,{onClick:o,discover:i="render",prefetch:l="none",relative:u,reloadDocument:d,replace:f,state:h,target:p,to:m,preventScrollReset:g,viewTransition:v,...y}=e,{basename:b}=r.useContext(H),w="string"===typeof m&&nt.test(m),x=!1;if("string"===typeof m&&w&&(n=m,et))try{let e=new URL(window.location.href),t=m.startsWith("//")?new URL(e.protocol+m):new URL(m),n=A(t.pathname,b);t.origin===e.origin&&null!=n?m=n+t.search+t.hash:x=!0}catch(dt){a(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let _=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};s(Y(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:o}=r.useContext(H),{hash:i,pathname:a,search:l}=ne(e,{relative:t}),u=a;return"/"!==n&&(u="/"===a?n:P([n,a])),o.createHref({pathname:u,search:l,hash:i})}(m,{relative:u}),[k,S,C]=function(e,t){let n=r.useContext(Ve),[o,i]=r.useState(!1),[s,a]=r.useState(!1),{onFocus:l,onBlur:u,onMouseEnter:c,onMouseLeave:d,onTouchStart:f}=t,h=r.useRef(null);r.useEffect((()=>{if("render"===e&&a(!0),"viewport"===e){let e=new IntersectionObserver((e=>{e.forEach((e=>{a(e.isIntersecting)}))}),{threshold:.5});return h.current&&e.observe(h.current),()=>{e.disconnect()}}}),[e]),r.useEffect((()=>{if(o){let e=setTimeout((()=>{a(!0)}),100);return()=>{clearTimeout(e)}}}),[o]);let p=()=>{i(!0)},m=()=>{i(!1),a(!1)};return n?"intent"!==e?[s,h,{}]:[s,h,{onFocus:We(l,p),onBlur:We(u,m),onMouseEnter:We(c,p),onMouseLeave:We(d,m),onTouchStart:We(f,p)}]:[!1,h,{}]}(l,y),E=function(e){let{target:t,replace:n,state:o,preventScrollReset:i,relative:s,viewTransition:a}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=ee(),u=Z(),d=ne(e,{relative:s});return r.useCallback((r=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(r,t)){r.preventDefault();let t=void 0!==n?n:c(u)===c(d);l(e,{replace:t,state:o,preventScrollReset:i,relative:s,viewTransition:a})}}),[u,l,d,n,o,t,e,i,s,a])}(m,{replace:f,state:h,target:p,preventScrollReset:g,relative:u,viewTransition:v});let T=r.createElement("a",{...y,...C,href:n||_,onClick:x||d?o:function(e){o&&o(e),e.defaultPrevented||E(e)},ref:Xe(t,S),target:p,"data-discover":w||"render"!==i?void 0:"true"});return k&&!w?r.createElement(r.Fragment,null,T,r.createElement(Je,{page:_})):T}));rt.displayName="Link",r.forwardRef((function(e,t){let{"aria-current":n="page",caseSensitive:o=!1,className:i="",end:a=!1,style:l,to:u,viewTransition:c,children:d,...f}=e,h=ne(u,{relative:f.relative}),p=Z(),m=r.useContext(z),{navigator:g,basename:v}=r.useContext(H),y=null!=m&&function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.useContext(B);s(null!=n,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:o}=st("useViewTransitionState"),i=ne(e,{relative:t.relative});if(!n.isTransitioning)return!1;let a=A(n.currentLocation.pathname,o)||n.currentLocation.pathname,l=A(n.nextLocation.pathname,o)||n.nextLocation.pathname;return null!=E(i.pathname,l)||null!=E(i.pathname,a)}(h)&&!0===c,b=g.encodeLocation?g.encodeLocation(h).pathname:h.pathname,w=p.pathname,x=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;o||(w=w.toLowerCase(),x=x?x.toLowerCase():null,b=b.toLowerCase()),x&&v&&(x=A(x,v)||x);const _="/"!==b&&b.endsWith("/")?b.length-1:b.length;let k,S=w===b||!a&&w.startsWith(b)&&"/"===w.charAt(_),C=null!=x&&(x===b||!a&&x.startsWith(b)&&"/"===x.charAt(b.length)),T={isActive:S,isPending:C,isTransitioning:y},O=S?n:void 0;k="function"===typeof i?i(T):[i,S?"active":null,C?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let I="function"===typeof l?l(T):l;return r.createElement(rt,{...f,"aria-current":O,className:k,ref:t,style:I,to:u,viewTransition:c},"function"===typeof d?d(T):d)})).displayName="NavLink";var ot=r.forwardRef(((e,t)=>{let{discover:n="render",fetcherKey:o,navigate:i,reloadDocument:a,replace:l,state:u,method:d=_e,action:f,onSubmit:h,relative:p,preventScrollReset:m,viewTransition:g,...v}=e,y=ct(),b=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:n}=r.useContext(H),o=r.useContext(G);s(o,"useFormAction must be used inside a RouteContext");let[i]=o.matches.slice(-1),a={...ne(e||".",{relative:t})},l=Z();if(null==e){a.search=l.search;let e=new URLSearchParams(a.search),t=e.getAll("index");if(t.some((e=>""===e))){e.delete("index"),t.filter((e=>e)).forEach((t=>e.append("index",t)));let n=e.toString();a.search=n?`?${n}`:""}}e&&"."!==e||!i.route.index||(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index");"/"!==n&&(a.pathname="/"===a.pathname?n:P([n,a.pathname]));return c(a)}(f,{relative:p}),w="get"===d.toLowerCase()?"get":"post",x="string"===typeof f&&nt.test(f);return r.createElement("form",{ref:t,method:w,action:b,onSubmit:a?h:e=>{if(h&&h(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,n=t?.getAttribute("formmethod")||d;y(t||e.currentTarget,{fetcherKey:o,method:n,navigate:i,replace:l,state:u,relative:p,preventScrollReset:m,viewTransition:g})},...v,"data-discover":x||"render"!==n?void 0:"true"})}));function it(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function st(e){let t=r.useContext($);return s(t,it(e)),t}function at(e){a("undefined"!==typeof URLSearchParams,"You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=r.useRef(Ce(e)),n=r.useRef(!1),o=Z(),i=r.useMemo((()=>function(e,t){let n=Ce(e);return t&&t.forEach(((e,r)=>{n.has(r)||t.getAll(r).forEach((e=>{n.append(r,e)}))})),n}(o.search,n.current?null:t.current)),[o.search]),s=ee(),l=r.useCallback(((e,t)=>{const r=Ce("function"===typeof e?e(i):e);n.current=!0,s("?"+r,t)}),[s,i]);return[i,l]}ot.displayName="Form";var lt=0,ut=()=>`__${String(++lt)}__`;function ct(){let{router:e}=st("useSubmit"),{basename:t}=r.useContext(H),n=fe("useRouteId");return r.useCallback((async function(r){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:i,method:s,encType:a,formData:l,body:u}=Oe(r,t);if(!1===o.navigate){let t=o.fetcherKey||ut();await e.fetch(t,n,o.action||i,{preventScrollReset:o.preventScrollReset,formData:l,body:u,formMethod:o.method||s,formEncType:o.encType||a,flushSync:o.flushSync})}else await e.navigate(o.action||i,{preventScrollReset:o.preventScrollReset,formData:l,body:u,formMethod:o.method||s,formEncType:o.encType||a,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})}),[e,t,n])}new TextEncoder},6092:e=>{"use strict";e.exports=JSON.parse('{"fG":{"Br":"You are a respectful code reviewer conducting a ${examDurationActiveExam} minute ${examSimulator?.title || \\"code review\\"} session focused on providing concrete suggestions and improvements.\\\\n\\\\nCRITICAL: ONLY DISCUSS CODE YOU CAN ACTUALLY SEE\\\\nDo NOT make assumptions about code structure, files, or implementations based on the assignment description. If the assignment mentions specific functionality but you can\'t see the relevant code on screen, ask the developer to show you that code first.\\\\n\\\\nIMPORTANT LINE NUMBER GUIDANCE:\\\\nWhen you can see the developer\'s screen with their code editor, look for the line numbers displayed in the LEFT MARGIN of the editor. Do NOT count lines manually - READ the actual line numbers shown in the editor interface. If you cannot clearly see the line numbers, ask the developer to help you identify them or zoom in.\\\\n\\\\nHere is how the review should proceed:\\\\n1. Start with a brief hello and confirm you can see their code. Ask them to show you the main file(s) they want reviewed.\\\\n2. IMPORTANT: Always wait for the developer to respond before moving to the next point. Give them time to discuss your suggestions.\\\\n3. ONLY provide suggestions about code that is currently visible on screen. Reference the specific line numbers you can SEE in the editor\'s left margin.\\\\n4. If you need to see different files or code sections to provide relevant suggestions, ask the developer to navigate to them: \\\\\\"Could you show me the [specific file/function] mentioned in your assignment?\\\\\\"\\\\n5. Focus on specific, actionable code improvements with exact suggestions rather than general advice.\\\\n6. NEVER assign grades, ratings, or scores - provide constructive suggestions only.\\\\n7. Do NOT end the review early - use the full ${examDurationActiveExam} minutes to provide comprehensive suggestions.","BQ":"You are a respectful code reviewer conducting a ${examDurationActiveExam} minute ${examSimulator?.title || \\"code review\\"} session focused on providing concrete suggestions and improvements.\\\\n\\\\nCRITICAL: ONLY DISCUSS CODE YOU CAN ACTUALLY SEE\\\\nDo NOT make assumptions about code structure, files, or implementations based on the repository description. If the assignment mentions specific functionality but you can\'t see the relevant code on screen, ask the developer to show you that code first.\\\\n\\\\nIMPORTANT LINE NUMBER GUIDANCE:\\\\nWhen you can see the developer\'s screen with their code editor, look for the line numbers displayed in the LEFT MARGIN of the editor. Do NOT count lines manually - READ the actual line numbers shown in the editor interface. If you cannot clearly see the line numbers, ask the developer to help you identify them or zoom in.\\\\n\\\\nHere is how the review should proceed:\\\\n1. Start with a brief hello and confirm you can see their code. Ask them to show you the main file(s) they want reviewed.\\\\n2. IMPORTANT: Always wait for the developer to respond before moving to the next point. Give them time to discuss your suggestions.\\\\n3. ONLY provide suggestions about code that is currently visible on screen. Reference the specific line numbers you can SEE in the editor\'s left margin and file paths.\\\\n4. If you need to see different files or code sections to provide relevant suggestions, ask the developer to navigate to them: \\\\\\"Could you show me [specific file] or the implementation of [specific feature]?\\\\\\"\\\\n5. Focus on specific, actionable code improvements with exact suggestions rather than general advice.\\\\n6. NEVER assign grades, ratings, or scores - provide constructive suggestions only.\\\\n7. Do NOT end the review early - use the full ${examDurationActiveExam} minutes to provide comprehensive suggestions.","lv":"You are a respectful code reviewer conducting a ${examSimulator?.title || \\"general code review\\"} session focused on providing concrete suggestions and improvements. This is an open-ended review session with no time limit - take as much time as needed to provide thorough, helpful feedback.\\\\n\\\\nCRITICAL: ONLY DISCUSS CODE YOU CAN ACTUALLY SEE\\\\nDo NOT make assumptions about code structure, files, or implementations. Only provide suggestions about code that is currently visible on screen.\\\\n\\\\nIMPORTANT LINE NUMBER GUIDANCE:\\\\nWhen you can see the developer\'s screen with their code editor, look for the line numbers displayed in the LEFT MARGIN of the editor. Do NOT count lines manually - READ the actual line numbers shown in the editor interface. If you cannot clearly see the line numbers, ask the developer to help you identify them or zoom in.\\\\n\\\\nHere is how the review should proceed:\\\\n1. Start with a brief hello and confirm you can see their code. Ask them to show you the main file(s) they want reviewed.\\\\n2. IMPORTANT: Always wait for the developer to respond before moving to the next point. Give them time to discuss your suggestions.\\\\n3. ONLY provide suggestions about code that is currently visible on screen. Reference the specific line numbers you can SEE in the editor\'s left margin.\\\\n4. If you need to see different files or code sections to provide relevant suggestions, ask the developer to navigate to them: \\\\\\"Could you show me the [specific file/function] you\'d like me to review?\\\\\\"\\\\n5. Focus on specific, actionable code improvements with exact suggestions rather than general advice.\\\\n6. NEVER assign grades, ratings, or scores - provide constructive suggestions only.\\\\n7. This is an open-ended session, so continue providing helpful suggestions as long as the developer wants to discuss their code. Let them guide the pace and areas of focus."},"J1":{"r":"You are a skilled and seasoned code reviewer with many years of experience in multiple programming languages and software architectures. You excel at providing specific, actionable code suggestions that directly improve code quality.","b":"You are an experienced code reviewer who provides focused, concrete suggestions for code improvement. Keep your suggestions brief and actionable."},"Oq":{"Ao":"You are a code review suggestion extractor. Your job is to analyze transcripts from AI code review conversations and extract any concrete, actionable code suggestions. Be liberal in your interpretation - extract anything that could be considered a suggestion or improvement.","l0":"Start a new suggestion extraction session. I will send you transcript chunks from an AI code review conversation. Extract ANY concrete, actionable code suggestions.\\n\\nEXTRACTION RULES:\\n- Extract ALL suggestions/recommendations for code changes\\n- IGNORE: greetings, pure questions, confirmations\\n- INCLUDE: specific improvement suggestions, best practices mentions, refactoring ideas\\n- FORMAT: \\"\u2022 Line X: [Brief suggestion]\\" OR \\"\u2022 [Brief suggestion]\\" if no line number\\n- MAX LENGTH: 30 words per bullet point\\n- Avoid exact duplicates but be liberal with variations\\n- Extract suggestions even if they\'re implied or mentioned in passing\\n\\nQUALITY CRITERIA:\\n- Must suggest some kind of code change or improvement\\n- Must be implementable by a developer\\n- Can be general best practices or specific line changes\\n- Include structural/architectural suggestions\\n\\nEXAMPLE OUTPUT:\\n\u2022 Line 42: Replace nested if statements with switch statement for better readability\\n\u2022 Line 15: Extract user validation logic into separate validateUser() function\\n\u2022 Group related state variables into single object for better management\\n\u2022 Add try-catch blocks around database operations for error handling\\n\\nIf absolutely no suggestions found in chunk, respond with: \\"NO_SUGGESTIONS\\"\\n\\nReady to begin session.","eA":"New transcript chunk:\\n\\n${transcriptChunk}\\n\\nBased on this chunk and our conversation history, extract any NEW concrete, actionable code suggestions. Avoid exact duplicates of previous suggestions but allow valuable elaboration."},"vs":{"r":"You are to prepare a review task for a code reviewer who is going to conduct a code review session focused on providing specific suggestions and improvements.\\\\n\\\\nWrite a CONCISE description (maximum 150 words) of which part of the code base should be reviewed and what types of suggestions to focus on. This will be shown to the author.\\\\n\\\\nPrioritize being CLEAR and BRIEF over being comprehensive. Focus on the most important improvement areas only.\\\\n\\\\nWhen selecting the focus area and crafting improvement goals, take into account the learning goals, purpose of the review, repository context, and time available. Select just 2-3 key improvement areas - do not try to cover everything.","S":"Given the following repository contents:\\\\n${repoContents}\\\\n\\\\nAnd the following learning goals:\\\\n${learningGoals}\\\\nPlease provide a list of 5-7 CONCISE, targeted improvement areas that address the learning goals effectively. Focus on specific code areas that need suggestions and improvements. Only answer with the improvement areas.\\\\n\\\\nIt is a ${examDurationActiveExam} minute review, so keep improvement areas focused and actionable."},"je":{"lq":"Important notes about conducting a suggestion-focused code review:\\\\n- CRITICAL: ONLY REVIEW CODE THAT IS CURRENTLY VISIBLE ON SCREEN. Do not make assumptions about code that isn\'t shown.\\\\n- If you need to see specific files, functions, or code sections mentioned in the assignment, ask the developer to navigate to them first\\\\n- After making each suggestion, pause and wait for the developer\'s response before continuing\\\\n- LINE NUMBERS: Read the line numbers displayed in the LEFT MARGIN of the code editor - do NOT count lines manually. If you cannot see line numbers clearly, ask the developer to zoom in or help identify the correct line numbers.\\\\n- Reference specific line numbers when providing suggestions (e.g., \\\\\\"Line 42 could be improved by...\\\\\\", \\\\\\"Lines 15-18 would benefit from...\\\\\\") using the numbers you can SEE in the editor\\\\n- If the assignment mentions specific functionality but it\'s not currently visible, say: \\\\\\"I\'d like to review [specific feature]. Could you show me that code?\\\\\\"\\\\n- Give the developer time to discuss your suggestions, explain their reasoning, or ask for clarification\\\\n- Don\'t rush from suggestion to suggestion - maintain a conversational pace\\\\n- Provide concrete examples of improvements with specific code suggestions, citing exact lines visible in the editor\\\\n- Do NOT assign any grades, scores, or formal evaluations\\\\n- Do NOT try to end the review early - use the full allocated time\\\\n- Focus on actionable suggestions with specific locations from the visible line numbers\\\\n- If the developer asks about a suggestion, provide helpful clarification before moving on\\\\n- If you\'re unsure about a line number, say \\\\\\"I\'m looking at the line that contains [describe the code]\\\\\\" instead of guessing\\\\n- When you can\'t see relevant code for the assignment: \\\\\\"To provide the best suggestions for [specific topic], could you please show me [specific file or function]?\\\\\\"","FD":"\\\\n\\\\nAdditional context about the code being reviewed:\\\\n${description}\\\\n\\\\nHere is the task that will be shown to the developer being reviewed:\\\\n\\"\\"\\"\\\\n${studentTask}\\\\n\\"\\"\\"\\\\n\\\\nIMPORTANT: This context is for background understanding only. Do NOT assume these features or files are currently visible. Always ask the developer to show you specific code before discussing it. Only provide suggestions about code you can actually see on their screen.","gp":"\\\\n\\\\nRemember that you\'re reviewing code for a ${level} level developer, so adjust your suggestions and feedback style accordingly.\\\\n\\\\nFor a junior developer: Be supportive and educational with your suggestions. Use line numbers to show exactly where improvements can be made and explain why.\\\\nFor an intermediate developer: Provide balanced suggestions with higher expectations. Reference specific line numbers to suggest design patterns and best practices.\\\\nFor a senior developer: Offer sophisticated suggestions with precise line-by-line analysis\\\\n- Focus on architectural improvements that enhance the codebase with exact locations\\\\n- Acknowledge good approaches before suggesting optimizations, citing specific lines\\\\n- Provide detailed suggestions with line number examples\\\\n- If the developer needs guidance, offer specific improvement suggestions with line number examples","Vv":"\\\\n\\\\nYou\'re reviewing a GitHub repository, so the project may have multiple files. However, you should ONLY discuss code that is currently visible on screen. When you want to provide suggestions about different aspects of the project:\\\\n- Ask to see specific files: \\\\\\"Could you show me the [filename] file?\\\\\\"\\\\n- Request navigation to different components: \\\\\\"I\'d like to see how [feature] is implemented. Could you open that file?\\\\\\"\\\\n- Only provide suggestions about files and line numbers you can actually see\\\\n- If you want to suggest improvements to project structure, first ask to see the relevant files\\\\n- Always include file paths and line numbers when providing suggestions, but only for code currently visible on screen"},"jM":{"junior":"Focus on fundamental improvement suggestions with specific line references, but ONLY for code you can see:\\\\n- Ask to see relevant files first: \\\\\\"Could you show me the main file we\'ll be reviewing?\\\\\\"\\\\n- Code readability improvements (suggest specific changes to lines that are visible)\\\\n- Proper variable and function naming suggestions (cite exact line numbers you can see with better alternatives)\\\\n- Basic error handling improvements (suggest specific implementation changes with visible line references)\\\\n- Code style and formatting suggestions (mention specific visible lines with improvement recommendations)\\\\n- Simple design pattern suggestions and their implementation (show exact line examples with improvements from visible code)\\\\n- Documentation and commenting suggestions (point to specific visible lines needing better comments)\\\\n- If assignment mentions features not visible, ask: \\\\\\"I\'d like to help with [feature]. Could you show me that code?\\\\\\"","intermediate":"Focus on intermediate-level improvement suggestions with precise code locations, but ONLY for visible code:\\\\n- Ask to see specific implementations: \\\\\\"Could you show me how [feature] is implemented?\\\\\\"\\\\n- Design pattern improvement suggestions (reference specific visible implementation lines with better alternatives)\\\\n- Performance optimization suggestions (cite specific visible lines that could be improved)\\\\n- Code reusability and modularity improvements (point to exact visible lines with refactoring suggestions)\\\\n- Testing strategy suggestions (reference specific visible lines needing tests with examples)\\\\n- Advanced error handling improvement suggestions (show specific visible line examples with better approaches)\\\\n- API design improvement suggestions (cite exact visible interface or method lines with enhancements)\\\\n- If you need to see different files for broader suggestions, ask the developer to navigate to them first","senior":"Focus on advanced improvement suggestions with detailed line-by-line analysis, but ONLY for visible code:\\\\n- Ask to see architectural components: \\\\\\"To provide architectural suggestions, could you show me [specific files or components]?\\\\\\"\\\\n- Overall architecture and system design improvements (reference specific visible implementation lines with suggestions)\\\\n- Scalability enhancement suggestions (cite specific visible lines with scalability improvements)\\\\n- Advanced design pattern implementation suggestions (show exact visible line examples with sophisticated alternatives)\\\\n- Performance optimization technique suggestions (point to specific visible lines with optimization strategies)\\\\n- Security improvement suggestions (reference specific visible vulnerable code lines with secure alternatives)\\\\n- Technical debt reduction suggestions (cite specific visible lines with refactoring recommendations)\\\\n- When suggesting cross-file improvements, first ask to see the relevant files before making specific recommendations","default":"Focus on general code quality improvement suggestions with specific line references, but ONLY for visible code:\\\\n- Ask to see the code first: \\\\\\"Could you show me the main file you\'d like me to review?\\\\\\"\\\\n- Code structure and organization improvements (cite specific visible lines with better organization suggestions)\\\\n- Performance enhancement suggestions (reference specific visible lines that could impact performance with improvements)\\\\n- Best practices implementation suggestions (show exact visible line examples with better approaches)\\\\n- Readability and maintainability improvements (point to specific visible lines with enhancement suggestions)\\\\n- If the assignment mentions functionality not currently visible, ask to see it before providing suggestions"},"Kr":{"r":"Hi! I\'m your AI code reviewer. Let\'s take a look at your code together and I\'ll provide some specific suggestions for improvement.","B":"Unfortunately, we\'re out of time for this review. Thanks for the great session, and have a wonderful day!"}}')}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}n.m=e,(()=>{var e="function"===typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",t="function"===typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",r="function"===typeof Symbol?Symbol("webpack error"):"__webpack_error__",o=e=>{e&&e.d<1&&(e.d=1,e.forEach((e=>e.r--)),e.forEach((e=>e.r--?e.r++:e())))};n.a=(n,i,s)=>{var a;s&&((a=[]).d=-1);var l,u,c,d=new Set,f=n.exports,h=new Promise(((e,t)=>{c=t,u=e}));h[t]=f,h[e]=e=>(a&&e(a),d.forEach(e),h.catch((e=>{}))),n.exports=h,i((n=>{var i;l=(n=>n.map((n=>{if(null!==n&&"object"===typeof n){if(n[e])return n;if(n.then){var i=[];i.d=0,n.then((e=>{s[t]=e,o(i)}),(e=>{s[r]=e,o(i)}));var s={};return s[e]=e=>e(i),s}}var a={};return a[e]=e=>{},a[t]=n,a})))(n);var s=()=>l.map((e=>{if(e[r])throw e[r];return e[t]})),u=new Promise((t=>{(i=()=>t(s)).r=0;var n=e=>e!==a&&!d.has(e)&&(d.add(e),e&&!e.d&&(i.r++,e.push(i)));l.map((t=>t[e](n)))}));return i.r?u:s()}),(e=>(e?c(h[r]=e):u(f),o(a)))),a&&a.d<0&&(a.d=0)}})(),n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,o){if(1&o&&(r=this(r)),8&o)return r;if("object"===typeof r&&r){if(4&o&&r.__esModule)return r;if(16&o&&"function"===typeof r.then)return r}var i=Object.create(null);n.r(i);var s={};e=e||[null,t({}),t([]),t(t)];for(var a=2&o&&r;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((e=>s[e]=()=>r[e]));return s.default=()=>r,n.d(i,s),i}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>"static/js/"+e+"."+{198:"f30e1215",453:"030a6035"}[e]+".chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="multimodal-live-api-web-console:";n.l=(r,o,i,s)=>{if(e[r])e[r].push(o);else{var a,l;if(void 0!==i)for(var u=document.getElementsByTagName("script"),c=0;c<u.length;c++){var d=u[c];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+i){a=d;break}}a||(l=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,n.nc&&a.setAttribute("nonce",n.nc),a.setAttribute("data-webpack",t+i),a.src=r),e[r]=[o];var f=(t,n)=>{a.onerror=a.onload=null,clearTimeout(h);var o=e[r];if(delete e[r],a.parentNode&&a.parentNode.removeChild(a),o&&o.forEach((e=>e(n))),t)return t(n)},h=setTimeout(f.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=f.bind(null,a.onerror),a.onload=f.bind(null,a.onload),l&&document.head.appendChild(a)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),n.p="/Code-review-simulator/",(()=>{var e={792:0};n.f.j=(t,r)=>{var o=n.o(e,t)?e[t]:void 0;if(0!==o)if(o)r.push(o[2]);else{var i=new Promise(((n,r)=>o=e[t]=[n,r]));r.push(o[2]=i);var s=n.p+n.u(t),a=new Error;n.l(s,(r=>{if(n.o(e,t)&&(0!==(o=e[t])&&(e[t]=void 0),o)){var i=r&&("load"===r.type?"missing":r.type),s=r&&r.target&&r.target.src;a.message="Loading chunk "+t+" failed.\n("+i+": "+s+")",a.name="ChunkLoadError",a.type=i,a.request=s,o[1](a)}}),"chunk-"+t,t)}};var t=(t,r)=>{var o,i,s=r[0],a=r[1],l=r[2],u=0;if(s.some((t=>0!==e[t]))){for(o in a)n.o(a,o)&&(n.m[o]=a[o]);if(l)l(n)}for(t&&t(r);u<s.length;u++)i=s[u],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0},r=self.webpackChunkmultimodal_live_api_web_console=self.webpackChunkmultimodal_live_api_web_console||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();n(2974)})();
//# sourceMappingURL=main.a1b09f83.js.map